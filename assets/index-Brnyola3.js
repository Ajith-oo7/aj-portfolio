var p2=t=>{throw TypeError(t)};var Nb=(t,e,n)=>e.has(t)||p2("Cannot "+n);var Pe=(t,e,n)=>(Nb(t,e,"read from private field"),n?n.call(t):e.get(t)),an=(t,e,n)=>e.has(t)?p2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zt=(t,e,n,r)=>(Nb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Or=(t,e,n)=>(Nb(t,e,"access private method"),n);var Fv=(t,e,n,r)=>({set _(i){zt(t,e,i,n)},get _(){return Pe(t,e,r)}});function i6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ET(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gO={exports:{}},e_={},vO={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=Symbol.for("react.element"),o6=Symbol.for("react.portal"),a6=Symbol.for("react.fragment"),l6=Symbol.for("react.strict_mode"),c6=Symbol.for("react.profiler"),u6=Symbol.for("react.provider"),d6=Symbol.for("react.context"),h6=Symbol.for("react.forward_ref"),f6=Symbol.for("react.suspense"),p6=Symbol.for("react.memo"),m6=Symbol.for("react.lazy"),m2=Symbol.iterator;function g6(t){return t===null||typeof t!="object"?null:(t=m2&&t[m2]||t["@@iterator"],typeof t=="function"?t:null)}var yO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xO=Object.assign,_O={};function Wh(t,e,n){this.props=t,this.context=e,this.refs=_O,this.updater=n||yO}Wh.prototype.isReactComponent={};Wh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wO(){}wO.prototype=Wh.prototype;function MT(t,e,n){this.props=t,this.context=e,this.refs=_O,this.updater=n||yO}var TT=MT.prototype=new wO;TT.constructor=MT;xO(TT,Wh.prototype);TT.isPureReactComponent=!0;var g2=Array.isArray,bO=Object.prototype.hasOwnProperty,AT={current:null},SO={key:!0,ref:!0,__self:!0,__source:!0};function EO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bO.call(e,r)&&!SO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:og,type:t,key:s,ref:o,props:i,_owner:AT.current}}function v6(t,e){return{$$typeof:og,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function CT(t){return typeof t=="object"&&t!==null&&t.$$typeof===og}function y6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v2=/\/+/g;function Lb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y6(""+t.key):e.toString(36)}function v0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case og:case o6:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lb(o,0):r,g2(i)?(n="",t!=null&&(n=t.replace(v2,"$&/")+"/"),v0(i,e,n,"",function(c){return c})):i!=null&&(CT(i)&&(i=v6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(v2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",g2(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lb(s,a);o+=v0(s,e,n,l,i)}else if(l=g6(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lb(s,a++),o+=v0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uv(t,e,n){if(t==null)return t;var r=[],i=0;return v0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function x6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hi={current:null},y0={transition:null},_6={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:y0,ReactCurrentOwner:AT};function MO(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:Uv,forEach:function(t,e,n){Uv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uv(t,function(){e++}),e},toArray:function(t){return Uv(t,function(e){return e})||[]},only:function(t){if(!CT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=Wh;$t.Fragment=a6;$t.Profiler=c6;$t.PureComponent=MT;$t.StrictMode=l6;$t.Suspense=f6;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_6;$t.act=MO;$t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=AT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bO.call(e,l)&&!SO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:og,type:t.type,key:i,ref:s,props:r,_owner:o}};$t.createContext=function(t){return t={$$typeof:d6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u6,_context:t},t.Consumer=t};$t.createElement=EO;$t.createFactory=function(t){var e=EO.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:h6,render:t}};$t.isValidElement=CT;$t.lazy=function(t){return{$$typeof:m6,_payload:{_status:-1,_result:t},_init:x6}};$t.memo=function(t,e){return{$$typeof:p6,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=y0.transition;y0.transition={};try{t()}finally{y0.transition=e}};$t.unstable_act=MO;$t.useCallback=function(t,e){return hi.current.useCallback(t,e)};$t.useContext=function(t){return hi.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return hi.current.useDeferredValue(t)};$t.useEffect=function(t,e){return hi.current.useEffect(t,e)};$t.useId=function(){return hi.current.useId()};$t.useImperativeHandle=function(t,e,n){return hi.current.useImperativeHandle(t,e,n)};$t.useInsertionEffect=function(t,e){return hi.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return hi.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return hi.current.useMemo(t,e)};$t.useReducer=function(t,e,n){return hi.current.useReducer(t,e,n)};$t.useRef=function(t){return hi.current.useRef(t)};$t.useState=function(t){return hi.current.useState(t)};$t.useSyncExternalStore=function(t,e,n){return hi.current.useSyncExternalStore(t,e,n)};$t.useTransition=function(){return hi.current.useTransition()};$t.version="18.3.1";vO.exports=$t;var T=vO.exports;const Ce=ET(T),TO=i6({__proto__:null,default:Ce},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6=T,b6=Symbol.for("react.element"),S6=Symbol.for("react.fragment"),E6=Object.prototype.hasOwnProperty,M6=w6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T6={key:!0,ref:!0,__self:!0,__source:!0};function AO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)E6.call(e,r)&&!T6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b6,type:t,key:s,ref:o,props:i,_owner:M6.current}}e_.Fragment=S6;e_.jsx=AO;e_.jsxs=AO;gO.exports=e_;var S=gO.exports,CO={exports:{}},Zi={},PO={exports:{}},RO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var U=F.length;F.push(j);e:for(;0<U;){var $=U-1>>>1,re=F[$];if(0<i(re,j))F[$]=j,F[U]=re,U=$;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],U=F.pop();if(U!==j){F[0]=U;e:for(var $=0,re=F.length,Y=re>>>1;$<Y;){var ue=2*($+1)-1,Me=F[ue],be=ue+1,Se=F[be];if(0>i(Me,U))be<re&&0>i(Se,Me)?(F[$]=Se,F[be]=U,$=be):(F[$]=Me,F[ue]=U,$=ue);else if(be<re&&0>i(Se,U))F[$]=Se,F[be]=U,$=be;else break e}}return j}function i(F,j){var U=F.sortIndex-j.sortIndex;return U!==0?U:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function M(F){if(x=!1,b(F),!v)if(n(l)!==null)v=!0,J(C);else{var j=n(c);j!==null&&ne(M,j.startTime-F)}}function C(F,j){v=!1,x&&(x=!1,g(O),O=-1),m=!0;var U=p;try{for(b(j),h=n(l);h!==null&&(!(h.expirationTime>j)||F&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var re=$(h.expirationTime<=j);j=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),b(j)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var ue=n(c);ue!==null&&ne(M,ue.startTime-j),Y=!1}return Y}finally{h=null,p=U,m=!1}}var P=!1,R=null,O=-1,k=5,L=-1;function z(){return!(t.unstable_now()-L<k)}function G(){if(R!==null){var F=t.unstable_now();L=F;var j=!0;try{j=R(!0,F)}finally{j?te():(P=!1,R=null)}}else P=!1}var te;if(typeof w=="function")te=function(){w(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=G,te=function(){Z.postMessage(null)}}else te=function(){y(G,0)};function J(F){R=F,P||(P=!0,te())}function ne(F,j){O=y(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var U=p;p=j;try{return F()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=p;p=F;try{return j()}finally{p=U}},t.unstable_scheduleCallback=function(F,j,U){var $=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,F={id:u++,callback:j,priorityLevel:F,startTime:U,expirationTime:re,sortIndex:-1},U>$?(F.sortIndex=U,e(c,F),n(l)===null&&F===n(c)&&(x?(g(O),O=-1):x=!0,ne(M,U-$))):(F.sortIndex=re,e(l,F),v||m||(v=!0,J(C))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var U=p;p=j;try{return F.apply(this,arguments)}finally{p=U}}}})(RO);PO.exports=RO;var A6=PO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6=T,Yi=A6;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kO=new Set,Hp={};function xu(t,e){bh(t,e),bh(t+"Capture",e)}function bh(t,e){for(Hp[t]=e,t=0;t<e.length;t++)kO.add(e[t])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=Object.prototype.hasOwnProperty,P6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y2={},x2={};function R6(t){return z1.call(x2,t)?!0:z1.call(y2,t)?!1:P6.test(t)?x2[t]=!0:(y2[t]=!0,!1)}function k6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N6(t,e,n,r){if(e===null||typeof e>"u"||k6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rr[t]=new fi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rr[e]=new fi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rr[t]=new fi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rr[t]=new fi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rr[t]=new fi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rr[t]=new fi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rr[t]=new fi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rr[t]=new fi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rr[t]=new fi(t,5,!1,t.toLowerCase(),null,!1,!1)});var PT=/[\-:]([a-z])/g;function RT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PT,RT);Rr[e]=new fi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PT,RT);Rr[e]=new fi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PT,RT);Rr[e]=new fi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rr[t]=new fi(t,1,!1,t.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rr[t]=new fi(t,1,!1,t.toLowerCase(),null,!0,!0)});function kT(t,e,n,r){var i=Rr.hasOwnProperty(e)?Rr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N6(e,n,i,r)&&(n=null),r||i===null?R6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ta=C6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zv=Symbol.for("react.element"),Pd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),NT=Symbol.for("react.strict_mode"),B1=Symbol.for("react.profiler"),NO=Symbol.for("react.provider"),LO=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),V1=Symbol.for("react.suspense_list"),IT=Symbol.for("react.memo"),el=Symbol.for("react.lazy"),IO=Symbol.for("react.offscreen"),_2=Symbol.iterator;function Pf(t){return t===null||typeof t!="object"?null:(t=_2&&t[_2]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,Ib;function ip(t){if(Ib===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ib=e&&e[1]||""}return`
`+Ib+t}var Db=!1;function Ob(t,e){if(!t||Db)return"";Db=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Db=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ip(t):""}function L6(t){switch(t.tag){case 5:return ip(t.type);case 16:return ip("Lazy");case 13:return ip("Suspense");case 19:return ip("SuspenseList");case 0:case 2:case 15:return t=Ob(t.type,!1),t;case 11:return t=Ob(t.type.render,!1),t;case 1:return t=Ob(t.type,!0),t;default:return""}}function H1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rd:return"Fragment";case Pd:return"Portal";case B1:return"Profiler";case NT:return"StrictMode";case j1:return"Suspense";case V1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LO:return(t.displayName||"Context")+".Consumer";case NO:return(t._context.displayName||"Context")+".Provider";case LT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case IT:return e=t.displayName||null,e!==null?e:H1(t.type)||"Memo";case el:e=t._payload,t=t._init;try{return H1(t(e))}catch{}}return null}function I6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H1(e);case 8:return e===NT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D6(t){var e=DO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bv(t){t._valueTracker||(t._valueTracker=D6(t))}function OO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Y0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function W1(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FO(t,e){e=e.checked,e!=null&&kT(t,"checked",e,!1)}function G1(t,e){FO(t,e);var n=Rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$1(t,e.type,n):e.hasOwnProperty("defaultValue")&&$1(t,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $1(t,e,n){(e!=="number"||Y0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sp=Array.isArray;function Qd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function X1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(sp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rl(n)}}function UO(t,e){var n=Rl(e.value),r=Rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jv,BO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jv=jv||document.createElement("div"),jv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O6=["Webkit","ms","Moz","O"];Object.keys(yp).forEach(function(t){O6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yp[e]=yp[t]})});function jO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yp.hasOwnProperty(t)&&yp[t]?(""+e).trim():e+"px"}function VO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var F6=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y1(t,e){if(e){if(F6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function K1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=null;function DT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var J1=null,eh=null,th=null;function M2(t){if(t=cg(t)){if(typeof J1!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=s_(e),J1(t.stateNode,t.type,e))}}function HO(t){eh?th?th.push(t):th=[t]:eh=t}function WO(){if(eh){var t=eh,e=th;if(th=eh=null,M2(t),e)for(t=0;t<e.length;t++)M2(e[t])}}function GO(t,e){return t(e)}function $O(){}var Fb=!1;function XO(t,e,n){if(Fb)return t(e,n);Fb=!0;try{return GO(t,e,n)}finally{Fb=!1,(eh!==null||th!==null)&&($O(),WO())}}function Gp(t,e){var n=t.stateNode;if(n===null)return null;var r=s_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var Q1=!1;if(pa)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){Q1=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{Q1=!1}function U6(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xp=!1,K0=null,Z0=!1,eE=null,z6={onError:function(t){xp=!0,K0=t}};function B6(t,e,n,r,i,s,o,a,l){xp=!1,K0=null,U6.apply(z6,arguments)}function j6(t,e,n,r,i,s,o,a,l){if(B6.apply(this,arguments),xp){if(xp){var c=K0;xp=!1,K0=null}else throw Error(Ue(198));Z0||(Z0=!0,eE=c)}}function _u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T2(t){if(_u(t)!==t)throw Error(Ue(188))}function V6(t){var e=t.alternate;if(!e){if(e=_u(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return T2(i),t;if(s===r)return T2(i),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function YO(t){return t=V6(t),t!==null?KO(t):null}function KO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KO(t);if(e!==null)return e;t=t.sibling}return null}var ZO=Yi.unstable_scheduleCallback,A2=Yi.unstable_cancelCallback,H6=Yi.unstable_shouldYield,W6=Yi.unstable_requestPaint,Jn=Yi.unstable_now,G6=Yi.unstable_getCurrentPriorityLevel,OT=Yi.unstable_ImmediatePriority,JO=Yi.unstable_UserBlockingPriority,J0=Yi.unstable_NormalPriority,$6=Yi.unstable_LowPriority,QO=Yi.unstable_IdlePriority,t_=null,So=null;function X6(t){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(t_,t,void 0,(t.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:K6,q6=Math.log,Y6=Math.LN2;function K6(t){return t>>>=0,t===0?32:31-(q6(t)/Y6|0)|0}var Vv=64,Hv=4194304;function op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Q0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=op(a):(s&=o,s!==0&&(r=op(s)))}else o=n&~i,o!==0?r=op(o):s!==0&&(r=op(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ws(e),i=1<<n,r|=t[n],e&=~i;return r}function Z6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ws(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Z6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e3(){var t=Vv;return Vv<<=1,!(Vv&4194240)&&(Vv=64),t}function Ub(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ag(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ws(e),t[e]=n}function Q6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ws(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function FT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ws(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dn=0;function t3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n3,UT,r3,i3,s3,nE=!1,Wv=[],vl=null,yl=null,xl=null,$p=new Map,Xp=new Map,rl=[],eW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(t,e){switch(t){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":$p.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(e.pointerId)}}function kf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cg(e),e!==null&&UT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tW(t,e,n,r,i){switch(e){case"focusin":return vl=kf(vl,t,e,n,r,i),!0;case"dragenter":return yl=kf(yl,t,e,n,r,i),!0;case"mouseover":return xl=kf(xl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $p.set(s,kf($p.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xp.set(s,kf(Xp.get(s)||null,t,e,n,r,i)),!0}return!1}function o3(t){var e=Oc(t.target);if(e!==null){var n=_u(e);if(n!==null){if(e=n.tag,e===13){if(e=qO(n),e!==null){t.blockedOn=e,s3(t.priority,function(){r3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Z1=r,n.target.dispatchEvent(r),Z1=null}else return e=cg(n),e!==null&&UT(e),t.blockedOn=n,!1;e.shift()}return!0}function P2(t,e,n){x0(t)&&n.delete(e)}function nW(){nE=!1,vl!==null&&x0(vl)&&(vl=null),yl!==null&&x0(yl)&&(yl=null),xl!==null&&x0(xl)&&(xl=null),$p.forEach(P2),Xp.forEach(P2)}function Nf(t,e){t.blockedOn===e&&(t.blockedOn=null,nE||(nE=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,nW)))}function qp(t){function e(i){return Nf(i,t)}if(0<Wv.length){Nf(Wv[0],t);for(var n=1;n<Wv.length;n++){var r=Wv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vl!==null&&Nf(vl,t),yl!==null&&Nf(yl,t),xl!==null&&Nf(xl,t),$p.forEach(e),Xp.forEach(e),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)o3(n),n.blockedOn===null&&rl.shift()}var nh=Ta.ReactCurrentBatchConfig,ex=!0;function rW(t,e,n,r){var i=dn,s=nh.transition;nh.transition=null;try{dn=1,zT(t,e,n,r)}finally{dn=i,nh.transition=s}}function iW(t,e,n,r){var i=dn,s=nh.transition;nh.transition=null;try{dn=4,zT(t,e,n,r)}finally{dn=i,nh.transition=s}}function zT(t,e,n,r){if(ex){var i=rE(t,e,n,r);if(i===null)qb(t,e,r,tx,n),C2(t,r);else if(tW(i,t,e,n,r))r.stopPropagation();else if(C2(t,r),e&4&&-1<eW.indexOf(t)){for(;i!==null;){var s=cg(i);if(s!==null&&n3(s),s=rE(t,e,n,r),s===null&&qb(t,e,r,tx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qb(t,e,r,null,n)}}var tx=null;function rE(t,e,n,r){if(tx=null,t=DT(r),t=Oc(t),t!==null)if(e=_u(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tx=t,null}function a3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G6()){case OT:return 1;case JO:return 4;case J0:case $6:return 16;case QO:return 536870912;default:return 16}default:return 16}}var pl=null,BT=null,_0=null;function l3(){if(_0)return _0;var t,e=BT,n=e.length,r,i="value"in pl?pl.value:pl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _0=i.slice(t,1<r?1-r:void 0)}function w0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gv(){return!0}function R2(){return!1}function Ji(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gv:R2,this.isPropagationStopped=R2,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gv)},persist:function(){},isPersistent:Gv}),e}var Gh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jT=Ji(Gh),lg=On({},Gh,{view:0,detail:0}),sW=Ji(lg),zb,Bb,Lf,n_=On({},lg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lf&&(Lf&&t.type==="mousemove"?(zb=t.screenX-Lf.screenX,Bb=t.screenY-Lf.screenY):Bb=zb=0,Lf=t),zb)},movementY:function(t){return"movementY"in t?t.movementY:Bb}}),k2=Ji(n_),oW=On({},n_,{dataTransfer:0}),aW=Ji(oW),lW=On({},lg,{relatedTarget:0}),jb=Ji(lW),cW=On({},Gh,{animationName:0,elapsedTime:0,pseudoElement:0}),uW=Ji(cW),dW=On({},Gh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hW=Ji(dW),fW=On({},Gh,{data:0}),N2=Ji(fW),pW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gW[t])?!!e[t]:!1}function VT(){return vW}var yW=On({},lg,{key:function(t){if(t.key){var e=pW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=w0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VT,charCode:function(t){return t.type==="keypress"?w0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?w0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xW=Ji(yW),_W=On({},n_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L2=Ji(_W),wW=On({},lg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VT}),bW=Ji(wW),SW=On({},Gh,{propertyName:0,elapsedTime:0,pseudoElement:0}),EW=Ji(SW),MW=On({},n_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TW=Ji(MW),AW=[9,13,27,32],HT=pa&&"CompositionEvent"in window,_p=null;pa&&"documentMode"in document&&(_p=document.documentMode);var CW=pa&&"TextEvent"in window&&!_p,c3=pa&&(!HT||_p&&8<_p&&11>=_p),I2=" ",D2=!1;function u3(t,e){switch(t){case"keyup":return AW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kd=!1;function PW(t,e){switch(t){case"compositionend":return d3(e);case"keypress":return e.which!==32?null:(D2=!0,I2);case"textInput":return t=e.data,t===I2&&D2?null:t;default:return null}}function RW(t,e){if(kd)return t==="compositionend"||!HT&&u3(t,e)?(t=l3(),_0=BT=pl=null,kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c3&&e.locale!=="ko"?null:e.data;default:return null}}var kW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kW[t.type]:e==="textarea"}function h3(t,e,n,r){HO(r),e=nx(e,"onChange"),0<e.length&&(n=new jT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wp=null,Yp=null;function NW(t){S3(t,0)}function r_(t){var e=Id(t);if(OO(e))return t}function LW(t,e){if(t==="change")return e}var f3=!1;if(pa){var Vb;if(pa){var Hb="oninput"in document;if(!Hb){var F2=document.createElement("div");F2.setAttribute("oninput","return;"),Hb=typeof F2.oninput=="function"}Vb=Hb}else Vb=!1;f3=Vb&&(!document.documentMode||9<document.documentMode)}function U2(){wp&&(wp.detachEvent("onpropertychange",p3),Yp=wp=null)}function p3(t){if(t.propertyName==="value"&&r_(Yp)){var e=[];h3(e,Yp,t,DT(t)),XO(NW,e)}}function IW(t,e,n){t==="focusin"?(U2(),wp=e,Yp=n,wp.attachEvent("onpropertychange",p3)):t==="focusout"&&U2()}function DW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r_(Yp)}function OW(t,e){if(t==="click")return r_(e)}function FW(t,e){if(t==="input"||t==="change")return r_(e)}function UW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xs=typeof Object.is=="function"?Object.is:UW;function Kp(t,e){if(Xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z1.call(e,i)||!Xs(t[i],e[i]))return!1}return!0}function z2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B2(t,e){var n=z2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z2(n)}}function m3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g3(){for(var t=window,e=Y0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Y0(t.document)}return e}function WT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zW(t){var e=g3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m3(n.ownerDocument.documentElement,n)){if(r!==null&&WT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=B2(n,s);var o=B2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BW=pa&&"documentMode"in document&&11>=document.documentMode,Nd=null,iE=null,bp=null,sE=!1;function j2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sE||Nd==null||Nd!==Y0(r)||(r=Nd,"selectionStart"in r&&WT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bp&&Kp(bp,r)||(bp=r,r=nx(iE,"onSelect"),0<r.length&&(e=new jT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nd)))}function $v(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ld={animationend:$v("Animation","AnimationEnd"),animationiteration:$v("Animation","AnimationIteration"),animationstart:$v("Animation","AnimationStart"),transitionend:$v("Transition","TransitionEnd")},Wb={},v3={};pa&&(v3=document.createElement("div").style,"AnimationEvent"in window||(delete Ld.animationend.animation,delete Ld.animationiteration.animation,delete Ld.animationstart.animation),"TransitionEvent"in window||delete Ld.transitionend.transition);function i_(t){if(Wb[t])return Wb[t];if(!Ld[t])return t;var e=Ld[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v3)return Wb[t]=e[n];return t}var y3=i_("animationend"),x3=i_("animationiteration"),_3=i_("animationstart"),w3=i_("transitionend"),b3=new Map,V2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(t,e){b3.set(t,e),xu(e,[t])}for(var Gb=0;Gb<V2.length;Gb++){var $b=V2[Gb],jW=$b.toLowerCase(),VW=$b[0].toUpperCase()+$b.slice(1);$l(jW,"on"+VW)}$l(y3,"onAnimationEnd");$l(x3,"onAnimationIteration");$l(_3,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(w3,"onTransitionEnd");bh("onMouseEnter",["mouseout","mouseover"]);bh("onMouseLeave",["mouseout","mouseover"]);bh("onPointerEnter",["pointerout","pointerover"]);bh("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HW=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function H2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j6(r,e,void 0,t),t.currentTarget=null}function S3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H2(i,a,c),s=l}}}if(Z0)throw t=eE,Z0=!1,eE=null,t}function bn(t,e){var n=e[uE];n===void 0&&(n=e[uE]=new Set);var r=t+"__bubble";n.has(r)||(E3(e,t,2,!1),n.add(r))}function Xb(t,e,n){var r=0;e&&(r|=4),E3(n,t,r,e)}var Xv="_reactListening"+Math.random().toString(36).slice(2);function Zp(t){if(!t[Xv]){t[Xv]=!0,kO.forEach(function(n){n!=="selectionchange"&&(HW.has(n)||Xb(n,!1,t),Xb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xv]||(e[Xv]=!0,Xb("selectionchange",!1,e))}}function E3(t,e,n,r){switch(a3(e)){case 1:var i=rW;break;case 4:i=iW;break;default:i=zT}n=i.bind(null,e,n,t),i=void 0,!Q1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qb(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XO(function(){var c=s,u=DT(n),h=[];e:{var p=b3.get(t);if(p!==void 0){var m=jT,v=t;switch(t){case"keypress":if(w0(n)===0)break e;case"keydown":case"keyup":m=xW;break;case"focusin":v="focus",m=jb;break;case"focusout":v="blur",m=jb;break;case"beforeblur":case"afterblur":m=jb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=k2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bW;break;case y3:case x3:case _3:m=uW;break;case w3:m=EW;break;case"scroll":m=sW;break;case"wheel":m=TW;break;case"copy":case"cut":case"paste":m=hW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=L2}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var w=c,b;w!==null;){b=w;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,g!==null&&(M=Gp(w,g),M!=null&&x.push(Jp(w,M,b)))),y)break;w=w.return}0<x.length&&(p=new m(p,v,null,n,u),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Z1&&(v=n.relatedTarget||n.fromElement)&&(Oc(v)||v[ma]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Oc(v):null,v!==null&&(y=_u(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=k2,M="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=L2,M="onPointerLeave",g="onPointerEnter",w="pointer"),y=m==null?p:Id(m),b=v==null?p:Id(v),p=new x(M,w+"leave",m,n,u),p.target=y,p.relatedTarget=b,M=null,Oc(u)===c&&(x=new x(g,w+"enter",v,n,u),x.target=b,x.relatedTarget=y,M=x),y=M,m&&v)t:{for(x=m,g=v,w=0,b=x;b;b=qu(b))w++;for(b=0,M=g;M;M=qu(M))b++;for(;0<w-b;)x=qu(x),w--;for(;0<b-w;)g=qu(g),b--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=qu(x),g=qu(g)}x=null}else x=null;m!==null&&W2(h,p,m,x,!1),v!==null&&y!==null&&W2(h,y,v,x,!0)}}e:{if(p=c?Id(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=LW;else if(O2(p))if(f3)C=FW;else{C=DW;var P=IW}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=OW);if(C&&(C=C(t,c))){h3(h,C,n,u);break e}P&&P(t,p,c),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&$1(p,"number",p.value)}switch(P=c?Id(c):window,t){case"focusin":(O2(P)||P.contentEditable==="true")&&(Nd=P,iE=c,bp=null);break;case"focusout":bp=iE=Nd=null;break;case"mousedown":sE=!0;break;case"contextmenu":case"mouseup":case"dragend":sE=!1,j2(h,n,u);break;case"selectionchange":if(BW)break;case"keydown":case"keyup":j2(h,n,u)}var R;if(HT)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else kd?u3(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(c3&&n.locale!=="ko"&&(kd||O!=="onCompositionStart"?O==="onCompositionEnd"&&kd&&(R=l3()):(pl=u,BT="value"in pl?pl.value:pl.textContent,kd=!0)),P=nx(c,O),0<P.length&&(O=new N2(O,t,null,n,u),h.push({event:O,listeners:P}),R?O.data=R:(R=d3(n),R!==null&&(O.data=R)))),(R=CW?PW(t,n):RW(t,n))&&(c=nx(c,"onBeforeInput"),0<c.length&&(u=new N2("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=R))}S3(h,e)})}function Jp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gp(t,n),s!=null&&r.unshift(Jp(t,s,i)),s=Gp(t,e),s!=null&&r.push(Jp(t,s,i))),t=t.return}return r}function qu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function W2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gp(n,s),l!=null&&o.unshift(Jp(n,l,a))):i||(l=Gp(n,s),l!=null&&o.push(Jp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WW=/\r\n?/g,GW=/\u0000|\uFFFD/g;function G2(t){return(typeof t=="string"?t:""+t).replace(WW,`
`).replace(GW,"")}function qv(t,e,n){if(e=G2(e),G2(t)!==e&&n)throw Error(Ue(425))}function rx(){}var oE=null,aE=null;function lE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cE=typeof setTimeout=="function"?setTimeout:void 0,$W=typeof clearTimeout=="function"?clearTimeout:void 0,$2=typeof Promise=="function"?Promise:void 0,XW=typeof queueMicrotask=="function"?queueMicrotask:typeof $2<"u"?function(t){return $2.resolve(null).then(t).catch(qW)}:cE;function qW(t){setTimeout(function(){throw t})}function Yb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qp(e)}function _l(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $h=Math.random().toString(36).slice(2),xo="__reactFiber$"+$h,Qp="__reactProps$"+$h,ma="__reactContainer$"+$h,uE="__reactEvents$"+$h,YW="__reactListeners$"+$h,KW="__reactHandles$"+$h;function Oc(t){var e=t[xo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ma]||n[xo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X2(t);t!==null;){if(n=t[xo])return n;t=X2(t)}return e}t=n,n=t.parentNode}return null}function cg(t){return t=t[xo]||t[ma],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Id(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function s_(t){return t[Qp]||null}var dE=[],Dd=-1;function Xl(t){return{current:t}}function Sn(t){0>Dd||(t.current=dE[Dd],dE[Dd]=null,Dd--)}function yn(t,e){Dd++,dE[Dd]=t.current,t.current=e}var kl={},Yr=Xl(kl),Ai=Xl(!1),su=kl;function Sh(t,e){var n=t.type.contextTypes;if(!n)return kl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ci(t){return t=t.childContextTypes,t!=null}function ix(){Sn(Ai),Sn(Yr)}function q2(t,e,n){if(Yr.current!==kl)throw Error(Ue(168));yn(Yr,e),yn(Ai,n)}function M3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,I6(t)||"Unknown",i));return On({},n,r)}function sx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kl,su=Yr.current,yn(Yr,t),yn(Ai,Ai.current),!0}function Y2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=M3(t,e,su),r.__reactInternalMemoizedMergedChildContext=t,Sn(Ai),Sn(Yr),yn(Yr,t)):Sn(Ai),yn(Ai,n)}var ia=null,o_=!1,Kb=!1;function T3(t){ia===null?ia=[t]:ia.push(t)}function ZW(t){o_=!0,T3(t)}function ql(){if(!Kb&&ia!==null){Kb=!0;var t=0,e=dn;try{var n=ia;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ia=null,o_=!1}catch(i){throw ia!==null&&(ia=ia.slice(t+1)),ZO(OT,ql),i}finally{dn=e,Kb=!1}}return null}var Od=[],Fd=0,ox=null,ax=0,ms=[],gs=0,ou=null,aa=1,la="";function Tc(t,e){Od[Fd++]=ax,Od[Fd++]=ox,ox=t,ax=e}function A3(t,e,n){ms[gs++]=aa,ms[gs++]=la,ms[gs++]=ou,ou=t;var r=aa;t=la;var i=32-Ws(r)-1;r&=~(1<<i),n+=1;var s=32-Ws(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,aa=1<<32-Ws(e)+i|n<<i|r,la=s+t}else aa=1<<s|n<<i|r,la=t}function GT(t){t.return!==null&&(Tc(t,1),A3(t,1,0))}function $T(t){for(;t===ox;)ox=Od[--Fd],Od[Fd]=null,ax=Od[--Fd],Od[Fd]=null;for(;t===ou;)ou=ms[--gs],ms[gs]=null,la=ms[--gs],ms[gs]=null,aa=ms[--gs],ms[gs]=null}var Gi=null,Wi=null,An=!1,Us=null;function C3(t,e){var n=vs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function K2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,Wi=_l(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,Wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ou!==null?{id:aa,overflow:la}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gi=t,Wi=null,!0):!1;default:return!1}}function hE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fE(t){if(An){var e=Wi;if(e){var n=e;if(!K2(t,e)){if(hE(t))throw Error(Ue(418));e=_l(n.nextSibling);var r=Gi;e&&K2(t,e)?C3(r,n):(t.flags=t.flags&-4097|2,An=!1,Gi=t)}}else{if(hE(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,An=!1,Gi=t}}}function Z2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function Yv(t){if(t!==Gi)return!1;if(!An)return Z2(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lE(t.type,t.memoizedProps)),e&&(e=Wi)){if(hE(t))throw P3(),Error(Ue(418));for(;e;)C3(t,e),e=_l(e.nextSibling)}if(Z2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wi=_l(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wi=null}}else Wi=Gi?_l(t.stateNode.nextSibling):null;return!0}function P3(){for(var t=Wi;t;)t=_l(t.nextSibling)}function Eh(){Wi=Gi=null,An=!1}function XT(t){Us===null?Us=[t]:Us.push(t)}var JW=Ta.ReactCurrentBatchConfig;function If(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function Kv(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J2(t){var e=t._init;return e(t._payload)}function R3(t){function e(g,w){if(t){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=El(g,w),g.index=0,g.sibling=null,g}function s(g,w,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,b,M){return w===null||w.tag!==6?(w=rS(b,g.mode,M),w.return=g,w):(w=i(w,b),w.return=g,w)}function l(g,w,b,M){var C=b.type;return C===Rd?u(g,w,b.props.children,M,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===el&&J2(C)===w.type)?(M=i(w,b.props),M.ref=If(g,w,b),M.return=g,M):(M=C0(b.type,b.key,b.props,null,g.mode,M),M.ref=If(g,w,b),M.return=g,M)}function c(g,w,b,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=iS(b,g.mode,M),w.return=g,w):(w=i(w,b.children||[]),w.return=g,w)}function u(g,w,b,M,C){return w===null||w.tag!==7?(w=Zc(b,g.mode,M,C),w.return=g,w):(w=i(w,b),w.return=g,w)}function h(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rS(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zv:return b=C0(w.type,w.key,w.props,null,g.mode,b),b.ref=If(g,null,w),b.return=g,b;case Pd:return w=iS(w,g.mode,b),w.return=g,w;case el:var M=w._init;return h(g,M(w._payload),b)}if(sp(w)||Pf(w))return w=Zc(w,g.mode,b,null),w.return=g,w;Kv(g,w)}return null}function p(g,w,b,M){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(g,w,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zv:return b.key===C?l(g,w,b,M):null;case Pd:return b.key===C?c(g,w,b,M):null;case el:return C=b._init,p(g,w,C(b._payload),M)}if(sp(b)||Pf(b))return C!==null?null:u(g,w,b,M,null);Kv(g,b)}return null}function m(g,w,b,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(b)||null,a(w,g,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case zv:return g=g.get(M.key===null?b:M.key)||null,l(w,g,M,C);case Pd:return g=g.get(M.key===null?b:M.key)||null,c(w,g,M,C);case el:var P=M._init;return m(g,w,b,P(M._payload),C)}if(sp(M)||Pf(M))return g=g.get(b)||null,u(w,g,M,C,null);Kv(w,M)}return null}function v(g,w,b,M){for(var C=null,P=null,R=w,O=w=0,k=null;R!==null&&O<b.length;O++){R.index>O?(k=R,R=null):k=R.sibling;var L=p(g,R,b[O],M);if(L===null){R===null&&(R=k);break}t&&R&&L.alternate===null&&e(g,R),w=s(L,w,O),P===null?C=L:P.sibling=L,P=L,R=k}if(O===b.length)return n(g,R),An&&Tc(g,O),C;if(R===null){for(;O<b.length;O++)R=h(g,b[O],M),R!==null&&(w=s(R,w,O),P===null?C=R:P.sibling=R,P=R);return An&&Tc(g,O),C}for(R=r(g,R);O<b.length;O++)k=m(R,g,O,b[O],M),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?O:k.key),w=s(k,w,O),P===null?C=k:P.sibling=k,P=k);return t&&R.forEach(function(z){return e(g,z)}),An&&Tc(g,O),C}function x(g,w,b,M){var C=Pf(b);if(typeof C!="function")throw Error(Ue(150));if(b=C.call(b),b==null)throw Error(Ue(151));for(var P=C=null,R=w,O=w=0,k=null,L=b.next();R!==null&&!L.done;O++,L=b.next()){R.index>O?(k=R,R=null):k=R.sibling;var z=p(g,R,L.value,M);if(z===null){R===null&&(R=k);break}t&&R&&z.alternate===null&&e(g,R),w=s(z,w,O),P===null?C=z:P.sibling=z,P=z,R=k}if(L.done)return n(g,R),An&&Tc(g,O),C;if(R===null){for(;!L.done;O++,L=b.next())L=h(g,L.value,M),L!==null&&(w=s(L,w,O),P===null?C=L:P.sibling=L,P=L);return An&&Tc(g,O),C}for(R=r(g,R);!L.done;O++,L=b.next())L=m(R,g,O,L.value,M),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?O:L.key),w=s(L,w,O),P===null?C=L:P.sibling=L,P=L);return t&&R.forEach(function(G){return e(g,G)}),An&&Tc(g,O),C}function y(g,w,b,M){if(typeof b=="object"&&b!==null&&b.type===Rd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zv:e:{for(var C=b.key,P=w;P!==null;){if(P.key===C){if(C=b.type,C===Rd){if(P.tag===7){n(g,P.sibling),w=i(P,b.props.children),w.return=g,g=w;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===el&&J2(C)===P.type){n(g,P.sibling),w=i(P,b.props),w.ref=If(g,P,b),w.return=g,g=w;break e}n(g,P);break}else e(g,P);P=P.sibling}b.type===Rd?(w=Zc(b.props.children,g.mode,M,b.key),w.return=g,g=w):(M=C0(b.type,b.key,b.props,null,g.mode,M),M.ref=If(g,w,b),M.return=g,g=M)}return o(g);case Pd:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(g,w.sibling),w=i(w,b.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=iS(b,g.mode,M),w.return=g,g=w}return o(g);case el:return P=b._init,y(g,w,P(b._payload),M)}if(sp(b))return v(g,w,b,M);if(Pf(b))return x(g,w,b,M);Kv(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,b),w.return=g,g=w):(n(g,w),w=rS(b,g.mode,M),w.return=g,g=w),o(g)):n(g,w)}return y}var Mh=R3(!0),k3=R3(!1),lx=Xl(null),cx=null,Ud=null,qT=null;function YT(){qT=Ud=cx=null}function KT(t){var e=lx.current;Sn(lx),t._currentValue=e}function pE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rh(t,e){cx=t,qT=Ud=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(qT!==t)if(t={context:t,memoizedValue:e,next:null},Ud===null){if(cx===null)throw Error(Ue(308));Ud=t,cx.dependencies={lanes:0,firstContext:t}}else Ud=Ud.next=t;return e}var Fc=null;function ZT(t){Fc===null?Fc=[t]:Fc.push(t)}function N3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZT(e)):(n.next=i.next,i.next=n),e.interleaved=n,ga(t,r)}function ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tl=!1;function JT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ha(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ga(t,n)}return i=r.interleaved,i===null?(e.next=e,ZT(r)):(e.next=i.next,i.next=e),r.interleaved=e,ga(t,n)}function b0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FT(t,n)}}function Q2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ux(t,e,n,r){var i=t.updateQueue;tl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(p=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=On({},h,p);break e;case 2:tl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lu|=o,t.lanes=o,t.memoizedState=h}}function ek(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var ug={},Eo=Xl(ug),em=Xl(ug),tm=Xl(ug);function Uc(t){if(t===ug)throw Error(Ue(174));return t}function QT(t,e){switch(yn(tm,e),yn(em,t),yn(Eo,ug),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:q1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=q1(e,t)}Sn(Eo),yn(Eo,e)}function Th(){Sn(Eo),Sn(em),Sn(tm)}function I3(t){Uc(tm.current);var e=Uc(Eo.current),n=q1(e,t.type);e!==n&&(yn(em,t),yn(Eo,n))}function eA(t){em.current===t&&(Sn(Eo),Sn(em))}var Nn=Xl(0);function dx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zb=[];function tA(){for(var t=0;t<Zb.length;t++)Zb[t]._workInProgressVersionPrimary=null;Zb.length=0}var S0=Ta.ReactCurrentDispatcher,Jb=Ta.ReactCurrentBatchConfig,au=0,Dn=null,lr=null,wr=null,hx=!1,Sp=!1,nm=0,QW=0;function Fr(){throw Error(Ue(321))}function nA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xs(t[n],e[n]))return!1;return!0}function rA(t,e,n,r,i,s){if(au=s,Dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,S0.current=t===null||t.memoizedState===null?rG:iG,t=n(r,i),Sp){s=0;do{if(Sp=!1,nm=0,25<=s)throw Error(Ue(301));s+=1,wr=lr=null,e.updateQueue=null,S0.current=sG,t=n(r,i)}while(Sp)}if(S0.current=fx,e=lr!==null&&lr.next!==null,au=0,wr=lr=Dn=null,hx=!1,e)throw Error(Ue(300));return t}function iA(){var t=nm!==0;return nm=0,t}function mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Dn.memoizedState=wr=t:wr=wr.next=t,wr}function bs(){if(lr===null){var t=Dn.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=wr===null?Dn.memoizedState:wr.next;if(e!==null)wr=e,lr=t;else{if(t===null)throw Error(Ue(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},wr===null?Dn.memoizedState=wr=t:wr=wr.next=t}return wr}function rm(t,e){return typeof e=="function"?e(t):e}function Qb(t){var e=bs(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((au&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Dn.lanes|=u,lu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Xs(r,e.memoizedState)||(Ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Dn.lanes|=s,lu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eS(t){var e=bs(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xs(s,e.memoizedState)||(Ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function D3(){}function O3(t,e){var n=Dn,r=bs(),i=e(),s=!Xs(r.memoizedState,i);if(s&&(r.memoizedState=i,Ti=!0),r=r.queue,sA(z3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,im(9,U3.bind(null,n,r,i,e),void 0,null),br===null)throw Error(Ue(349));au&30||F3(n,e,i)}return i}function F3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U3(t,e,n,r){e.value=n,e.getSnapshot=r,B3(e)&&j3(t)}function z3(t,e,n){return n(function(){B3(e)&&j3(t)})}function B3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xs(t,n)}catch{return!0}}function j3(t){var e=ga(t,1);e!==null&&Gs(e,t,1,-1)}function tk(t){var e=mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:t},e.queue=t,t=t.dispatch=nG.bind(null,Dn,t),[e.memoizedState,t]}function im(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dn.updateQueue,e===null?(e={lastEffect:null,stores:null},Dn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V3(){return bs().memoizedState}function E0(t,e,n,r){var i=mo();Dn.flags|=t,i.memoizedState=im(1|e,n,void 0,r===void 0?null:r)}function a_(t,e,n,r){var i=bs();r=r===void 0?null:r;var s=void 0;if(lr!==null){var o=lr.memoizedState;if(s=o.destroy,r!==null&&nA(r,o.deps)){i.memoizedState=im(e,n,s,r);return}}Dn.flags|=t,i.memoizedState=im(1|e,n,s,r)}function nk(t,e){return E0(8390656,8,t,e)}function sA(t,e){return a_(2048,8,t,e)}function H3(t,e){return a_(4,2,t,e)}function W3(t,e){return a_(4,4,t,e)}function G3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $3(t,e,n){return n=n!=null?n.concat([t]):null,a_(4,4,G3.bind(null,e,t),n)}function oA(){}function X3(t,e){var n=bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q3(t,e){var n=bs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y3(t,e,n){return au&21?(Xs(n,e)||(n=e3(),Dn.lanes|=n,lu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=n)}function eG(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=Jb.transition;Jb.transition={};try{t(!1),e()}finally{dn=n,Jb.transition=r}}function K3(){return bs().memoizedState}function tG(t,e,n){var r=Sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z3(t))J3(e,n);else if(n=N3(t,e,n,r),n!==null){var i=li();Gs(n,t,r,i),Q3(n,e,r)}}function nG(t,e,n){var r=Sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z3(t))J3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xs(a,o)){var l=e.interleaved;l===null?(i.next=i,ZT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=N3(t,e,i,r),n!==null&&(i=li(),Gs(n,t,r,i),Q3(n,e,r))}}function Z3(t){var e=t.alternate;return t===Dn||e!==null&&e===Dn}function J3(t,e){Sp=hx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,FT(t,n)}}var fx={readContext:ws,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},rG={readContext:ws,useCallback:function(t,e){return mo().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:nk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,E0(4194308,4,G3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return E0(4194308,4,t,e)},useInsertionEffect:function(t,e){return E0(4,2,t,e)},useMemo:function(t,e){var n=mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tG.bind(null,Dn,t),[r.memoizedState,t]},useRef:function(t){var e=mo();return t={current:t},e.memoizedState=t},useState:tk,useDebugValue:oA,useDeferredValue:function(t){return mo().memoizedState=t},useTransition:function(){var t=tk(!1),e=t[0];return t=eG.bind(null,t[1]),mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dn,i=mo();if(An){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),br===null)throw Error(Ue(349));au&30||F3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nk(z3.bind(null,r,s,t),[t]),r.flags|=2048,im(9,U3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mo(),e=br.identifierPrefix;if(An){var n=la,r=aa;n=(r&~(1<<32-Ws(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iG={readContext:ws,useCallback:X3,useContext:ws,useEffect:sA,useImperativeHandle:$3,useInsertionEffect:H3,useLayoutEffect:W3,useMemo:q3,useReducer:Qb,useRef:V3,useState:function(){return Qb(rm)},useDebugValue:oA,useDeferredValue:function(t){var e=bs();return Y3(e,lr.memoizedState,t)},useTransition:function(){var t=Qb(rm)[0],e=bs().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:O3,useId:K3,unstable_isNewReconciler:!1},sG={readContext:ws,useCallback:X3,useContext:ws,useEffect:sA,useImperativeHandle:$3,useInsertionEffect:H3,useLayoutEffect:W3,useMemo:q3,useReducer:eS,useRef:V3,useState:function(){return eS(rm)},useDebugValue:oA,useDeferredValue:function(t){var e=bs();return lr===null?e.memoizedState=t:Y3(e,lr.memoizedState,t)},useTransition:function(){var t=eS(rm)[0],e=bs().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:O3,useId:K3,unstable_isNewReconciler:!1};function Rs(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var l_={isMounted:function(t){return(t=t._reactInternals)?_u(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=li(),i=Sl(t),s=ha(r,i);s.payload=e,n!=null&&(s.callback=n),e=wl(t,s,i),e!==null&&(Gs(e,t,i,r),b0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=li(),i=Sl(t),s=ha(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wl(t,s,i),e!==null&&(Gs(e,t,i,r),b0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=li(),r=Sl(t),i=ha(n,r);i.tag=2,e!=null&&(i.callback=e),e=wl(t,i,r),e!==null&&(Gs(e,t,r,n),b0(e,t,r))}};function rk(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kp(n,r)||!Kp(i,s):!0}function eF(t,e,n){var r=!1,i=kl,s=e.contextType;return typeof s=="object"&&s!==null?s=ws(s):(i=Ci(e)?su:Yr.current,r=e.contextTypes,s=(r=r!=null)?Sh(t,i):kl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ik(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&l_.enqueueReplaceState(e,e.state,null)}function gE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},JT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ws(s):(s=Ci(e)?su:Yr.current,i.context=Sh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&l_.enqueueReplaceState(i,i.state,null),ux(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ah(t,e){try{var n="",r=e;do n+=L6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tS(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oG=typeof WeakMap=="function"?WeakMap:Map;function tF(t,e,n){n=ha(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mx||(mx=!0,AE=r),vE(t,e)},n}function nF(t,e,n){n=ha(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vE(t,e),typeof r!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new oG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_G.bind(null,t,e,n),e.then(t,t))}function ok(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ak(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ha(-1,1),e.tag=2,wl(n,e,1))),n.lanes|=1),t)}var aG=Ta.ReactCurrentOwner,Ti=!1;function ri(t,e,n,r){e.child=t===null?k3(e,null,n,r):Mh(e,t.child,n,r)}function lk(t,e,n,r,i){n=n.render;var s=e.ref;return rh(e,i),r=rA(t,e,n,r,s,i),n=iA(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(An&&n&&GT(e),e.flags|=1,ri(t,e,r,i),e.child)}function ck(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rF(t,e,s,r,i)):(t=C0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kp,n(o,r)&&t.ref===e.ref)return va(t,e,i)}return e.flags|=1,t=El(s,r),t.ref=e.ref,t.return=e,e.child=t}function rF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kp(s,r)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,va(t,e,i)}return yE(t,e,n,r,i)}function iF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yn(Bd,ji),ji|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yn(Bd,ji),ji|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,yn(Bd,ji),ji|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,yn(Bd,ji),ji|=r;return ri(t,e,i,n),e.child}function sF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yE(t,e,n,r,i){var s=Ci(n)?su:Yr.current;return s=Sh(e,s),rh(e,i),n=rA(t,e,n,r,s,i),r=iA(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(An&&r&&GT(e),e.flags|=1,ri(t,e,n,i),e.child)}function uk(t,e,n,r,i){if(Ci(n)){var s=!0;sx(e)}else s=!1;if(rh(e,i),e.stateNode===null)M0(t,e),eF(e,n,r),gE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ws(c):(c=Ci(n)?su:Yr.current,c=Sh(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ik(e,o,r,c),tl=!1;var p=e.memoizedState;o.state=p,ux(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ai.current||tl?(typeof u=="function"&&(mE(e,n,u,r),l=e.memoizedState),(a=tl||rk(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,L3(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rs(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ws(l):(l=Ci(n)?su:Yr.current,l=Sh(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&ik(e,o,r,l),tl=!1,p=e.memoizedState,o.state=p,ux(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Ai.current||tl?(typeof m=="function"&&(mE(e,n,m,r),v=e.memoizedState),(c=tl||rk(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return xE(t,e,n,r,s,i)}function xE(t,e,n,r,i,s){sF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Y2(e,n,!1),va(t,e,s);r=e.stateNode,aG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mh(e,t.child,null,s),e.child=Mh(e,null,a,s)):ri(t,e,a,s),e.memoizedState=r.state,i&&Y2(e,n,!0),e.child}function oF(t){var e=t.stateNode;e.pendingContext?q2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q2(t,e.context,!1),QT(t,e.containerInfo)}function dk(t,e,n,r,i){return Eh(),XT(i),e.flags|=256,ri(t,e,n,r),e.child}var _E={dehydrated:null,treeContext:null,retryLane:0};function wE(t){return{baseLanes:t,cachePool:null,transitions:null}}function aF(t,e,n){var r=e.pendingProps,i=Nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yn(Nn,i&1),t===null)return fE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=d_(o,r,0,null),t=Zc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=wE(n),e.memoizedState=_E,t):aA(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=El(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=El(a,s):(s=Zc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?wE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_E,r}return s=t.child,t=s.sibling,r=El(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aA(t,e){return e=d_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zv(t,e,n,r){return r!==null&&XT(r),Mh(e,t.child,null,n),t=aA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=tS(Error(Ue(422))),Zv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=d_({mode:"visible",children:r.children},i,0,null),s=Zc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mh(e,t.child,null,o),e.child.memoizedState=wE(o),e.memoizedState=_E,s);if(!(e.mode&1))return Zv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=tS(s,r,void 0),Zv(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ti||a){if(r=br,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ga(t,i),Gs(r,t,i,-1))}return fA(),r=tS(Error(Ue(421))),Zv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wi=_l(i.nextSibling),Gi=e,An=!0,Us=null,t!==null&&(ms[gs++]=aa,ms[gs++]=la,ms[gs++]=ou,aa=t.id,la=t.overflow,ou=e),e=aA(e,r.children),e.flags|=4096,e)}function hk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pE(t.return,e,n)}function nS(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ri(t,e,r.children,n),r=Nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hk(t,n,e);else if(t.tag===19)hk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yn(Nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nS(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nS(e,!0,n,null,s);break;case"together":nS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function M0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=El(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=El(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cG(t,e,n){switch(e.tag){case 3:oF(e),Eh();break;case 5:I3(e);break;case 1:Ci(e.type)&&sx(e);break;case 4:QT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yn(lx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yn(Nn,Nn.current&1),e.flags|=128,null):n&e.child.childLanes?aF(t,e,n):(yn(Nn,Nn.current&1),t=va(t,e,n),t!==null?t.sibling:null);yn(Nn,Nn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yn(Nn,Nn.current),r)break;return null;case 22:case 23:return e.lanes=0,iF(t,e,n)}return va(t,e,n)}var cF,bE,uF,dF;cF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bE=function(){};uF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uc(Eo.current);var s=null;switch(n){case"input":i=W1(t,i),r=W1(t,r),s=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),s=[];break;case"textarea":i=X1(t,i),r=X1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rx)}Y1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Df(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uG(t,e,n){var r=e.pendingProps;switch($T(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(e),null;case 1:return Ci(e.type)&&ix(),Ur(e),null;case 3:return r=e.stateNode,Th(),Sn(Ai),Sn(Yr),tA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(RE(Us),Us=null))),bE(t,e),Ur(e),null;case 5:eA(e);var i=Uc(tm.current);if(n=e.type,t!==null&&e.stateNode!=null)uF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Ur(e),null}if(t=Uc(Eo.current),Yv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xo]=e,r[Qp]=s,t=(e.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(i=0;i<ap.length;i++)bn(ap[i],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":w2(r,s),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},bn("invalid",r);break;case"textarea":S2(r,s),bn("invalid",r)}Y1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&qv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&qv(r.textContent,a,t),i=["children",""+a]):Hp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&bn("scroll",r)}switch(n){case"input":Bv(r),b2(r,s,!0);break;case"textarea":Bv(r),E2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xo]=e,t[Qp]=r,cF(t,e,!1,!1),e.stateNode=t;e:{switch(o=K1(n,r),n){case"dialog":bn("cancel",t),bn("close",t),i=r;break;case"iframe":case"object":case"embed":bn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ap.length;i++)bn(ap[i],t);i=r;break;case"source":bn("error",t),i=r;break;case"img":case"image":case"link":bn("error",t),bn("load",t),i=r;break;case"details":bn("toggle",t),i=r;break;case"input":w2(t,r),i=W1(t,r),bn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),bn("invalid",t);break;case"textarea":S2(t,r),i=X1(t,r),bn("invalid",t);break;default:i=r}Y1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?VO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wp(t,l):typeof l=="number"&&Wp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&bn("scroll",t):l!=null&&kT(t,s,l,o))}switch(n){case"input":Bv(t),b2(t,r,!1);break;case"textarea":Bv(t),E2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ur(e),null;case 6:if(t&&e.stateNode!=null)dF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=Uc(tm.current),Uc(Eo.current),Yv(e)){if(r=e.stateNode,n=e.memoizedProps,r[xo]=e,(s=r.nodeValue!==n)&&(t=Gi,t!==null))switch(t.tag){case 3:qv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xo]=e,e.stateNode=r}return Ur(e),null;case 13:if(Sn(Nn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&Wi!==null&&e.mode&1&&!(e.flags&128))P3(),Eh(),e.flags|=98560,s=!1;else if(s=Yv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[xo]=e}else Eh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ur(e),s=!1}else Us!==null&&(RE(Us),Us=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nn.current&1?ur===0&&(ur=3):fA())),e.updateQueue!==null&&(e.flags|=4),Ur(e),null);case 4:return Th(),bE(t,e),t===null&&Zp(e.stateNode.containerInfo),Ur(e),null;case 10:return KT(e.type._context),Ur(e),null;case 17:return Ci(e.type)&&ix(),Ur(e),null;case 19:if(Sn(Nn),s=e.memoizedState,s===null)return Ur(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Df(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dx(t),o!==null){for(e.flags|=128,Df(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yn(Nn,Nn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jn()>Ch&&(e.flags|=128,r=!0,Df(s,!1),e.lanes=4194304)}else{if(!r)if(t=dx(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Df(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!An)return Ur(e),null}else 2*Jn()-s.renderingStartTime>Ch&&n!==1073741824&&(e.flags|=128,r=!0,Df(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jn(),e.sibling=null,n=Nn.current,yn(Nn,r?n&1|2:n&1),e):(Ur(e),null);case 22:case 23:return hA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ji&1073741824&&(Ur(e),e.subtreeFlags&6&&(e.flags|=8192)):Ur(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function dG(t,e){switch($T(e),e.tag){case 1:return Ci(e.type)&&ix(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Th(),Sn(Ai),Sn(Yr),tA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eA(e),null;case 13:if(Sn(Nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Eh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Nn),null;case 4:return Th(),null;case 10:return KT(e.type._context),null;case 22:case 23:return hA(),null;case 24:return null;default:return null}}var Jv=!1,Wr=!1,hG=typeof WeakSet=="function"?WeakSet:Set,et=null;function zd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vn(t,e,r)}else n.current=null}function SE(t,e,n){try{n()}catch(r){Vn(t,e,r)}}var fk=!1;function fG(t,e){if(oE=ex,t=g3(),WT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(aE={focusedElem:t,selectionRange:n},ex=!1,et=e;et!==null;)if(e=et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,et=t;else for(;et!==null;){e=et;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Rs(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(M){Vn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}return v=fk,fk=!1,v}function Ep(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&SE(e,n,s)}i=i.next}while(i!==r)}}function c_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function EE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hF(t){var e=t.alternate;e!==null&&(t.alternate=null,hF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xo],delete e[Qp],delete e[uE],delete e[YW],delete e[KW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fF(t){return t.tag===5||t.tag===3||t.tag===4}function pk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ME(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rx));else if(r!==4&&(t=t.child,t!==null))for(ME(t,e,n),t=t.sibling;t!==null;)ME(t,e,n),t=t.sibling}function TE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(TE(t,e,n),t=t.sibling;t!==null;)TE(t,e,n),t=t.sibling}var Ar=null,Ds=!1;function Ua(t,e,n){for(n=n.child;n!==null;)pF(t,e,n),n=n.sibling}function pF(t,e,n){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(t_,n)}catch{}switch(n.tag){case 5:Wr||zd(n,e);case 6:var r=Ar,i=Ds;Ar=null,Ua(t,e,n),Ar=r,Ds=i,Ar!==null&&(Ds?(t=Ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ar.removeChild(n.stateNode));break;case 18:Ar!==null&&(Ds?(t=Ar,n=n.stateNode,t.nodeType===8?Yb(t.parentNode,n):t.nodeType===1&&Yb(t,n),qp(t)):Yb(Ar,n.stateNode));break;case 4:r=Ar,i=Ds,Ar=n.stateNode.containerInfo,Ds=!0,Ua(t,e,n),Ar=r,Ds=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&SE(n,e,o),i=i.next}while(i!==r)}Ua(t,e,n);break;case 1:if(!Wr&&(zd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vn(n,e,a)}Ua(t,e,n);break;case 21:Ua(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,Ua(t,e,n),Wr=r):Ua(t,e,n);break;default:Ua(t,e,n)}}function mk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hG),e.forEach(function(r){var i=bG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ms(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ar=a.stateNode,Ds=!1;break e;case 3:Ar=a.stateNode.containerInfo,Ds=!0;break e;case 4:Ar=a.stateNode.containerInfo,Ds=!0;break e}a=a.return}if(Ar===null)throw Error(Ue(160));pF(s,o,i),Ar=null,Ds=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Vn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mF(e,t),e=e.sibling}function mF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ms(e,t),fo(t),r&4){try{Ep(3,t,t.return),c_(3,t)}catch(x){Vn(t,t.return,x)}try{Ep(5,t,t.return)}catch(x){Vn(t,t.return,x)}}break;case 1:Ms(e,t),fo(t),r&512&&n!==null&&zd(n,n.return);break;case 5:if(Ms(e,t),fo(t),r&512&&n!==null&&zd(n,n.return),t.flags&32){var i=t.stateNode;try{Wp(i,"")}catch(x){Vn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FO(i,s),K1(a,o);var c=K1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?VO(i,h):u==="dangerouslySetInnerHTML"?BO(i,h):u==="children"?Wp(i,h):kT(i,u,h,c)}switch(a){case"input":G1(i,s);break;case"textarea":UO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Qd(i,!!s.multiple,s.defaultValue,!0):Qd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qp]=s}catch(x){Vn(t,t.return,x)}}break;case 6:if(Ms(e,t),fo(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Vn(t,t.return,x)}}break;case 3:if(Ms(e,t),fo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qp(e.containerInfo)}catch(x){Vn(t,t.return,x)}break;case 4:Ms(e,t),fo(t);break;case 13:Ms(e,t),fo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uA=Jn())),r&4&&mk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(c=Wr)||u,Ms(e,t),Wr=c):Ms(e,t),fo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(et=t,u=t.child;u!==null;){for(h=et=u;et!==null;){switch(p=et,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ep(4,p,p.return);break;case 1:zd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Vn(r,n,x)}}break;case 5:zd(p,p.return);break;case 22:if(p.memoizedState!==null){vk(h);continue}}m!==null?(m.return=p,et=m):vk(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jO("display",o))}catch(x){Vn(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Vn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ms(e,t),fo(t),r&4&&mk(t);break;case 21:break;default:Ms(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fF(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wp(i,""),r.flags&=-33);var s=pk(t);TE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pk(t);ME(t,a,o);break;default:throw Error(Ue(161))}}catch(l){Vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pG(t,e,n){et=t,gF(t)}function gF(t,e,n){for(var r=(t.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wr;a=Jv;var c=Wr;if(Jv=o,(Wr=l)&&!c)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?yk(i):l!==null?(l.return=o,et=l):yk(i);for(;s!==null;)et=s,gF(s),s=s.sibling;et=i,Jv=a,Wr=c}gk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):gk(t)}}function gk(t){for(;et!==null;){var e=et;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||c_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ek(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ek(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Wr||e.flags&512&&EE(e)}catch(p){Vn(e,e.return,p)}}if(e===t){et=null;break}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}}function vk(t){for(;et!==null;){var e=et;if(e===t){et=null;break}var n=e.sibling;if(n!==null){n.return=e.return,et=n;break}et=e.return}}function yk(t){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{c_(4,e)}catch(l){Vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vn(e,i,l)}}var s=e.return;try{EE(e)}catch(l){Vn(e,s,l)}break;case 5:var o=e.return;try{EE(e)}catch(l){Vn(e,o,l)}}}catch(l){Vn(e,e.return,l)}if(e===t){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var mG=Math.ceil,px=Ta.ReactCurrentDispatcher,lA=Ta.ReactCurrentOwner,ys=Ta.ReactCurrentBatchConfig,en=0,br=null,ir=null,Pr=0,ji=0,Bd=Xl(0),ur=0,sm=null,lu=0,u_=0,cA=0,Mp=null,bi=null,uA=0,Ch=1/0,na=null,mx=!1,AE=null,bl=null,Qv=!1,ml=null,gx=0,Tp=0,CE=null,T0=-1,A0=0;function li(){return en&6?Jn():T0!==-1?T0:T0=Jn()}function Sl(t){return t.mode&1?en&2&&Pr!==0?Pr&-Pr:JW.transition!==null?(A0===0&&(A0=e3()),A0):(t=dn,t!==0||(t=window.event,t=t===void 0?16:a3(t.type)),t):1}function Gs(t,e,n,r){if(50<Tp)throw Tp=0,CE=null,Error(Ue(185));ag(t,n,r),(!(en&2)||t!==br)&&(t===br&&(!(en&2)&&(u_|=n),ur===4&&il(t,Pr)),Pi(t,r),n===1&&en===0&&!(e.mode&1)&&(Ch=Jn()+500,o_&&ql()))}function Pi(t,e){var n=t.callbackNode;J6(t,e);var r=Q0(t,t===br?Pr:0);if(r===0)n!==null&&A2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&A2(n),e===1)t.tag===0?ZW(xk.bind(null,t)):T3(xk.bind(null,t)),XW(function(){!(en&6)&&ql()}),n=null;else{switch(t3(r)){case 1:n=OT;break;case 4:n=JO;break;case 16:n=J0;break;case 536870912:n=QO;break;default:n=J0}n=EF(n,vF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vF(t,e){if(T0=-1,A0=0,en&6)throw Error(Ue(327));var n=t.callbackNode;if(ih()&&t.callbackNode!==n)return null;var r=Q0(t,t===br?Pr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vx(t,r);else{e=r;var i=en;en|=2;var s=xF();(br!==t||Pr!==e)&&(na=null,Ch=Jn()+500,Kc(t,e));do try{yG();break}catch(a){yF(t,a)}while(!0);YT(),px.current=s,en=i,ir!==null?e=0:(br=null,Pr=0,e=ur)}if(e!==0){if(e===2&&(i=tE(t),i!==0&&(r=i,e=PE(t,i))),e===1)throw n=sm,Kc(t,0),il(t,r),Pi(t,Jn()),n;if(e===6)il(t,r);else{if(i=t.current.alternate,!(r&30)&&!gG(i)&&(e=vx(t,r),e===2&&(s=tE(t),s!==0&&(r=s,e=PE(t,s))),e===1))throw n=sm,Kc(t,0),il(t,r),Pi(t,Jn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:Ac(t,bi,na);break;case 3:if(il(t,r),(r&130023424)===r&&(e=uA+500-Jn(),10<e)){if(Q0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){li(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cE(Ac.bind(null,t,bi,na),e);break}Ac(t,bi,na);break;case 4:if(il(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ws(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mG(r/1960))-r,10<r){t.timeoutHandle=cE(Ac.bind(null,t,bi,na),r);break}Ac(t,bi,na);break;case 5:Ac(t,bi,na);break;default:throw Error(Ue(329))}}}return Pi(t,Jn()),t.callbackNode===n?vF.bind(null,t):null}function PE(t,e){var n=Mp;return t.current.memoizedState.isDehydrated&&(Kc(t,e).flags|=256),t=vx(t,e),t!==2&&(e=bi,bi=n,e!==null&&RE(e)),t}function RE(t){bi===null?bi=t:bi.push.apply(bi,t)}function gG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(t,e){for(e&=~cA,e&=~u_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ws(e),r=1<<n;t[n]=-1,e&=~r}}function xk(t){if(en&6)throw Error(Ue(327));ih();var e=Q0(t,0);if(!(e&1))return Pi(t,Jn()),null;var n=vx(t,e);if(t.tag!==0&&n===2){var r=tE(t);r!==0&&(e=r,n=PE(t,r))}if(n===1)throw n=sm,Kc(t,0),il(t,e),Pi(t,Jn()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ac(t,bi,na),Pi(t,Jn()),null}function dA(t,e){var n=en;en|=1;try{return t(e)}finally{en=n,en===0&&(Ch=Jn()+500,o_&&ql())}}function cu(t){ml!==null&&ml.tag===0&&!(en&6)&&ih();var e=en;en|=1;var n=ys.transition,r=dn;try{if(ys.transition=null,dn=1,t)return t()}finally{dn=r,ys.transition=n,en=e,!(en&6)&&ql()}}function hA(){ji=Bd.current,Sn(Bd)}function Kc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$W(n)),ir!==null)for(n=ir.return;n!==null;){var r=n;switch($T(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ix();break;case 3:Th(),Sn(Ai),Sn(Yr),tA();break;case 5:eA(r);break;case 4:Th();break;case 13:Sn(Nn);break;case 19:Sn(Nn);break;case 10:KT(r.type._context);break;case 22:case 23:hA()}n=n.return}if(br=t,ir=t=El(t.current,null),Pr=ji=e,ur=0,sm=null,cA=u_=lu=0,bi=Mp=null,Fc!==null){for(e=0;e<Fc.length;e++)if(n=Fc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fc=null}return t}function yF(t,e){do{var n=ir;try{if(YT(),S0.current=fx,hx){for(var r=Dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hx=!1}if(au=0,wr=lr=Dn=null,Sp=!1,nm=0,lA.current=null,n===null||n.return===null){ur=1,sm=e,ir=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ok(o);if(m!==null){m.flags&=-257,ak(m,o,a,s,e),m.mode&1&&sk(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){sk(s,c,e),fA();break e}l=Error(Ue(426))}}else if(An&&a.mode&1){var y=ok(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ak(y,o,a,s,e),XT(Ah(l,a));break e}}s=l=Ah(l,a),ur!==4&&(ur=2),Mp===null?Mp=[s]:Mp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=tF(s,l,e);Q2(s,g);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(bl===null||!bl.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=nF(s,a,e);Q2(s,M);break e}}s=s.return}while(s!==null)}wF(n)}catch(C){e=C,ir===n&&n!==null&&(ir=n=n.return);continue}break}while(!0)}function xF(){var t=px.current;return px.current=fx,t===null?fx:t}function fA(){(ur===0||ur===3||ur===2)&&(ur=4),br===null||!(lu&268435455)&&!(u_&268435455)||il(br,Pr)}function vx(t,e){var n=en;en|=2;var r=xF();(br!==t||Pr!==e)&&(na=null,Kc(t,e));do try{vG();break}catch(i){yF(t,i)}while(!0);if(YT(),en=n,px.current=r,ir!==null)throw Error(Ue(261));return br=null,Pr=0,ur}function vG(){for(;ir!==null;)_F(ir)}function yG(){for(;ir!==null&&!H6();)_F(ir)}function _F(t){var e=SF(t.alternate,t,ji);t.memoizedProps=t.pendingProps,e===null?wF(t):ir=e,lA.current=null}function wF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dG(n,e),n!==null){n.flags&=32767,ir=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,ir=null;return}}else if(n=uG(n,e,ji),n!==null){ir=n;return}if(e=e.sibling,e!==null){ir=e;return}ir=e=t}while(e!==null);ur===0&&(ur=5)}function Ac(t,e,n){var r=dn,i=ys.transition;try{ys.transition=null,dn=1,xG(t,e,n,r)}finally{ys.transition=i,dn=r}return null}function xG(t,e,n,r){do ih();while(ml!==null);if(en&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Q6(t,s),t===br&&(ir=br=null,Pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qv||(Qv=!0,EF(J0,function(){return ih(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ys.transition,ys.transition=null;var o=dn;dn=1;var a=en;en|=4,lA.current=null,fG(t,n),mF(n,t),zW(aE),ex=!!oE,aE=oE=null,t.current=n,pG(n),W6(),en=a,dn=o,ys.transition=s}else t.current=n;if(Qv&&(Qv=!1,ml=t,gx=i),s=t.pendingLanes,s===0&&(bl=null),X6(n.stateNode),Pi(t,Jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mx)throw mx=!1,t=AE,AE=null,t;return gx&1&&t.tag!==0&&ih(),s=t.pendingLanes,s&1?t===CE?Tp++:(Tp=0,CE=t):Tp=0,ql(),null}function ih(){if(ml!==null){var t=t3(gx),e=ys.transition,n=dn;try{if(ys.transition=null,dn=16>t?16:t,ml===null)var r=!1;else{if(t=ml,ml=null,gx=0,en&6)throw Error(Ue(331));var i=en;for(en|=4,et=t.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var u=et;switch(u.tag){case 0:case 11:case 15:Ep(8,u,s)}var h=u.child;if(h!==null)h.return=u,et=h;else for(;et!==null;){u=et;var p=u.sibling,m=u.return;if(hF(u),u===c){et=null;break}if(p!==null){p.return=m,et=p;break}et=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ep(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,et=g;break e}et=s.return}}var w=t.current;for(et=w;et!==null;){o=et;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,et=b;else e:for(o=w;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:c_(9,a)}}catch(C){Vn(a,a.return,C)}if(a===o){et=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,et=M;break e}et=a.return}}if(en=i,ql(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(t_,t)}catch{}r=!0}return r}finally{dn=n,ys.transition=e}}return!1}function _k(t,e,n){e=Ah(n,e),e=tF(t,e,1),t=wl(t,e,1),e=li(),t!==null&&(ag(t,1,e),Pi(t,e))}function Vn(t,e,n){if(t.tag===3)_k(t,t,n);else for(;e!==null;){if(e.tag===3){_k(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bl===null||!bl.has(r))){t=Ah(n,t),t=nF(e,t,1),e=wl(e,t,1),t=li(),e!==null&&(ag(e,1,t),Pi(e,t));break}}e=e.return}}function _G(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=li(),t.pingedLanes|=t.suspendedLanes&n,br===t&&(Pr&n)===n&&(ur===4||ur===3&&(Pr&130023424)===Pr&&500>Jn()-uA?Kc(t,0):cA|=n),Pi(t,e)}function bF(t,e){e===0&&(t.mode&1?(e=Hv,Hv<<=1,!(Hv&130023424)&&(Hv=4194304)):e=1);var n=li();t=ga(t,e),t!==null&&(ag(t,e,n),Pi(t,n))}function wG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bF(t,n)}function bG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),bF(t,n)}var SF;SF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ai.current)Ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ti=!1,cG(t,e,n);Ti=!!(t.flags&131072)}else Ti=!1,An&&e.flags&1048576&&A3(e,ax,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;M0(t,e),t=e.pendingProps;var i=Sh(e,Yr.current);rh(e,n),i=rA(null,e,r,t,i,n);var s=iA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(r)?(s=!0,sx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JT(e),i.updater=l_,e.stateNode=i,i._reactInternals=e,gE(e,r,t,n),e=xE(null,e,r,!0,s,n)):(e.tag=0,An&&s&&GT(e),ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(M0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EG(r),t=Rs(r,t),i){case 0:e=yE(null,e,r,t,n);break e;case 1:e=uk(null,e,r,t,n);break e;case 11:e=lk(null,e,r,t,n);break e;case 14:e=ck(null,e,r,Rs(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),yE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),uk(t,e,r,i,n);case 3:e:{if(oF(e),t===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,L3(t,e),ux(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ah(Error(Ue(423)),e),e=dk(t,e,r,n,i);break e}else if(r!==i){i=Ah(Error(Ue(424)),e),e=dk(t,e,r,n,i);break e}else for(Wi=_l(e.stateNode.containerInfo.firstChild),Gi=e,An=!0,Us=null,n=k3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eh(),r===i){e=va(t,e,n);break e}ri(t,e,r,n)}e=e.child}return e;case 5:return I3(e),t===null&&fE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lE(r,i)?o=null:s!==null&&lE(r,s)&&(e.flags|=32),sF(t,e),ri(t,e,o,n),e.child;case 6:return t===null&&fE(e),null;case 13:return aF(t,e,n);case 4:return QT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mh(e,null,r,n):ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),lk(t,e,r,i,n);case 7:return ri(t,e,e.pendingProps,n),e.child;case 8:return ri(t,e,e.pendingProps.children,n),e.child;case 12:return ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,yn(lx,r._currentValue),r._currentValue=o,s!==null)if(Xs(s.value,o)){if(s.children===i.children&&!Ai.current){e=va(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ha(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rh(e,n),i=ws(i),r=r(i),e.flags|=1,ri(t,e,r,n),e.child;case 14:return r=e.type,i=Rs(r,e.pendingProps),i=Rs(r.type,i),ck(t,e,r,i,n);case 15:return rF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),M0(t,e),e.tag=1,Ci(r)?(t=!0,sx(e)):t=!1,rh(e,n),eF(e,r,i),gE(e,r,i,n),xE(null,e,r,!0,t,n);case 19:return lF(t,e,n);case 22:return iF(t,e,n)}throw Error(Ue(156,e.tag))};function EF(t,e){return ZO(t,e)}function SG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,e,n,r){return new SG(t,e,n,r)}function pA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EG(t){if(typeof t=="function")return pA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===LT)return 11;if(t===IT)return 14}return 2}function El(t,e){var n=t.alternate;return n===null?(n=vs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function C0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rd:return Zc(n.children,i,s,e);case NT:o=8,i|=8;break;case B1:return t=vs(12,n,e,i|2),t.elementType=B1,t.lanes=s,t;case j1:return t=vs(13,n,e,i),t.elementType=j1,t.lanes=s,t;case V1:return t=vs(19,n,e,i),t.elementType=V1,t.lanes=s,t;case IO:return d_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NO:o=10;break e;case LO:o=9;break e;case LT:o=11;break e;case IT:o=14;break e;case el:o=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=vs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zc(t,e,n,r){return t=vs(7,t,r,e),t.lanes=n,t}function d_(t,e,n,r){return t=vs(22,t,r,e),t.elementType=IO,t.lanes=n,t.stateNode={isHidden:!1},t}function rS(t,e,n){return t=vs(6,t,null,e),t.lanes=n,t}function iS(t,e,n){return e=vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ub(0),this.expirationTimes=Ub(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ub(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mA(t,e,n,r,i,s,o,a,l){return t=new MG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JT(s),t}function TG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function MF(t){if(!t)return kl;t=t._reactInternals;e:{if(_u(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(Ci(n))return M3(t,n,e)}return e}function TF(t,e,n,r,i,s,o,a,l){return t=mA(n,r,!0,t,i,s,o,a,l),t.context=MF(null),n=t.current,r=li(),i=Sl(n),s=ha(r,i),s.callback=e??null,wl(n,s,i),t.current.lanes=i,ag(t,i,r),Pi(t,r),t}function h_(t,e,n,r){var i=e.current,s=li(),o=Sl(i);return n=MF(n),e.context===null?e.context=n:e.pendingContext=n,e=ha(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wl(i,e,o),t!==null&&(Gs(t,i,o,s),b0(t,i,o)),o}function yx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gA(t,e){wk(t,e),(t=t.alternate)&&wk(t,e)}function AG(){return null}var AF=typeof reportError=="function"?reportError:function(t){console.error(t)};function vA(t){this._internalRoot=t}f_.prototype.render=vA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));h_(t,e,null,null)};f_.prototype.unmount=vA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cu(function(){h_(null,t,null,null)}),e[ma]=null}};function f_(t){this._internalRoot=t}f_.prototype.unstable_scheduleHydration=function(t){if(t){var e=i3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rl.length&&e!==0&&e<rl[n].priority;n++);rl.splice(n,0,t),n===0&&o3(t)}};function yA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bk(){}function CG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=yx(o);s.call(c)}}var o=TF(e,r,t,0,null,!1,!1,"",bk);return t._reactRootContainer=o,t[ma]=o.current,Zp(t.nodeType===8?t.parentNode:t),cu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yx(l);a.call(c)}}var l=mA(t,0,!1,null,null,!1,!1,"",bk);return t._reactRootContainer=l,t[ma]=l.current,Zp(t.nodeType===8?t.parentNode:t),cu(function(){h_(e,l,n,r)}),l}function m_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yx(o);a.call(l)}}h_(e,o,t,i)}else o=CG(n,e,t,i,r);return yx(o)}n3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=op(e.pendingLanes);n!==0&&(FT(e,n|1),Pi(e,Jn()),!(en&6)&&(Ch=Jn()+500,ql()))}break;case 13:cu(function(){var r=ga(t,1);if(r!==null){var i=li();Gs(r,t,1,i)}}),gA(t,1)}};UT=function(t){if(t.tag===13){var e=ga(t,134217728);if(e!==null){var n=li();Gs(e,t,134217728,n)}gA(t,134217728)}};r3=function(t){if(t.tag===13){var e=Sl(t),n=ga(t,e);if(n!==null){var r=li();Gs(n,t,e,r)}gA(t,e)}};i3=function(){return dn};s3=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}};J1=function(t,e,n){switch(e){case"input":if(G1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=s_(r);if(!i)throw Error(Ue(90));OO(r),G1(r,i)}}}break;case"textarea":UO(t,n);break;case"select":e=n.value,e!=null&&Qd(t,!!n.multiple,e,!1)}};GO=dA;$O=cu;var PG={usingClientEntryPoint:!1,Events:[cg,Id,s_,HO,WO,dA]},Of={findFiberByHostInstance:Oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RG={bundleType:Of.bundleType,version:Of.version,rendererPackageName:Of.rendererPackageName,rendererConfig:Of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YO(t),t===null?null:t.stateNode},findFiberByHostInstance:Of.findFiberByHostInstance||AG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ey.isDisabled&&ey.supportsFiber)try{t_=ey.inject(RG),So=ey}catch{}}Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PG;Zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yA(e))throw Error(Ue(200));return TG(t,e,null,n)};Zi.createRoot=function(t,e){if(!yA(t))throw Error(Ue(299));var n=!1,r="",i=AF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mA(t,1,!1,null,null,n,!1,r,i),t[ma]=e.current,Zp(t.nodeType===8?t.parentNode:t),new vA(e)};Zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=YO(e),t=t===null?null:t.stateNode,t};Zi.flushSync=function(t){return cu(t)};Zi.hydrate=function(t,e,n){if(!p_(e))throw Error(Ue(200));return m_(null,t,e,!0,n)};Zi.hydrateRoot=function(t,e,n){if(!yA(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TF(e,null,t,1,n??null,i,!1,s,o),t[ma]=e.current,Zp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new f_(e)};Zi.render=function(t,e,n){if(!p_(e))throw Error(Ue(200));return m_(null,t,e,!1,n)};Zi.unmountComponentAtNode=function(t){if(!p_(t))throw Error(Ue(40));return t._reactRootContainer?(cu(function(){m_(null,null,t,!1,function(){t._reactRootContainer=null,t[ma]=null})}),!0):!1};Zi.unstable_batchedUpdates=dA;Zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!p_(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return m_(t,e,n,!1,r)};Zi.version="18.3.1-next-f1338f8080-20240426";function CF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CF)}catch(t){console.error(t)}}CF(),CO.exports=Zi;var dg=CO.exports;const PF=ET(dg);var RF,Sk=dg;RF=Sk.createRoot,Sk.hydrateRoot;const kG=1,NG=1e6;let sS=0;function LG(){return sS=(sS+1)%Number.MAX_SAFE_INTEGER,sS.toString()}const oS=new Map,Ek=t=>{if(oS.has(t))return;const e=setTimeout(()=>{oS.delete(t),Ap({type:"REMOVE_TOAST",toastId:t})},NG);oS.set(t,e)},IG=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,kG)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ek(n):t.toasts.forEach(r=>{Ek(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},P0=[];let R0={toasts:[]};function Ap(t){R0=IG(R0,t),P0.forEach(e=>{e(R0)})}function DG({...t}){const e=LG(),n=i=>Ap({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ap({type:"DISMISS_TOAST",toastId:e});return Ap({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function xA(){const[t,e]=T.useState(R0);return T.useEffect(()=>(P0.push(e),()=>{const n=P0.indexOf(e);n>-1&&P0.splice(n,1)}),[t]),{...t,toast:DG,dismiss:n=>Ap({type:"DISMISS_TOAST",toastId:n})}}function Tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function OG(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kF(...t){return e=>t.forEach(n=>OG(n,e))}function Cn(...t){return T.useCallback(kF(...t),t)}function FG(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[t][l])||a,y=T.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,UG(i,...e)]}function UG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Nl=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),s=i.find(zG);if(s){const o=s.props.children,a=i.map(l=>l===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return S.jsx(kE,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return S.jsx(kE,{...r,ref:e,children:n})});Nl.displayName="Slot";var kE=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=jG(n);return T.cloneElement(n,{...BG(r,n.props),ref:e?kF(e,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});kE.displayName="SlotClone";var NF=({children:t})=>S.jsx(S.Fragment,{children:t});function zG(t){return T.isValidElement(t)&&t.type===NF}function BG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _A(t){const e=t+"CollectionProvider",[n,r]=FG(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,y=Ce.useRef(null),g=Ce.useRef(new Map).current;return S.jsx(i,{scope:v,itemMap:g,collectionRef:y,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Ce.forwardRef((m,v)=>{const{scope:x,children:y}=m,g=s(a,x),w=Cn(v,g.collectionRef);return S.jsx(Nl,{ref:w,children:y})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Ce.forwardRef((m,v)=>{const{scope:x,children:y,...g}=m,w=Ce.useRef(null),b=Cn(v,w),M=s(c,x);return Ce.useEffect(()=>(M.itemMap.set(w,{ref:w,...g}),()=>void M.itemMap.delete(w))),S.jsx(Nl,{[u]:"",ref:b,children:y})});h.displayName=c;function p(m){const v=s(t+"CollectionConsumer",m);return Ce.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((M,C)=>g.indexOf(M.ref.current)-g.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function VG(t,e){const n=T.createContext(e),r=s=>{const{children:o,...a}=s,l=T.useMemo(()=>a,Object.values(a));return S.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=T.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function wu(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=h=>{var g;const{scope:p,children:m,...v}=h,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=T.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})};c.displayName=s+"Provider";function u(h,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,HG(i,...e)]}function HG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var WG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xt=WG.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Nl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function LF(t,e){t&&dg.flushSync(()=>t.dispatchEvent(e))}function Ki(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GG(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $G="DismissableLayer",NE="dismissableLayer.update",XG="dismissableLayer.pointerDownOutside",qG="dismissableLayer.focusOutside",Mk,IF=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hg=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(IF),[u,h]=T.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),v=Cn(e,R=>h(R)),x=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(y),w=u?x.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,M=w>=g,C=KG(R=>{const O=R.target,k=[...c.branches].some(L=>L.contains(O));!M||k||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),P=ZG(R=>{const O=R.target;[...c.branches].some(L=>L.contains(O))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return GG(R=>{w===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Mk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Tk(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Mk)}},[u,p,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Tk())},[u,c]),T.useEffect(()=>{const R=()=>m({});return document.addEventListener(NE,R),()=>document.removeEventListener(NE,R)},[]),S.jsx(Xt.div,{...l,ref:v,style:{pointerEvents:b?M?"auto":"none":void 0,...t.style},onFocusCapture:Tt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Tt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Tt(t.onPointerDownCapture,C.onPointerDownCapture)})});hg.displayName=$G;var YG="DismissableLayerBranch",DF=T.forwardRef((t,e)=>{const n=T.useContext(IF),r=T.useRef(null),i=Cn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),S.jsx(Xt.div,{...t,ref:i})});DF.displayName=YG;function KG(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){OF(XG,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZG(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&OF(qG,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tk(){const t=new CustomEvent(NE);document.dispatchEvent(t)}function OF(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LF(i,s):i.dispatchEvent(s)}var JG=hg,QG=DF,Ll=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},e9="Portal",g_=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Ll(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PF.createPortal(S.jsx(Xt.div,{...r,ref:e}),o):null});g_.displayName=e9;function t9(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Aa=t=>{const{present:e,children:n}=t,r=n9(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=Cn(r.ref,r9(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Aa.displayName="Presence";function n9(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=t9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=ty(r.current);s.current=a==="mounted"?c:"none"},[a]),Ll(()=>{const c=r.current,u=i.current;if(u!==t){const p=s.current,m=ty(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ll(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const x=ty(r.current).includes(m.animationName);if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(s.current=ty(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ty(t){return(t==null?void 0:t.animationName)||"none"}function r9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=i9({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Ki(n),l=T.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function i9({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),s=Ki(e);return T.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var s9="VisuallyHidden",v_=T.forwardRef((t,e)=>S.jsx(Xt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));v_.displayName=s9;var o9=v_,wA="ToastProvider",[bA,a9,l9]=_A("Toast"),[FF,Pme]=wu("Toast",[l9]),[c9,y_]=FF(wA),UF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=T.useState(null),[c,u]=T.useState(0),h=T.useRef(!1),p=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wA}\`. Expected non-empty \`string\`.`),S.jsx(bA.Provider,{scope:e,children:S.jsx(c9,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>u(m=>m+1),[]),onToastRemove:T.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};UF.displayName=wA;var zF="ToastViewport",u9=["F8"],LE="toast.viewportPause",IE="toast.viewportResume",BF=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=u9,label:i="Notifications ({hotkey})",...s}=t,o=y_(zF,n),a=a9(n),l=T.useRef(null),c=T.useRef(null),u=T.useRef(null),h=T.useRef(null),p=Cn(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;T.useEffect(()=>{const y=g=>{var b;r.length!==0&&r.every(M=>g[M]||g.code===M)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),T.useEffect(()=>{const y=l.current,g=h.current;if(v&&y&&g){const w=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(LE);g.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(IE);g.dispatchEvent(P),o.isClosePausedRef.current=!1}},M=P=>{!y.contains(P.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",M),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",M),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const x=T.useCallback(({tabbingDirection:y})=>{const w=a().map(b=>{const M=b.ref.current,C=[M,...S9(M)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return T.useEffect(()=>{const y=h.current;if(y){const g=w=>{var C,P,R;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const O=document.activeElement,k=w.shiftKey;if(w.target===y&&k){(C=c.current)==null||C.focus();return}const G=x({tabbingDirection:k?"backwards":"forwards"}),te=G.findIndex(B=>B===O);aS(G.slice(te+1))?w.preventDefault():k?(P=c.current)==null||P.focus():(R=u.current)==null||R.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,x]),S.jsxs(QG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&S.jsx(DE,{ref:c,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});aS(y)}}),S.jsx(bA.Slot,{scope:n,children:S.jsx(Xt.ol,{tabIndex:-1,...s,ref:p})}),v&&S.jsx(DE,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});aS(y)}})]})});BF.displayName=zF;var jF="ToastFocusProxy",DE=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=y_(jF,n);return S.jsx(v_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});DE.displayName=jF;var x_="Toast",d9="toast.swipeStart",h9="toast.swipeMove",f9="toast.swipeCancel",p9="toast.swipeEnd",VF=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Yl({prop:r,defaultProp:i,onChange:s});return S.jsx(Aa,{present:n||a,children:S.jsx(v9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ki(t.onPause),onResume:Ki(t.onResume),onSwipeStart:Tt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Tt(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Tt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Tt(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});VF.displayName=x_;var[m9,g9]=FF(x_,{onClose(){}}),v9=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=t,x=y_(x_,n),[y,g]=T.useState(null),w=Cn(e,B=>g(B)),b=T.useRef(null),M=T.useRef(null),C=i||x.duration,P=T.useRef(0),R=T.useRef(C),O=T.useRef(0),{onToastAdd:k,onToastRemove:L}=x,z=Ki(()=>{var Z;(y==null?void 0:y.contains(document.activeElement))&&((Z=x.viewport)==null||Z.focus()),o()}),G=T.useCallback(B=>{!B||B===1/0||(window.clearTimeout(O.current),P.current=new Date().getTime(),O.current=window.setTimeout(z,B))},[z]);T.useEffect(()=>{const B=x.viewport;if(B){const Z=()=>{G(R.current),c==null||c()},J=()=>{const ne=new Date().getTime()-P.current;R.current=R.current-ne,window.clearTimeout(O.current),l==null||l()};return B.addEventListener(LE,J),B.addEventListener(IE,Z),()=>{B.removeEventListener(LE,J),B.removeEventListener(IE,Z)}}},[x.viewport,C,l,c,G]),T.useEffect(()=>{s&&!x.isClosePausedRef.current&&G(C)},[s,C,x.isClosePausedRef,G]),T.useEffect(()=>(k(),()=>L()),[k,L]);const te=T.useMemo(()=>y?YF(y):null,[y]);return x.viewport?S.jsxs(S.Fragment,{children:[te&&S.jsx(y9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:te}),S.jsx(m9,{scope:n,onClose:z,children:dg.createPortal(S.jsx(bA.ItemSlot,{scope:n,children:S.jsx(JG,{asChild:!0,onEscapeKeyDown:Tt(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||z(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(Xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Tt(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Tt(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:Tt(t.onPointerMove,B=>{if(!b.current)return;const Z=B.clientX-b.current.x,J=B.clientY-b.current.y,ne=!!M.current,F=["left","right"].includes(x.swipeDirection),j=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,U=F?j(0,Z):0,$=F?0:j(0,J),re=B.pointerType==="touch"?10:2,Y={x:U,y:$},ue={originalEvent:B,delta:Y};ne?(M.current=Y,ny(h9,h,ue,{discrete:!1})):Ak(Y,x.swipeDirection,re)?(M.current=Y,ny(d9,u,ue,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Z)>re||Math.abs(J)>re)&&(b.current=null)}),onPointerUp:Tt(t.onPointerUp,B=>{const Z=M.current,J=B.target;if(J.hasPointerCapture(B.pointerId)&&J.releasePointerCapture(B.pointerId),M.current=null,b.current=null,Z){const ne=B.currentTarget,F={originalEvent:B,delta:Z};Ak(Z,x.swipeDirection,x.swipeThreshold)?ny(p9,m,F,{discrete:!0}):ny(f9,p,F,{discrete:!0}),ne.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),y9=t=>{const{__scopeToast:e,children:n,...r}=t,i=y_(x_,e),[s,o]=T.useState(!1),[a,l]=T.useState(!1);return w9(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:S.jsx(g_,{asChild:!0,children:S.jsx(v_,{...r,children:s&&S.jsxs(S.Fragment,{children:[i.label," ",n]})})})},x9="ToastTitle",HF=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Xt.div,{...r,ref:e})});HF.displayName=x9;var _9="ToastDescription",WF=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return S.jsx(Xt.div,{...r,ref:e})});WF.displayName=_9;var GF="ToastAction",$F=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?S.jsx(qF,{altText:n,asChild:!0,children:S.jsx(SA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GF}\`. Expected non-empty \`string\`.`),null)});$F.displayName=GF;var XF="ToastClose",SA=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=g9(XF,n);return S.jsx(qF,{asChild:!0,children:S.jsx(Xt.button,{type:"button",...r,ref:e,onClick:Tt(t.onClick,i.onClose)})})});SA.displayName=XF;var qF=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return S.jsx(Xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function YF(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),b9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...YF(r))}}),e}function ny(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?LF(i,s):i.dispatchEvent(s)}var Ak=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function w9(t=()=>{}){const e=Ki(t);Ll(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function b9(t){return t.nodeType===t.ELEMENT_NODE}function S9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var E9=UF,KF=BF,ZF=VF,JF=HF,QF=WF,eU=$F,tU=SA;function nU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rU(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nU(t))&&(r&&(r+=" "),r+=e);return r}const Ck=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Pk=rU,fg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Pk(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const p=Ck(u)||Ck(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...m}=u;return Object.entries(m).every(v=>{let[x,y]=v;return Array.isArray(y)?y.includes({...s,...a}[x]):{...s,...a}[x]===y})?[...c,h,p]:c},[]);return Pk(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...T9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iU("lucide",i),...a},[...o.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(A9,{ref:s,iconNode:e,className:iU(`lucide-${M9(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=on("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=on("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=on("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=on("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=on("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=on("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=on("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=on("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=on("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=on("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=on("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=on("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=on("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=on("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=on("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=on("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=on("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=on("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=on("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=on("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=on("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=on("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=on("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=on("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=on("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=on("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=on("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=on("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=on("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=on("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),EA="-",X9=t=>{const e=Y9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(EA);return a[0]===""&&a.length!==1&&a.shift(),lU(a,e)||q9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?lU(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(EA);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},kk=/^\[(.+)\]$/,q9=t=>{if(kk.test(t)){const e=kk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z9(Object.entries(t.classGroups),n).forEach(([s,o])=>{FE(o,r,s,e)}),r},FE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Nk(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(K9(i)){FE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{FE(o,Nk(e,s),n,r)})})},Nk=(t,e)=>{let n=t;return e.split(EA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},K9=t=>t.isThemeGetter,Z9=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,J9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},cU="!",Q9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(g==="/"){h=y;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(cU),v=m?p.substring(1):p,x=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},e$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},t$=t=>({cache:J9(t.cacheSize),parseClassName:Q9(t),...X9(t)}),n$=/\s+/,r$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(n$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=e$(u).join(":"),g=h?y+cU:y,w=g+x;if(s.includes(w))continue;s.push(w);const b=i(x,v);for(let M=0;M<b.length;++M){const C=b[M];s.push(g+C)}a=c+(a.length>0?" "+a:a)}return a};function i$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uU(e))&&(r&&(r+=" "),r+=n);return r}const uU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uU(t[r]))&&(n&&(n+=" "),n+=e);return n};function s$(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=t$(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=r$(l,n);return i(l,u),u}return function(){return s(i$.apply(null,arguments))}}const wn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dU=/^\[(?:([a-z-]+):)?(.+)\]$/i,o$=/^\d+\/\d+$/,a$=new Set(["px","full","screen"]),l$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=t=>sh(t)||a$.has(t)||o$.test(t),za=t=>Xh(t,"length",_$),sh=t=>!!t&&!Number.isNaN(Number(t)),cS=t=>Xh(t,"number",sh),Ff=t=>!!t&&Number.isInteger(Number(t)),f$=t=>t.endsWith("%")&&sh(t.slice(0,-1)),Lt=t=>dU.test(t),Ba=t=>l$.test(t),p$=new Set(["length","size","percentage"]),m$=t=>Xh(t,p$,hU),g$=t=>Xh(t,"position",hU),v$=new Set(["image","url"]),y$=t=>Xh(t,v$,b$),x$=t=>Xh(t,"",w$),Uf=()=>!0,Xh=(t,e,n)=>{const r=dU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_$=t=>c$.test(t)&&!u$.test(t),hU=()=>!1,w$=t=>d$.test(t),b$=t=>h$.test(t),S$=()=>{const t=wn("colors"),e=wn("spacing"),n=wn("blur"),r=wn("brightness"),i=wn("borderColor"),s=wn("borderRadius"),o=wn("borderSpacing"),a=wn("borderWidth"),l=wn("contrast"),c=wn("grayscale"),u=wn("hueRotate"),h=wn("invert"),p=wn("gap"),m=wn("gradientColorStops"),v=wn("gradientColorStopPositions"),x=wn("inset"),y=wn("margin"),g=wn("opacity"),w=wn("padding"),b=wn("saturate"),M=wn("scale"),C=wn("sepia"),P=wn("skew"),R=wn("space"),O=wn("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Lt,e],G=()=>[Lt,e],te=()=>["",$o,za],B=()=>["auto",sh,Lt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Lt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[sh,Lt];return{cacheSize:500,separator:":",theme:{colors:[Uf],spacing:[$o,za],blur:["none","",Ba,Lt],brightness:$(),borderColor:[t],borderRadius:["none","","full",Ba,Lt],borderSpacing:G(),borderWidth:te(),contrast:$(),grayscale:j(),hueRotate:$(),invert:j(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[f$,za],inset:z(),margin:z(),opacity:$(),padding:G(),saturate:$(),scale:$(),sepia:j(),skew:$(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Ba]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Lt]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ff,Lt]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ff,Lt]}],"grid-cols":[{"grid-cols":[Uf]}],"col-start-end":[{col:["auto",{span:["full",Ff,Lt]},Lt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Uf]}],"row-start-end":[{row:["auto",{span:[Ff,Lt]},Lt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,e]}],"min-w":[{"min-w":[Lt,e,"min","max","fit"]}],"max-w":[{"max-w":[Lt,e,"none","full","min","max","fit","prose",{screen:[Ba]},Ba]}],h:[{h:[Lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ba,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cS]}],"font-family":[{font:[Uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",sh,cS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,za]}],"underline-offset":[{"underline-offset":["auto",$o,Lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),g$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[$o,Lt]}],"outline-w":[{outline:[$o,za]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[$o,za]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ba,x$]}],"shadow-color":[{shadow:[Uf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ba,Lt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Ff,Lt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$o,za,cS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E$=s$(S$);function Yt(...t){return E$(rU(t))}const M$=E9,fU=T.forwardRef(({className:t,...e},n)=>S.jsx(KF,{ref:n,className:Yt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fU.displayName=KF.displayName;const T$=fg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pU=T.forwardRef(({className:t,variant:e,...n},r)=>S.jsx(ZF,{ref:r,className:Yt(T$({variant:e}),t),...n}));pU.displayName=ZF.displayName;const A$=T.forwardRef(({className:t,...e},n)=>S.jsx(eU,{ref:n,className:Yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));A$.displayName=eU.displayName;const mU=T.forwardRef(({className:t,...e},n)=>S.jsx(tU,{ref:n,className:Yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(Os,{className:"h-4 w-4"})}));mU.displayName=tU.displayName;const gU=T.forwardRef(({className:t,...e},n)=>S.jsx(JF,{ref:n,className:Yt("text-sm font-semibold",t),...e}));gU.displayName=JF.displayName;const vU=T.forwardRef(({className:t,...e},n)=>S.jsx(QF,{ref:n,className:Yt("text-sm opacity-90",t),...e}));vU.displayName=QF.displayName;function C$(){const{toasts:t}=xA();return S.jsxs(M$,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return S.jsxs(pU,{...s,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(gU,{children:n}),r&&S.jsx(vU,{children:r})]}),i,S.jsx(mU,{})]},e)}),S.jsx(fU,{})]})}var Lk=["light","dark"],P$="(prefers-color-scheme: dark)",R$=T.createContext(void 0),k$={setTheme:t=>{},themes:[]},N$=()=>{var t;return(t=T.useContext(R$))!=null?t:k$};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?Lk.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,x=!1,y=!0)=>{let g=o?o[v]:v,w=x?v+"|| ''":`'${g}'`,b="";return i&&y&&!x&&Lk.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?x||g?b+=`c.add(${w})`:b+="null":g&&(b+=`d[s](n,${w})`),b},m=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${P$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var L$=t=>{switch(t){case"success":return O$;case"info":return U$;case"warning":return F$;case"error":return z$;default:return null}},I$=Array(12).fill(0),D$=({visible:t})=>Ce.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Ce.createElement("div",{className:"sonner-spinner"},I$.map((e,n)=>Ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),O$=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),F$=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),U$=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),z$=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),B$=()=>{let[t,e]=Ce.useState(document.hidden);return Ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},UE=1,j$=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:UE++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(H$(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||UE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Bi=new j$,V$=(t,e)=>{let n=(e==null?void 0:e.id)||UE++;return Bi.addToast({title:t,...e,id:n}),n},H$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",W$=V$,G$=()=>Bi.toasts,Ik=Object.assign(W$,{success:Bi.success,info:Bi.info,warning:Bi.warning,error:Bi.error,custom:Bi.custom,message:Bi.message,promise:Bi.promise,dismiss:Bi.dismiss,loading:Bi.loading},{getHistory:G$});function $$(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sy(t){return t.label!==void 0}var X$=3,q$="32px",Y$=4e3,K$=356,Z$=14,J$=20,Q$=200;function e7(...t){return t.filter(Boolean).join(" ")}var t7=t=>{var e,n,r,i,s,o,a,l,c,u;let{invert:h,toast:p,unstyled:m,interacting:v,setHeights:x,visibleToasts:y,heights:g,index:w,toasts:b,expanded:M,removeToast:C,defaultRichColors:P,closeButton:R,style:O,cancelButtonStyle:k,actionButtonStyle:L,className:z="",descriptionClassName:G="",duration:te,position:B,gap:Z,loadingIcon:J,expandByDefault:ne,classNames:F,icons:j,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:$,cn:re}=t,[Y,ue]=Ce.useState(!1),[Me,be]=Ce.useState(!1),[Se,Le]=Ce.useState(!1),[je,xe]=Ce.useState(!1),[ze,q]=Ce.useState(0),[Ee,ge]=Ce.useState(0),ke=Ce.useRef(null),ve=Ce.useRef(null),rt=w===0,W=w+1<=y,D=p.type,I=p.dismissible!==!1,K=p.className||"",oe=p.descriptionClassName||"",ie=Ce.useMemo(()=>g.findIndex(Ae=>Ae.toastId===p.id)||0,[g,p.id]),le=Ce.useMemo(()=>{var Ae;return(Ae=p.closeButton)!=null?Ae:R},[p.closeButton,R]),Ne=Ce.useMemo(()=>p.duration||te||Y$,[p.duration,te]),Ie=Ce.useRef(0),Oe=Ce.useRef(0),Qe=Ce.useRef(0),dt=Ce.useRef(null),[Re,kt]=B.split("-"),Et=Ce.useMemo(()=>g.reduce((Ae,De,_e)=>_e>=ie?Ae:Ae+De.height,0),[g,ie]),ft=B$(),ot=p.invert||h,$e=D==="loading";Oe.current=Ce.useMemo(()=>ie*Z+Et,[ie,Et]),Ce.useEffect(()=>{ue(!0)},[]),Ce.useLayoutEffect(()=>{if(!Y)return;let Ae=ve.current,De=Ae.style.height;Ae.style.height="auto";let _e=Ae.getBoundingClientRect().height;Ae.style.height=De,ge(_e),x(ee=>ee.find(Fe=>Fe.toastId===p.id)?ee.map(Fe=>Fe.toastId===p.id?{...Fe,height:_e}:Fe):[{toastId:p.id,height:_e,position:p.position},...ee])},[Y,p.title,p.description,x,p.id]);let Q=Ce.useCallback(()=>{be(!0),q(Oe.current),x(Ae=>Ae.filter(De=>De.toastId!==p.id)),setTimeout(()=>{C(p)},Q$)},[p,C,x,Oe]);Ce.useEffect(()=>{if(p.promise&&D==="loading"||p.duration===1/0||p.type==="loading")return;let Ae,De=Ne;return M||v||$&&ft?(()=>{if(Qe.current<Ie.current){let _e=new Date().getTime()-Ie.current;De=De-_e}Qe.current=new Date().getTime()})():De!==1/0&&(Ie.current=new Date().getTime(),Ae=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),Q()},De)),()=>clearTimeout(Ae)},[M,v,ne,p,Ne,Q,p.promise,D,$,ft]),Ce.useEffect(()=>{let Ae=ve.current;if(Ae){let De=Ae.getBoundingClientRect().height;return ge(De),x(_e=>[{toastId:p.id,height:De,position:p.position},..._e]),()=>x(_e=>_e.filter(ee=>ee.toastId!==p.id))}},[x,p.id]),Ce.useEffect(()=>{p.delete&&Q()},[Q,p.delete]);function Te(){return j!=null&&j.loading?Ce.createElement("div",{className:"sonner-loader","data-visible":D==="loading"},j.loading):J?Ce.createElement("div",{className:"sonner-loader","data-visible":D==="loading"},J):Ce.createElement(D$,{visible:D==="loading"})}return Ce.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ve,className:re(z,K,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[D],(n=p==null?void 0:p.classNames)==null?void 0:n[D]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:P,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":Y,"data-promise":!!p.promise,"data-removed":Me,"data-visible":W,"data-y-position":Re,"data-x-position":kt,"data-index":w,"data-front":rt,"data-swiping":Se,"data-dismissible":I,"data-type":D,"data-invert":ot,"data-swipe-out":je,"data-expanded":!!(M||ne&&Y),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${Me?ze:Oe.current}px`,"--initial-height":ne?"auto":`${Ee}px`,...O,...p.style},onPointerDown:Ae=>{$e||!I||(ke.current=new Date,q(Oe.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Le(!0),dt.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,De,_e,ee;if(je||!I)return;dt.current=null;let Fe=Number(((Ae=ve.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),He=new Date().getTime()-((De=ke.current)==null?void 0:De.getTime()),ht=Math.abs(Fe)/He;if(Math.abs(Fe)>=J$||ht>.11){q(Oe.current),(_e=p.onDismiss)==null||_e.call(p,p),Q(),xe(!0);return}(ee=ve.current)==null||ee.style.setProperty("--swipe-amount","0px"),Le(!1)},onPointerMove:Ae=>{var De;if(!dt.current||!I)return;let _e=Ae.clientY-dt.current.y,ee=Ae.clientX-dt.current.x,Fe=(Re==="top"?Math.min:Math.max)(0,_e),He=Ae.pointerType==="touch"?10:2;Math.abs(Fe)>He?(De=ve.current)==null||De.style.setProperty("--swipe-amount",`${_e}px`):Math.abs(ee)>He&&(dt.current=null)}},le&&!p.jsx?Ce.createElement("button",{"aria-label":U,"data-disabled":$e,"data-close-button":!0,onClick:$e||!I?()=>{}:()=>{var Ae;Q(),(Ae=p.onDismiss)==null||Ae.call(p,p)},className:re(F==null?void 0:F.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Ce.isValidElement(p.title)?p.jsx||p.title:Ce.createElement(Ce.Fragment,null,D||p.icon||p.promise?Ce.createElement("div",{"data-icon":"",className:re(F==null?void 0:F.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Te():null,p.type!=="loading"?p.icon||(j==null?void 0:j[D])||L$(D):null):null,Ce.createElement("div",{"data-content":"",className:re(F==null?void 0:F.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},Ce.createElement("div",{"data-title":"",className:re(F==null?void 0:F.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Ce.createElement("div",{"data-description":"",className:re(G,oe,F==null?void 0:F.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),Ce.isValidElement(p.cancel)?p.cancel:p.cancel&&sy(p.cancel)?Ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Ae=>{var De,_e;sy(p.cancel)&&I&&((_e=(De=p.cancel).onClick)==null||_e.call(De,Ae),Q())},className:re(F==null?void 0:F.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Ce.isValidElement(p.action)?p.action:p.action&&sy(p.action)?Ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:Ae=>{var De,_e;sy(p.action)&&(Ae.defaultPrevented||((_e=(De=p.action).onClick)==null||_e.call(De,Ae),Q()))},className:re(F==null?void 0:F.actionButton,(u=p==null?void 0:p.classNames)==null?void 0:u.actionButton)},p.action.label):null))};function Dk(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var n7=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:h,visibleToasts:p=X$,toastOptions:m,dir:v=Dk(),gap:x=Z$,loadingIcon:y,icons:g,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:M=e7}=t,[C,P]=Ce.useState([]),R=Ce.useMemo(()=>Array.from(new Set([n].concat(C.filter($=>$.position).map($=>$.position)))),[C,n]),[O,k]=Ce.useState([]),[L,z]=Ce.useState(!1),[G,te]=Ce.useState(!1),[B,Z]=Ce.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Ce.useRef(null),ne=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Ce.useRef(null),j=Ce.useRef(!1),U=Ce.useCallback($=>{var re;(re=C.find(Y=>Y.id===$.id))!=null&&re.delete||Bi.dismiss($.id),P(Y=>Y.filter(({id:ue})=>ue!==$.id))},[C]);return Ce.useEffect(()=>Bi.subscribe($=>{if($.dismiss){P(re=>re.map(Y=>Y.id===$.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{PF.flushSync(()=>{P(re=>{let Y=re.findIndex(ue=>ue.id===$.id);return Y!==-1?[...re.slice(0,Y),{...re[Y],...$},...re.slice(Y+1)]:[$,...re]})})})}),[]),Ce.useEffect(()=>{if(l!=="system"){Z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{Z($?"dark":"light")})},[l]),Ce.useEffect(()=>{C.length<=1&&z(!1)},[C]),Ce.useEffect(()=>{let $=re=>{var Y,ue;r.every(Me=>re[Me]||re.code===Me)&&(z(!0),(Y=J.current)==null||Y.focus()),re.code==="Escape"&&(document.activeElement===J.current||(ue=J.current)!=null&&ue.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),Ce.useEffect(()=>{if(J.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,j.current=!1)}},[J.current]),C.length?Ce.createElement("section",{"aria-label":`${w} ${ne}`,tabIndex:-1},R.map(($,re)=>{var Y;let[ue,Me]=$.split("-");return Ce.createElement("ol",{key:$,dir:v==="auto"?Dk():v,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":ue,"data-x-position":Me,style:{"--front-toast-height":`${((Y=O[0])==null?void 0:Y.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||q$,"--width":`${K$}px`,"--gap":`${x}px`,...h},onBlur:be=>{j.current&&!be.currentTarget.contains(be.relatedTarget)&&(j.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||j.current||(j.current=!0,F.current=be.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{G||z(!1)},onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},C.filter(be=>!be.position&&re===0||be.position===$).map((be,Se)=>{var Le,je;return Ce.createElement(t7,{key:be.id,icons:g,index:Se,toast:be,defaultRichColors:c,duration:(Le=m==null?void 0:m.duration)!=null?Le:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:p,closeButton:(je=m==null?void 0:m.closeButton)!=null?je:s,interacting:G,position:$,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:U,toasts:C.filter(xe=>xe.position==be.position),heights:O.filter(xe=>xe.position==be.position),setHeights:k,expandByDefault:i,gap:x,loadingIcon:y,expanded:L,pauseWhenPageIsHidden:b,cn:M})}))})):null};const r7=({...t})=>{const{theme:e="system"}=N$();return S.jsx(n7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var i7=TO.useId||(()=>{}),s7=0;function oh(t){const[e,n]=T.useState(i7());return Ll(()=>{t||n(r=>r??String(s7++))},[t]),t||(e?`radix-${e}`:"")}const o7=["top","right","bottom","left"],Il=Math.min,Vi=Math.max,xx=Math.round,oy=Math.floor,Dl=t=>({x:t,y:t}),a7={left:"right",right:"left",bottom:"top",top:"bottom"},l7={start:"end",end:"start"};function zE(t,e,n){return Vi(t,Il(e,n))}function ya(t,e){return typeof t=="function"?t(e):t}function xa(t){return t.split("-")[0]}function qh(t){return t.split("-")[1]}function MA(t){return t==="x"?"y":"x"}function TA(t){return t==="y"?"height":"width"}function Ol(t){return["top","bottom"].includes(xa(t))?"y":"x"}function AA(t){return MA(Ol(t))}function c7(t,e,n){n===void 0&&(n=!1);const r=qh(t),i=AA(t),s=TA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=_x(o)),[o,_x(o)]}function u7(t){const e=_x(t);return[BE(t),e,BE(e)]}function BE(t){return t.replace(/start|end/g,e=>l7[e])}function d7(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function h7(t,e,n,r){const i=qh(t);let s=d7(xa(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(BE)))),s}function _x(t){return t.replace(/left|right|bottom|top/g,e=>a7[e])}function f7(t){return{top:0,right:0,bottom:0,left:0,...t}}function yU(t){return typeof t!="number"?f7(t):{top:t,right:t,bottom:t,left:t}}function wx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ok(t,e,n){let{reference:r,floating:i}=t;const s=Ol(e),o=AA(e),a=TA(o),l=xa(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(qh(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const p7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Ok(c,r,l),p=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:w,y:b,data:M,reset:C}=await g({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,h=b??h,m={...m,[y]:{...m[y],...M}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:h}=Ok(c,p,l)),x=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:m}};async function am(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ya(e,t),v=yU(m),y=a[p?h==="floating"?"reference":"floating":h],g=wx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=wx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(g.top-C.top+v.top)/M.y,bottom:(C.bottom-g.bottom+v.bottom)/M.y,left:(g.left-C.left+v.left)/M.x,right:(C.right-g.right+v.right)/M.x}}const m7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=ya(t,e)||{};if(c==null)return{};const h=yU(u),p={x:n,y:r},m=AA(i),v=TA(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",M=s.reference[v]+s.reference[m]-p[m]-s.floating[v],C=p[m]-s.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=P?P[b]:0;(!R||!await(o.isElement==null?void 0:o.isElement(P)))&&(R=a.floating[b]||s.floating[v]);const O=M/2-C/2,k=R/2-x[v]/2-1,L=Il(h[g],k),z=Il(h[w],k),G=L,te=R-x[v]-z,B=R/2-x[v]/2+O,Z=zE(G,B,te),J=!l.arrow&&qh(i)!=null&&B!==Z&&s.reference[v]/2-(B<G?L:z)-x[v]/2<0,ne=J?B<G?B-G:B-te:0;return{[m]:p[m]+ne,data:{[m]:Z,centerOffset:B-Z-ne,...J&&{alignmentOffset:ne}},reset:J}}}),g7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=ya(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=xa(i),w=Ol(a),b=xa(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(b||!x?[_x(a)]:u7(a)),P=v!=="none";!p&&P&&C.push(...h7(a,x,v,M));const R=[a,...C],O=await am(e,y),k=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(O[g]),h){const B=c7(i,o,M);k.push(O[B[0]],O[B[1]])}if(L=[...L,{placement:i,overflows:k}],!k.every(B=>B<=0)){var z,G;const B=(((z=s.flip)==null?void 0:z.index)||0)+1,Z=R[B];if(Z)return{data:{index:B,overflows:L},reset:{placement:Z}};let J=(G=L.filter(ne=>ne.overflows[0]<=0).sort((ne,F)=>ne.overflows[1]-F.overflows[1])[0])==null?void 0:G.placement;if(!J)switch(m){case"bestFit":{var te;const ne=(te=L.filter(F=>{if(P){const j=Ol(F.placement);return j===w||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,U)=>j+U,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:te[0];ne&&(J=ne);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function Fk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Uk(t){return o7.some(e=>t[e]>=0)}const v7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ya(t,e);switch(r){case"referenceHidden":{const s=await am(e,{...i,elementContext:"reference"}),o=Fk(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Uk(o)}}}case"escaped":{const s=await am(e,{...i,altBoundary:!0}),o=Fk(s,n.floating);return{data:{escapedOffsets:o,escaped:Uk(o)}}}default:return{}}}}};async function y7(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=xa(n),a=qh(n),l=Ol(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=ya(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const x7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await y7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},_7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:w}=y;return{x:g,y:w}}},...l}=ya(t,e),c={x:n,y:r},u=await am(e,l),h=Ol(xa(i)),p=MA(h);let m=c[p],v=c[h];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=m+u[y],b=m-u[g];m=zE(w,m,b)}if(o){const y=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=v+u[y],b=v-u[g];v=zE(w,v,b)}const x=a.fn({...e,[p]:m,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[h]:o}}}}}},w7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ya(t,e),u={x:n,y:r},h=Ol(i),p=MA(h);let m=u[p],v=u[h];const x=ya(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const b=p==="y"?"height":"width",M=s.reference[p]-s.floating[b]+y.mainAxis,C=s.reference[p]+s.reference[b]-y.mainAxis;m<M?m=M:m>C&&(m=C)}if(c){var g,w;const b=p==="y"?"width":"height",M=["top","left"].includes(xa(i)),C=s.reference[h]-s.floating[b]+(M&&((g=o.offset)==null?void 0:g[h])||0)+(M?0:y.crossAxis),P=s.reference[h]+s.reference[b]+(M?0:((w=o.offset)==null?void 0:w[h])||0)-(M?y.crossAxis:0);v<C?v=C:v>P&&(v=P)}return{[p]:m,[h]:v}}}},b7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ya(t,e),u=await am(e,c),h=xa(i),p=qh(i),m=Ol(i)==="y",{width:v,height:x}=s.floating;let y,g;h==="top"||h==="bottom"?(y=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,y=p==="end"?"top":"bottom");const w=x-u.top-u.bottom,b=v-u.left-u.right,M=Il(x-u[y],w),C=Il(v-u[g],b),P=!e.middlewareData.shift;let R=M,O=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=w),P&&!p){const L=Vi(u.left,0),z=Vi(u.right,0),G=Vi(u.top,0),te=Vi(u.bottom,0);m?O=v-2*(L!==0||z!==0?L+z:Vi(u.left,u.right)):R=x-2*(G!==0||te!==0?G+te:Vi(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:R});const k=await o.getDimensions(a.floating);return v!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function __(){return typeof window<"u"}function Yh(t){return xU(t)?(t.nodeName||"").toLowerCase():"#document"}function $i(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fo(t){var e;return(e=(xU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xU(t){return __()?t instanceof Node||t instanceof $i(t).Node:!1}function qs(t){return __()?t instanceof Element||t instanceof $i(t).Element:!1}function Lo(t){return __()?t instanceof HTMLElement||t instanceof $i(t).HTMLElement:!1}function zk(t){return!__()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $i(t).ShadowRoot}function pg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function S7(t){return["table","td","th"].includes(Yh(t))}function w_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function CA(t){const e=PA(),n=qs(t)?Ys(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function E7(t){let e=Fl(t);for(;Lo(e)&&!Ph(e);){if(CA(e))return e;if(w_(e))return null;e=Fl(e)}return null}function PA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ph(t){return["html","body","#document"].includes(Yh(t))}function Ys(t){return $i(t).getComputedStyle(t)}function b_(t){return qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fl(t){if(Yh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zk(t)&&t.host||Fo(t);return zk(e)?e.host:e}function _U(t){const e=Fl(t);return Ph(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lo(e)&&pg(e)?e:_U(e)}function lm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_U(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=$i(i);if(s){const a=jE(o);return e.concat(o,o.visualViewport||[],pg(i)?i:[],a&&n?lm(a):[])}return e.concat(i,lm(i,[],n))}function jE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wU(t){const e=Ys(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=xx(n)!==s||xx(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function RA(t){return qs(t)?t:t.contextElement}function ah(t){const e=RA(t);if(!Lo(e))return Dl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=wU(e);let o=(s?xx(n.width):n.width)/r,a=(s?xx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const M7=Dl(0);function bU(t){const e=$i(t);return!PA()||!e.visualViewport?M7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function T7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$i(t)?!1:e}function uu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=RA(t);let o=Dl(1);e&&(r?qs(r)&&(o=ah(r)):o=ah(t));const a=T7(s,n,r)?bU(s):Dl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=$i(s),m=r&&qs(r)?$i(r):r;let v=p,x=jE(v);for(;x&&r&&m!==v;){const y=ah(x),g=x.getBoundingClientRect(),w=Ys(x),b=g.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,M=g.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=b,c+=M,v=$i(x),x=jE(v)}}return wx({width:u,height:h,x:l,y:c})}function A7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Fo(r),a=e?w_(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Dl(1);const u=Dl(0),h=Lo(r);if((h||!h&&!s)&&((Yh(r)!=="body"||pg(o))&&(l=b_(r)),Lo(r))){const p=uu(r);c=ah(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function C7(t){return Array.from(t.getClientRects())}function VE(t,e){const n=b_(t).scrollLeft;return e?e.left+n:uu(Fo(t)).left+n}function P7(t){const e=Fo(t),n=b_(t),r=t.ownerDocument.body,i=Vi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+VE(t);const a=-n.scrollTop;return Ys(r).direction==="rtl"&&(o+=Vi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function R7(t,e){const n=$i(t),r=Fo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=PA();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function k7(t,e){const n=uu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Lo(t)?ah(t):Dl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Bk(t,e,n){let r;if(e==="viewport")r=R7(t,n);else if(e==="document")r=P7(Fo(t));else if(qs(e))r=k7(e,n);else{const i=bU(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return wx(r)}function SU(t,e){const n=Fl(t);return n===e||!qs(n)||Ph(n)?!1:Ys(n).position==="fixed"||SU(n,e)}function N7(t,e){const n=e.get(t);if(n)return n;let r=lm(t,[],!1).filter(a=>qs(a)&&Yh(a)!=="body"),i=null;const s=Ys(t).position==="fixed";let o=s?Fl(t):t;for(;qs(o)&&!Ph(o);){const a=Ys(o),l=CA(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pg(o)&&!l&&SU(t,o))?r=r.filter(u=>u!==o):i=a,o=Fl(o)}return e.set(t,r),r}function L7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?w_(e)?[]:N7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=Bk(e,u,i);return c.top=Vi(h.top,c.top),c.right=Il(h.right,c.right),c.bottom=Il(h.bottom,c.bottom),c.left=Vi(h.left,c.left),c},Bk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I7(t){const{width:e,height:n}=wU(t);return{width:e,height:n}}function D7(t,e,n){const r=Lo(e),i=Fo(e),s=n==="fixed",o=uu(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Dl(0);if(r||!r&&!s)if((Yh(e)!=="body"||pg(i))&&(a=b_(e)),r){const m=uu(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=VE(i));let c=0,u=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();u=m.top+a.scrollTop,c=m.left+a.scrollLeft-VE(i,m)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function uS(t){return Ys(t).position==="static"}function jk(t,e){if(!Lo(t)||Ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fo(t)===n&&(n=n.ownerDocument.body),n}function EU(t,e){const n=$i(t);if(w_(t))return n;if(!Lo(t)){let i=Fl(t);for(;i&&!Ph(i);){if(qs(i)&&!uS(i))return i;i=Fl(i)}return n}let r=jk(t,e);for(;r&&S7(r)&&uS(r);)r=jk(r,e);return r&&Ph(r)&&uS(r)&&!CA(r)?n:r||E7(t)||n}const O7=async function(t){const e=this.getOffsetParent||EU,n=this.getDimensions,r=await n(t.floating);return{reference:D7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F7(t){return Ys(t).direction==="rtl"}const U7={convertOffsetParentRelativeRectToViewportRelativeRect:A7,getDocumentElement:Fo,getClippingRect:L7,getOffsetParent:EU,getElementRects:O7,getClientRects:C7,getDimensions:I7,getScale:ah,isElement:qs,isRTL:F7};function z7(t,e){let n=null,r;const i=Fo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=oy(u),v=oy(i.clientWidth-(c+h)),x=oy(i.clientHeight-(u+p)),y=oy(c),w={rootMargin:-m+"px "+-v+"px "+-x+"px "+-y+"px",threshold:Vi(0,Il(1,l))||1};let b=!0;function M(C){const P=C[0].intersectionRatio;if(P!==l){if(!b)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(M,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,w)}n.observe(t)}return o(!0),s}function B7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=RA(t),u=i||s?[...c?lm(c):[],...lm(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=c&&a?z7(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?uu(t):null;l&&y();function y(){const g=uu(t);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&n(),x=g,v=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const j7=x7,V7=_7,H7=g7,W7=b7,G7=v7,Vk=m7,$7=w7,X7=(t,e,n)=>{const r=new Map,i={platform:U7,...n},s={...i.platform,_c:r};return p7(t,e,{...i,platform:s})};var k0=typeof document<"u"?T.useLayoutEffect:T.useEffect;function bx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!bx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function MU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hk(t,e){const n=MU(t);return Math.round(e*n)/n}function dS(t){const e=T.useRef(t);return k0(()=>{e.current=t}),e}function q7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=T.useState(r);bx(p,r)||m(r);const[v,x]=T.useState(null),[y,g]=T.useState(null),w=T.useCallback(F=>{F!==P.current&&(P.current=F,x(F))},[]),b=T.useCallback(F=>{F!==R.current&&(R.current=F,g(F))},[]),M=s||v,C=o||y,P=T.useRef(null),R=T.useRef(null),O=T.useRef(u),k=l!=null,L=dS(l),z=dS(i),G=dS(c),te=T.useCallback(()=>{if(!P.current||!R.current)return;const F={placement:e,strategy:n,middleware:p};z.current&&(F.platform=z.current),X7(P.current,R.current,F).then(j=>{const U={...j,isPositioned:G.current!==!1};B.current&&!bx(O.current,U)&&(O.current=U,dg.flushSync(()=>{h(U)}))})},[p,e,n,z,G]);k0(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const B=T.useRef(!1);k0(()=>(B.current=!0,()=>{B.current=!1}),[]),k0(()=>{if(M&&(P.current=M),C&&(R.current=C),M&&C){if(L.current)return L.current(M,C,te);te()}},[M,C,te,L,k]);const Z=T.useMemo(()=>({reference:P,floating:R,setReference:w,setFloating:b}),[w,b]),J=T.useMemo(()=>({reference:M,floating:C}),[M,C]),ne=T.useMemo(()=>{const F={position:n,left:0,top:0};if(!J.floating)return F;const j=Hk(J.floating,u.x),U=Hk(J.floating,u.y);return a?{...F,transform:"translate("+j+"px, "+U+"px)",...MU(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:U}},[n,a,J.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:te,refs:Z,elements:J,floatingStyles:ne}),[u,te,Z,J,ne])}const Y7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Vk({element:r.current,padding:i}).fn(n):{}:r?Vk({element:r,padding:i}).fn(n):{}}}},K7=(t,e)=>({...j7(t),options:[t,e]}),Z7=(t,e)=>({...V7(t),options:[t,e]}),J7=(t,e)=>({...$7(t),options:[t,e]}),Q7=(t,e)=>({...H7(t),options:[t,e]}),eX=(t,e)=>({...W7(t),options:[t,e]}),tX=(t,e)=>({...G7(t),options:[t,e]}),nX=(t,e)=>({...Y7(t),options:[t,e]});var rX="Arrow",TU=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return S.jsx(Xt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});TU.displayName=rX;var iX=TU;function sX(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[t][l])||a,y=T.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,oX(i,...e)]}function oX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kA(t){const[e,n]=T.useState(void 0);return Ll(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var NA="Popper",[AU,S_]=sX(NA),[aX,CU]=AU(NA),PU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return S.jsx(aX,{scope:e,anchor:r,onAnchorChange:i,children:n})};PU.displayName=NA;var RU="PopperAnchor",kU=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=CU(RU,n),o=T.useRef(null),a=Cn(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:S.jsx(Xt.div,{...i,ref:a})});kU.displayName=RU;var LA="PopperContent",[lX,cX]=AU(LA),NU=T.forwardRef((t,e)=>{var Se,Le,je,xe,ze,q;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,y=CU(LA,n),[g,w]=T.useState(null),b=Cn(e,Ee=>w(Ee)),[M,C]=T.useState(null),P=kA(M),R=(P==null?void 0:P.width)??0,O=(P==null?void 0:P.height)??0,k=r+(s!=="center"?"-"+s:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(c)?c:[c],G=z.length>0,te={padding:L,boundary:z.filter(dX),altBoundary:G},{refs:B,floatingStyles:Z,placement:J,isPositioned:ne,middlewareData:F}=q7({strategy:"fixed",placement:k,whileElementsMounted:(...Ee)=>B7(...Ee,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[K7({mainAxis:i+O,alignmentAxis:o}),l&&Z7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?J7():void 0,...te}),l&&Q7({...te}),eX({...te,apply:({elements:Ee,rects:ge,availableWidth:ke,availableHeight:ve})=>{const{width:rt,height:W}=ge.reference,D=Ee.floating.style;D.setProperty("--radix-popper-available-width",`${ke}px`),D.setProperty("--radix-popper-available-height",`${ve}px`),D.setProperty("--radix-popper-anchor-width",`${rt}px`),D.setProperty("--radix-popper-anchor-height",`${W}px`)}}),M&&nX({element:M,padding:a}),hX({arrowWidth:R,arrowHeight:O}),p&&tX({strategy:"referenceHidden",...te})]}),[j,U]=DU(J),$=Ki(v);Ll(()=>{ne&&($==null||$())},[ne,$]);const re=(Se=F.arrow)==null?void 0:Se.x,Y=(Le=F.arrow)==null?void 0:Le.y,ue=((je=F.arrow)==null?void 0:je.centerOffset)!==0,[Me,be]=T.useState();return Ll(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),S.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ne?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(xe=F.transformOrigin)==null?void 0:xe.x,(ze=F.transformOrigin)==null?void 0:ze.y].join(" "),...((q=F.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(lX,{scope:n,placedSide:j,onArrowChange:C,arrowX:re,arrowY:Y,shouldHideArrow:ue,children:S.jsx(Xt.div,{"data-side":j,"data-align":U,...x,ref:b,style:{...x.style,animation:ne?void 0:"none"}})})})});NU.displayName=LA;var LU="PopperArrow",uX={top:"bottom",right:"left",bottom:"top",left:"right"},IU=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=cX(LU,r),o=uX[s.placedSide];return S.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:S.jsx(iX,{...i,ref:n,style:{...i.style,display:"block"}})})});IU.displayName=LU;function dX(t){return t!==null}var hX=t=>({name:"transformOrigin",options:t,fn(e){var y,g,w;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=DU(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=o?h:`${p}px`,x=`${-l}px`):c==="top"?(v=o?h:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=o?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=o?h:`${m}px`),{data:{x:v,y:x}}}});function DU(t){const[e,n="center"]=t.split("-");return[e,n]}var fX=PU,IA=kU,OU=NU,FU=IU,[E_,Rme]=wu("Tooltip",[S_]),DA=S_(),UU="TooltipProvider",pX=700,Wk="tooltip.open",[mX,zU]=E_(UU),BU=t=>{const{__scopeTooltip:e,delayDuration:n=pX,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=T.useState(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),S.jsx(mX,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};BU.displayName=UU;var jU="Tooltip",[kme,M_]=E_(jU),HE="TooltipTrigger",gX=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=M_(HE,n),s=zU(HE,n),o=DA(n),a=T.useRef(null),l=Cn(e,a,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),h=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),S.jsx(IA,{asChild:!0,...o,children:S.jsx(Xt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Tt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Tt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Tt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Tt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Tt(t.onBlur,i.onClose),onClick:Tt(t.onClick,i.onClose)})})});gX.displayName=HE;var vX="TooltipPortal",[Nme,yX]=E_(vX,{forceMount:void 0}),Rh="TooltipContent",VU=T.forwardRef((t,e)=>{const n=yX(Rh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=M_(Rh,t.__scopeTooltip);return S.jsx(Aa,{present:r||o.open,children:o.disableHoverableContent?S.jsx(HU,{side:i,...s,ref:e}):S.jsx(xX,{side:i,...s,ref:e})})}),xX=T.forwardRef((t,e)=>{const n=M_(Rh,t.__scopeTooltip),r=zU(Rh,t.__scopeTooltip),i=T.useRef(null),s=Cn(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,p=T.useCallback(()=>{a(null),h(!1)},[h]),m=T.useCallback((v,x)=>{const y=v.currentTarget,g={x:v.clientX,y:v.clientY},w=SX(g,y.getBoundingClientRect()),b=EX(g,w),M=MX(x.getBoundingClientRect()),C=AX([...b,...M]);a(C),h(!0)},[h]);return T.useEffect(()=>()=>p(),[p]),T.useEffect(()=>{if(l&&u){const v=y=>m(y,u),x=y=>m(y,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[l,u,m,p]),T.useEffect(()=>{if(o){const v=x=>{const y=x.target,g={x:x.clientX,y:x.clientY},w=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!TX(g,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),S.jsx(HU,{...t,ref:s})}),[_X,wX]=E_(jU,{isInside:!1}),HU=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=M_(Rh,n),c=DA(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(Wk,u),()=>document.removeEventListener(Wk,u)),[u]),T.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),S.jsx(hg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:S.jsxs(OU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(NF,{children:r}),S.jsx(_X,{scope:n,isInside:!0,children:S.jsx(o9,{id:l.contentId,role:"tooltip",children:i||r})})]})})});VU.displayName=Rh;var WU="TooltipArrow",bX=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=DA(n);return wX(WU,n).isInside?null:S.jsx(FU,{...i,...r,ref:e})});bX.displayName=WU;function SX(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EX(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function MX(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function TX(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function AX(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CX(e)}function CX(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var PX=BU,GU=VU;const RX=PX,kX=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>S.jsx(GU,{ref:r,sideOffset:e,className:Yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));kX.displayName=GU.displayName;var T_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},A_=typeof window>"u"||"Deno"in globalThis;function ks(){}function NX(t,e){return typeof t=="function"?t(e):t}function LX(t){return typeof t=="number"&&t>=0&&t!==1/0}function IX(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gk(t,e){return typeof t=="function"?t(e):t}function DX(t,e){return typeof t=="function"?t(e):t}function $k(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==OA(o,e.options))return!1}else if(!um(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Xk(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(cm(e.options.mutationKey)!==cm(s))return!1}else if(!um(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function OA(t,e){return((e==null?void 0:e.queryKeyHashFn)||cm)(t)}function cm(t){return JSON.stringify(t,(e,n)=>WE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function um(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!um(t[n],e[n])):!1}function $U(t,e){if(t===e)return t;const n=qk(t)&&qk(e);if(n||WE(t)&&WE(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=$U(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function qk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function WE(t){if(!Yk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Yk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Yk(t){return Object.prototype.toString.call(t)==="[object Object]"}function OX(t){return new Promise(e=>{setTimeout(e,t)})}function FX(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$U(t,e):e}function UX(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function zX(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var FA=Symbol();function XU(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===FA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $c,cl,fh,lO,BX=(lO=class extends T_{constructor(){super();an(this,$c);an(this,cl);an(this,fh);zt(this,fh,e=>{if(!A_&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Pe(this,cl)||this.setEventListener(Pe(this,fh))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,cl))==null||e.call(this),zt(this,cl,void 0))}setEventListener(e){var n;zt(this,fh,e),(n=Pe(this,cl))==null||n.call(this),zt(this,cl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Pe(this,$c)!==e&&(zt(this,$c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Pe(this,$c)=="boolean"?Pe(this,$c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$c=new WeakMap,cl=new WeakMap,fh=new WeakMap,lO),qU=new BX,ph,ul,mh,cO,jX=(cO=class extends T_{constructor(){super();an(this,ph,!0);an(this,ul);an(this,mh);zt(this,mh,e=>{if(!A_&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Pe(this,ul)||this.setEventListener(Pe(this,mh))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,ul))==null||e.call(this),zt(this,ul,void 0))}setEventListener(e){var n;zt(this,mh,e),(n=Pe(this,ul))==null||n.call(this),zt(this,ul,e(this.setOnline.bind(this)))}setOnline(e){Pe(this,ph)!==e&&(zt(this,ph,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Pe(this,ph)}},ph=new WeakMap,ul=new WeakMap,mh=new WeakMap,cO),Sx=new jX;function VX(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function HX(t){return Math.min(1e3*2**t,3e4)}function YU(t){return(t??"online")==="online"?Sx.isOnline():!0}var KU=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hS(t){return t instanceof KU}function ZU(t){let e=!1,n=0,r=!1,i;const s=VX(),o=x=>{var y;r||(p(new KU(x)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>qU.isFocused()&&(t.networkMode==="always"||Sx.isOnline())&&t.canRun(),u=()=>YU(t.networkMode)&&t.canRun(),h=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),i==null||i(),s.resolve(x))},p=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),i==null||i(),s.reject(x))},m=()=>new Promise(x=>{var y;i=g=>{(r||c())&&x(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(h).catch(g=>{var P;if(r)return;const w=t.retry??(A_?0:3),b=t.retryDelay??HX,M=typeof b=="function"?b(n,g):b,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!C){p(g);return}n++,(P=t.onFail)==null||P.call(t,n,g),OX(M).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),s)}}function WX(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var si=WX(),Xc,uO,JU=(uO=class{constructor(){an(this,Xc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LX(this.gcTime)&&zt(this,Xc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(A_?1/0:5*60*1e3))}clearGcTimeout(){Pe(this,Xc)&&(clearTimeout(Pe(this,Xc)),zt(this,Xc,void 0))}},Xc=new WeakMap,uO),gh,vh,fs,Vr,ig,qc,Is,ea,dO,GX=(dO=class extends JU{constructor(e){super();an(this,Is);an(this,gh);an(this,vh);an(this,fs);an(this,Vr);an(this,ig);an(this,qc);zt(this,qc,!1),zt(this,ig,e.defaultOptions),this.setOptions(e.options),this.observers=[],zt(this,fs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,zt(this,gh,XX(this.options)),this.state=e.state??Pe(this,gh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Pe(this,Vr))==null?void 0:e.promise}setOptions(e){this.options={...Pe(this,ig),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Pe(this,fs).remove(this)}setData(e,n){const r=FX(this.state.data,e,this.options);return Or(this,Is,ea).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Or(this,Is,ea).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Pe(this,Vr))==null?void 0:r.promise;return(i=Pe(this,Vr))==null||i.cancel(e),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Pe(this,gh))}isActive(){return this.observers.some(e=>DX(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!IX(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Pe(this,Vr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Pe(this,Vr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Pe(this,fs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Pe(this,Vr)&&(Pe(this,qc)?Pe(this,Vr).cancel({revert:!0}):Pe(this,Vr).cancelRetry()),this.scheduleGc()),Pe(this,fs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Or(this,Is,ea).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Pe(this,Vr))return Pe(this,Vr).continueRetry(),Pe(this,Vr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(zt(this,qc,!0),r.signal)})},s=()=>{const h=XU(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return i(p),zt(this,qc,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),zt(this,vh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Or(this,Is,ea).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,m,v,x;hS(h)&&h.silent||Or(this,Is,ea).call(this,{type:"error",error:h}),hS(h)||((m=(p=Pe(this,fs).config).onError)==null||m.call(p,h,this),(x=(v=Pe(this,fs).config).onSettled)==null||x.call(v,this.state.data,h,this)),this.scheduleGc()};return zt(this,Vr,ZU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,v,x;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){a(y);return}(m=(p=Pe(this,fs).config).onSuccess)==null||m.call(p,h,this),(x=(v=Pe(this,fs).config).onSettled)==null||x.call(v,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,p)=>{Or(this,Is,ea).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Or(this,Is,ea).call(this,{type:"pause"})},onContinue:()=>{Or(this,Is,ea).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Pe(this,Vr).start()}},gh=new WeakMap,vh=new WeakMap,fs=new WeakMap,Vr=new WeakMap,ig=new WeakMap,qc=new WeakMap,Is=new WeakSet,ea=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$X(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return hS(i)&&i.revert&&Pe(this,vh)?{...Pe(this,vh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),si.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Pe(this,fs).notify({query:this,type:"updated",action:e})})},dO);function $X(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function XX(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var go,hO,qX=(hO=class extends T_{constructor(e={}){super();an(this,go);this.config=e,zt(this,go,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??OA(i,n);let o=this.get(s);return o||(o=new GX({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Pe(this,go).has(e.queryHash)||(Pe(this,go).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Pe(this,go).get(e.queryHash);n&&(e.destroy(),n===e&&Pe(this,go).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){si.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Pe(this,go).get(e)}getAll(){return[...Pe(this,go).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$k(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$k(e,r)):n}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){si.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){si.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},go=new WeakMap,hO),vo,ni,Yc,yo,Ya,fO,YX=(fO=class extends JU{constructor(e){super();an(this,yo);an(this,vo);an(this,ni);an(this,Yc);this.mutationId=e.mutationId,zt(this,ni,e.mutationCache),zt(this,vo,[]),this.state=e.state||KX(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Pe(this,vo).includes(e)||(Pe(this,vo).push(e),this.clearGcTimeout(),Pe(this,ni).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){zt(this,vo,Pe(this,vo).filter(n=>n!==e)),this.scheduleGc(),Pe(this,ni).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Pe(this,vo).length||(this.state.status==="pending"?this.scheduleGc():Pe(this,ni).remove(this))}continue(){var e;return((e=Pe(this,Yc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,h,p,m,v,x,y,g,w,b,M,C,P,R;zt(this,Yc,ZU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,k)=>{Or(this,yo,Ya).call(this,{type:"failed",failureCount:O,error:k})},onPause:()=>{Or(this,yo,Ya).call(this,{type:"pause"})},onContinue:()=>{Or(this,yo,Ya).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Pe(this,ni).canRun(this)}));const n=this.state.status==="pending",r=!Pe(this,Yc).canStart();try{if(!n){Or(this,yo,Ya).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=Pe(this,ni).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&Or(this,yo,Ya).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const O=await Pe(this,Yc).start();return await((c=(l=Pe(this,ni).config).onSuccess)==null?void 0:c.call(l,O,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,O,e,this.state.context)),await((m=(p=Pe(this,ni).config).onSettled)==null?void 0:m.call(p,O,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,O,null,e,this.state.context)),Or(this,yo,Ya).call(this,{type:"success",data:O}),O}catch(O){try{throw await((g=(y=Pe(this,ni).config).onError)==null?void 0:g.call(y,O,e,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,O,e,this.state.context)),await((C=(M=Pe(this,ni).config).onSettled)==null?void 0:C.call(M,void 0,O,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,O,e,this.state.context)),O}finally{Or(this,yo,Ya).call(this,{type:"error",error:O})}}finally{Pe(this,ni).runNext(this)}}},vo=new WeakMap,ni=new WeakMap,Yc=new WeakMap,yo=new WeakSet,Ya=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),si.batch(()=>{Pe(this,vo).forEach(r=>{r.onMutationUpdate(e)}),Pe(this,ni).notify({mutation:this,type:"updated",action:e})})},fO);function KX(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zi,sg,pO,ZX=(pO=class extends T_{constructor(e={}){super();an(this,zi);an(this,sg);this.config=e,zt(this,zi,new Map),zt(this,sg,Date.now())}build(e,n,r){const i=new YX({mutationCache:this,mutationId:++Fv(this,sg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ay(e),r=Pe(this,zi).get(n)??[];r.push(e),Pe(this,zi).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ay(e);if(Pe(this,zi).has(n)){const i=(r=Pe(this,zi).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?Pe(this,zi).delete(n):Pe(this,zi).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Pe(this,zi).get(ay(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Pe(this,zi).get(ay(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){si.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Pe(this,zi).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xk(n,r))}findAll(e={}){return this.getAll().filter(n=>Xk(e,n))}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return si.batch(()=>Promise.all(e.map(n=>n.continue().catch(ks))))}},zi=new WeakMap,sg=new WeakMap,pO);function ay(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Kk(t){return{onFetch:(e,n)=>{var u,h,p,m,v;const r=e.options,i=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=XU(e.options,e.fetchOptions),w=async(b,M,C)=>{if(x)return Promise.reject();if(M==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:e.queryKey,pageParam:M,direction:C?"backward":"forward",meta:e.options.meta};y(P);const R=await g(P),{maxPages:O}=e.options,k=C?zX:UX;return{pages:k(b.pages,R,O),pageParams:k(b.pageParams,M,O)}};if(i&&s.length){const b=i==="backward",M=b?JX:Zk,C={pages:s,pageParams:o},P=M(r,C);a=await w(C,P,b)}else{const b=t??s.length;do{const M=l===0?o[0]??r.initialPageParam:Zk(r,a);if(l>0&&M==null)break;a=await w(a,M),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var x,y;return(y=(x=e.options).persister)==null?void 0:y.call(x,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Zk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function JX(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Bn,dl,hl,yh,xh,fl,_h,wh,mO,QX=(mO=class{constructor(t={}){an(this,Bn);an(this,dl);an(this,hl);an(this,yh);an(this,xh);an(this,fl);an(this,_h);an(this,wh);zt(this,Bn,t.queryCache||new qX),zt(this,dl,t.mutationCache||new ZX),zt(this,hl,t.defaultOptions||{}),zt(this,yh,new Map),zt(this,xh,new Map),zt(this,fl,0)}mount(){Fv(this,fl)._++,Pe(this,fl)===1&&(zt(this,_h,qU.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Bn).onFocus())})),zt(this,wh,Sx.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,Bn).onOnline())})))}unmount(){var t,e;Fv(this,fl)._--,Pe(this,fl)===0&&((t=Pe(this,_h))==null||t.call(this),zt(this,_h,void 0),(e=Pe(this,wh))==null||e.call(this),zt(this,wh,void 0))}isFetching(t){return Pe(this,Bn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Pe(this,dl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,Bn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Pe(this,Bn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Gk(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Pe(this,Bn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Pe(this,Bn).get(r.queryHash),s=i==null?void 0:i.state.data,o=NX(e,s);if(o!==void 0)return Pe(this,Bn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return si.batch(()=>Pe(this,Bn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,Bn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Pe(this,Bn);si.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Pe(this,Bn),r={type:"active",...t};return si.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=si.batch(()=>Pe(this,Bn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ks).catch(ks)}invalidateQueries(t={},e={}){return si.batch(()=>{if(Pe(this,Bn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=si.batch(()=>Pe(this,Bn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ks)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ks)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Pe(this,Bn).build(this,e);return n.isStaleByTime(Gk(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ks).catch(ks)}fetchInfiniteQuery(t){return t.behavior=Kk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ks).catch(ks)}ensureInfiniteQueryData(t){return t.behavior=Kk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sx.isOnline()?Pe(this,dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Pe(this,Bn)}getMutationCache(){return Pe(this,dl)}getDefaultOptions(){return Pe(this,hl)}setDefaultOptions(t){zt(this,hl,t)}setQueryDefaults(t,e){Pe(this,yh).set(cm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Pe(this,yh).values()];let n={};return e.forEach(r=>{um(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Pe(this,xh).set(cm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Pe(this,xh).values()];let n={};return e.forEach(r=>{um(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Pe(this,hl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=OA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===FA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Pe(this,hl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Pe(this,Bn).clear(),Pe(this,dl).clear()}},Bn=new WeakMap,dl=new WeakMap,hl=new WeakMap,yh=new WeakMap,xh=new WeakMap,fl=new WeakMap,_h=new WeakMap,wh=new WeakMap,mO),eq=T.createContext(void 0),tq=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(eq.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}var gl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gl||(gl={}));const Jk="popstate";function nq(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return GE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ex(i)}return iq(e,n,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rq(){return Math.random().toString(36).substr(2,8)}function Qk(t,e){return{usr:t.state,key:t.key,idx:e}}function GE(t,e,n,r){return n===void 0&&(n=null),dm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kh(e):e,{state:n,key:e&&e.key||r||rq()})}function Ex(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iq(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=gl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(dm({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=gl.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function p(y,g){a=gl.Push;let w=GE(x.location,y,g);c=u()+1;let b=Qk(w,c),M=x.createHref(w);try{o.pushState(b,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=gl.Replace;let w=GE(x.location,y,g);c=u();let b=Qk(w,c),M=x.createHref(w);o.replaceState(b,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Ex(y);return w=w.replace(/ $/,"%20"),sr(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Jk,h),l=y,()=>{i.removeEventListener(Jk,h),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return o.go(y)}};return x}var eN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eN||(eN={}));function sq(t,e,n){return n===void 0&&(n="/"),oq(t,e,n,!1)}function oq(t,e,n,r){let i=typeof e=="string"?Kh(e):e,s=UA(i.pathname||"/",n);if(s==null)return null;let o=ez(t);aq(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=yq(s);a=gq(o[l],c,r)}return a}function ez(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(sr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ml([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(sr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ez(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:pq(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tz(s.path))i(s,o,l)}),e}function tz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tz(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lq=/^:[\w-]+$/,cq=3,uq=2,dq=1,hq=10,fq=-2,tN=t=>t==="*";function pq(t,e){let n=t.split("/"),r=n.length;return n.some(tN)&&(r+=fq),e&&(r+=uq),n.filter(i=>!tN(i)).reduce((i,s)=>i+(lq.test(s)?cq:s===""?dq:hq),r)}function mq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gq(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=nN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=nN({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ml([s,h.pathname]),pathnameBase:bq(Ml([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ml([s,h.pathnameBase]))}return o}function nN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let x=a[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function vq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),QU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xq(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kh(t):t;return{pathname:n?n.startsWith("/")?n:_q(n,e):e,search:Sq(r),hash:Eq(i)}}function _q(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nz(t,e){let n=wq(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rz(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Kh(t):(i=dm({},t),sr(!i.pathname||!i.pathname.includes("?"),fS("?","pathname","search",i)),sr(!i.pathname||!i.pathname.includes("#"),fS("#","pathname","hash",i)),sr(!i.search||!i.search.includes("#"),fS("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=xq(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ml=t=>t.join("/").replace(/\/\/+/g,"/"),bq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Eq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iz=["post","put","patch","delete"];new Set(iz);const Tq=["get",...iz];new Set(Tq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}const zA=T.createContext(null),Aq=T.createContext(null),bu=T.createContext(null),C_=T.createContext(null),Su=T.createContext({outlet:null,matches:[],isDataRoute:!1}),sz=T.createContext(null);function Cq(t,e){let{relative:n}=e===void 0?{}:e;mg()||sr(!1);let{basename:r,navigator:i}=T.useContext(bu),{hash:s,pathname:o,search:a}=az(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ml([r,o])),i.createHref({pathname:l,search:a,hash:s})}function mg(){return T.useContext(C_)!=null}function gg(){return mg()||sr(!1),T.useContext(C_).location}function oz(t){T.useContext(bu).static||T.useLayoutEffect(t)}function P_(){let{isDataRoute:t}=T.useContext(Su);return t?jq():Pq()}function Pq(){mg()||sr(!1);let t=T.useContext(zA),{basename:e,future:n,navigator:r}=T.useContext(bu),{matches:i}=T.useContext(Su),{pathname:s}=gg(),o=JSON.stringify(nz(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return oz(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=rz(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ml([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function az(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(bu),{matches:i}=T.useContext(Su),{pathname:s}=gg(),o=JSON.stringify(nz(i,r.v7_relativeSplatPath));return T.useMemo(()=>rz(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Rq(t,e){return kq(t,e)}function kq(t,e,n,r){mg()||sr(!1);let{navigator:i}=T.useContext(bu),{matches:s}=T.useContext(Su),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=gg(),u;if(e){var h;let y=typeof e=="string"?Kh(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||sr(!1),u=y}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=sq(t,{pathname:m}),x=Oq(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ml([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ml([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&x?T.createElement(C_.Provider,{value:{location:hm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:gl.Pop}},x):x}function Nq(){let t=Bq(),e=Mq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const Lq=T.createElement(Nq,null);class Iq extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Su.Provider,{value:this.props.routeContext},T.createElement(sz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dq(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(zA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Su.Provider,{value:e},r)}function Oq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||sr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let m,v=!1,x=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||Lq,l&&(c<0&&p===0?(v=!0,y=null):c===p&&(v=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),w=()=>{let b;return m?b=x:v?b=y:h.route.Component?b=T.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,T.createElement(Dq,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?T.createElement(Iq,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var lz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lz||{}),Mx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mx||{});function Fq(t){let e=T.useContext(zA);return e||sr(!1),e}function Uq(t){let e=T.useContext(Aq);return e||sr(!1),e}function zq(t){let e=T.useContext(Su);return e||sr(!1),e}function cz(t){let e=zq(),n=e.matches[e.matches.length-1];return n.route.id||sr(!1),n.route.id}function Bq(){var t;let e=T.useContext(sz),n=Uq(Mx.UseRouteError),r=cz(Mx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jq(){let{router:t}=Fq(lz.UseNavigateStable),e=cz(Mx.UseNavigateStable),n=T.useRef(!1);return oz(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hm({fromRouteId:e},s)))},[t,e])}function N0(t){sr(!1)}function Vq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gl.Pop,navigator:s,static:o=!1,future:a}=t;mg()&&sr(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:hm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Kh(r));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,x=T.useMemo(()=>{let y=UA(u,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:v},navigationType:i}},[l,u,h,p,m,v,i]);return x==null?null:T.createElement(bu.Provider,{value:c},T.createElement(C_.Provider,{children:n,value:x}))}function Hq(t){let{children:e,location:n}=t;return Rq($E(e),n)}new Promise(()=>{});function $E(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,$E(r.props.children,s));return}r.type!==N0&&sr(!1),!r.props.index||!r.props.children||sr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$E(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function Wq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $q(t,e){return t.button===0&&(!e||e==="_self")&&!Gq(t)}const Xq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qq="6";try{window.__reactRouterVersion=qq}catch{}const Yq="startTransition",rN=TO[Yq];function Kq(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=nq({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(h=>{c&&rN?rN(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(Vq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Zq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qq=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=Wq(e,Xq),{basename:m}=T.useContext(bu),v,x=!1;if(typeof c=="string"&&Jq.test(c)&&(v=c,Zq))try{let b=new URL(window.location.href),M=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=UA(M.pathname,m);M.origin===b.origin&&C!=null?c=C+M.search+M.hash:x=!0}catch{}let y=Cq(c,{relative:i}),g=eY(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||g(b)}return T.createElement("a",XE({},p,{href:v||y,onClick:x||s?r:w,ref:n,target:l}))});var iN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var sN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sN||(sN={}));function eY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=P_(),c=gg(),u=az(t,{relative:o});return T.useCallback(h=>{if($q(h,n)){h.preventDefault();let p=r!==void 0?r:Ex(c)===Ex(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const tY=fg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_t=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Nl:"button";return S.jsx(o,{className:Yt(tY({variant:e,size:n,className:t})),ref:s,...i})});_t.displayName="Button";var pS=0;function uz(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??oN()),document.body.insertAdjacentElement("beforeend",t[1]??oN()),pS++,()=>{pS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pS--}},[])}function oN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",aN={bubbles:!1,cancelable:!0},nY="FocusScope",BA=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),c=Ki(i),u=Ki(s),h=T.useRef(null),p=Cn(e,x=>l(x)),m=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let x=function(b){if(m.paused||!a)return;const M=b.target;a.contains(M)?h.current=M:Ka(h.current,{select:!0})},y=function(b){if(m.paused||!a)return;const M=b.relatedTarget;M!==null&&(a.contains(M)||Ka(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&Ka(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const w=new MutationObserver(g);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,m.paused]),T.useEffect(()=>{if(a){cN.add(m);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(mS,aN);a.addEventListener(mS,c),a.dispatchEvent(g),g.defaultPrevented||(rY(lY(dz(a)),{select:!0}),document.activeElement===x&&Ka(a))}return()=>{a.removeEventListener(mS,c),setTimeout(()=>{const g=new CustomEvent(gS,aN);a.addEventListener(gS,u),a.dispatchEvent(g),g.defaultPrevented||Ka(x??document.body,{select:!0}),a.removeEventListener(gS,u),cN.remove(m)},0)}}},[a,c,u,m]);const v=T.useCallback(x=>{if(!n&&!r||m.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(y&&g){const w=x.currentTarget,[b,M]=iY(w);b&&M?!x.shiftKey&&g===M?(x.preventDefault(),n&&Ka(b,{select:!0})):x.shiftKey&&g===b&&(x.preventDefault(),n&&Ka(M,{select:!0})):g===w&&x.preventDefault()}},[n,r,m.paused]);return S.jsx(Xt.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});BA.displayName=nY;function rY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ka(r,{select:e}),document.activeElement!==n)return}function iY(t){const e=dz(t),n=lN(e,t),r=lN(e.reverse(),t);return[n,r]}function dz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lN(t,e){for(const n of t)if(!sY(n,{upTo:e}))return n}function sY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oY(t){return t instanceof HTMLInputElement&&"select"in t}function Ka(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&oY(t)&&e&&t.select()}}var cN=aY();function aY(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uN(t,e),t.unshift(e)},remove(e){var n;t=uN(t,e),(n=t[0])==null||n.resume()}}}function uN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lY(t){return t.filter(e=>e.tagName!=="A")}var cY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yu=new WeakMap,ly=new WeakMap,cy={},vS=0,hz=function(t){return t&&(t.host||hz(t.parentNode))},uY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hz(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dY=function(t,e,n,r){var i=uY(e,Array.isArray(t)?t:[t]);cy[n]||(cy[n]=new WeakMap);var s=cy[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(Yu.get(p)||0)+1,y=(s.get(p)||0)+1;Yu.set(p,x),s.set(p,y),o.push(p),x===1&&v&&ly.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(e),a.clear(),vS++,function(){o.forEach(function(h){var p=Yu.get(h)-1,m=s.get(h)-1;Yu.set(h,p),s.set(h,m),p||(ly.has(h)||h.removeAttribute(r),ly.delete(h)),m||h.removeAttribute(n)}),vS--,vS||(Yu=new WeakMap,Yu=new WeakMap,ly=new WeakMap,cy={})}},fz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=cY(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),dY(r,i,n,"aria-hidden")):function(){return null}},_o=function(){return _o=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_o.apply(this,arguments)};function pz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var L0="right-scroll-bar-position",I0="width-before-scroll-bar",fY="with-scroll-bars-hidden",pY="--removed-body-scroll-bar-size";function yS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mY(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var gY=typeof window<"u"?T.useLayoutEffect:T.useEffect,dN=new WeakMap;function vY(t,e){var n=mY(null,function(r){return t.forEach(function(i){return yS(i,r)})});return gY(function(){var r=dN.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||yS(a,null)}),s.forEach(function(a){i.has(a)||yS(a,o)})}dN.set(n,t)},[t]),n}function yY(t){return t}function xY(t,e){e===void 0&&(e=yY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function _Y(t){t===void 0&&(t={});var e=xY(null);return e.options=_o({async:!0,ssr:!1},t),e}var mz=function(t){var e=t.sideCar,n=pz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,_o({},n))};mz.isSideCarExport=!0;function wY(t,e){return t.useMedium(e),mz}var gz=_Y(),xS=function(){},R_=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:xS,onWheelCapture:xS,onTouchMoveCapture:xS}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,v=t.inert,x=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,w=t.gapMode,b=pz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,C=vY([n,e]),P=_o(_o({},b),i);return T.createElement(T.Fragment,null,u&&T.createElement(M,{sideCar:gz,removeScrollBar:c,shards:h,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?T.cloneElement(T.Children.only(a),_o(_o({},P),{ref:C})):T.createElement(g,_o({},P,{className:l,ref:C}),a))});R_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};R_.classNames={fullWidth:I0,zeroRight:L0};var bY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bY();return e&&t.setAttribute("nonce",e),t}function EY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function MY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SY())&&(EY(e,n),MY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AY=function(){var t=TY();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vz=function(){var t=AY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},CY={left:0,top:0,right:0,gap:0},_S=function(t){return parseInt(t||"",10)||0},PY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[_S(n),_S(r),_S(i)]},RY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CY;var e=PY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kY=vz(),lh="data-scroll-locked",NY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(lh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(L0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(I0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(L0," .").concat(L0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(I0," .").concat(I0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(lh,`] {
    `).concat(pY,": ").concat(a,`px;
  }
`)},hN=function(){var t=parseInt(document.body.getAttribute(lh)||"0",10);return isFinite(t)?t:0},LY=function(){T.useEffect(function(){return document.body.setAttribute(lh,(hN()+1).toString()),function(){var t=hN()-1;t<=0?document.body.removeAttribute(lh):document.body.setAttribute(lh,t.toString())}},[])},IY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;LY();var s=T.useMemo(function(){return RY(i)},[i]);return T.createElement(kY,{styles:NY(s,!e,i,n?"":"!important")})},qE=!1;if(typeof window<"u")try{var uy=Object.defineProperty({},"passive",{get:function(){return qE=!0,!0}});window.addEventListener("test",uy,uy),window.removeEventListener("test",uy,uy)}catch{qE=!1}var Ku=qE?{passive:!1}:!1,DY=function(t){return t.tagName==="TEXTAREA"},yz=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DY(t)&&n[e]==="visible")},OY=function(t){return yz(t,"overflowY")},FY=function(t){return yz(t,"overflowX")},fN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=xz(t,r);if(i){var s=_z(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xz=function(t,e){return t==="v"?OY(e):FY(e)},_z=function(t,e){return t==="v"?UY(e):zY(e)},BY=function(t,e){return t==="h"&&e==="rtl"?-1:1},jY=function(t,e,n,r,i){var s=BY(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var m=_z(t,a),v=m[0],x=m[1],y=m[2],g=x-y-s*v;(v||g)&&xz(t,a)&&(h+=g,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},dy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pN=function(t){return[t.deltaX,t.deltaY]},mN=function(t){return t&&"current"in t?t.current:t},VY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WY=0,Zu=[];function GY(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(WY++)[0],s=T.useState(vz)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=hY([t.lockRef.current],(t.shards||[]).map(mN),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=dy(x),w=n.current,b="deltaX"in x?x.deltaX:w[0]-g[0],M="deltaY"in x?x.deltaY:w[1]-g[1],C,P=x.target,R=Math.abs(b)>Math.abs(M)?"h":"v";if("touches"in x&&R==="h"&&P.type==="range")return!1;var O=fN(R,P);if(!O)return!0;if(O?C=R:(C=R==="v"?"h":"v",O=fN(R,P)),!O)return!1;if(!r.current&&"changedTouches"in x&&(b||M)&&(r.current=C),!C)return!0;var k=r.current||C;return jY(k,y,x,k==="h"?b:M,!0)},[]),l=T.useCallback(function(x){var y=x;if(!(!Zu.length||Zu[Zu.length-1]!==s)){var g="deltaY"in y?pN(y):dy(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&VY(C.delta,g)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(mN).filter(Boolean).filter(function(C){return C.contains(y.target)}),M=b.length>0?a(y,b[0]):!o.current.noIsolation;M&&y.cancelable&&y.preventDefault()}}},[]),c=T.useCallback(function(x,y,g,w){var b={name:x,delta:y,target:g,should:w,shadowParent:$Y(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(M){return M!==b})},1)},[]),u=T.useCallback(function(x){n.current=dy(x),r.current=void 0},[]),h=T.useCallback(function(x){c(x.type,pN(x),x.target,a(x,t.lockRef.current))},[]),p=T.useCallback(function(x){c(x.type,dy(x),x.target,a(x,t.lockRef.current))},[]);T.useEffect(function(){return Zu.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ku),document.addEventListener("touchmove",l,Ku),document.addEventListener("touchstart",u,Ku),function(){Zu=Zu.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,Ku),document.removeEventListener("touchmove",l,Ku),document.removeEventListener("touchstart",u,Ku)}},[]);var m=t.removeScrollBar,v=t.inert;return T.createElement(T.Fragment,null,v?T.createElement(s,{styles:HY(i)}):null,m?T.createElement(IY,{gapMode:t.gapMode}):null)}function $Y(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XY=wY(gz,GY);var jA=T.forwardRef(function(t,e){return T.createElement(R_,_o({},t,{ref:e,sideCar:XY}))});jA.classNames=R_.classNames;var VA="Popover",[wz,Lme]=wu(VA,[S_]),vg=S_(),[qY,Kl]=wz(VA),bz=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=vg(e),l=T.useRef(null),[c,u]=T.useState(!1),[h=!1,p]=Yl({prop:r,defaultProp:i,onChange:s});return S.jsx(fX,{...a,children:S.jsx(qY,{scope:e,contentId:oh(),triggerRef:l,open:h,onOpenChange:p,onOpenToggle:T.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:c,onCustomAnchorAdd:T.useCallback(()=>u(!0),[]),onCustomAnchorRemove:T.useCallback(()=>u(!1),[]),modal:o,children:n})})};bz.displayName=VA;var Sz="PopoverAnchor",YY=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Kl(Sz,n),s=vg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return T.useEffect(()=>(o(),()=>a()),[o,a]),S.jsx(IA,{...s,...r,ref:e})});YY.displayName=Sz;var Ez="PopoverTrigger",Mz=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Kl(Ez,n),s=vg(n),o=Cn(e,i.triggerRef),a=S.jsx(Xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Rz(i.open),...r,ref:o,onClick:Tt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:S.jsx(IA,{asChild:!0,...s,children:a})});Mz.displayName=Ez;var HA="PopoverPortal",[KY,ZY]=wz(HA,{forceMount:void 0}),Tz=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Kl(HA,e);return S.jsx(KY,{scope:e,forceMount:n,children:S.jsx(Aa,{present:n||s.open,children:S.jsx(g_,{asChild:!0,container:i,children:r})})})};Tz.displayName=HA;var kh="PopoverContent",Az=T.forwardRef((t,e)=>{const n=ZY(kh,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Kl(kh,t.__scopePopover);return S.jsx(Aa,{present:r||s.open,children:s.modal?S.jsx(JY,{...i,ref:e}):S.jsx(QY,{...i,ref:e})})});Az.displayName=kh;var JY=T.forwardRef((t,e)=>{const n=Kl(kh,t.__scopePopover),r=T.useRef(null),i=Cn(e,r),s=T.useRef(!1);return T.useEffect(()=>{const o=r.current;if(o)return fz(o)},[]),S.jsx(jA,{as:Nl,allowPinchZoom:!0,children:S.jsx(Cz,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Tt(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Tt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Tt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),QY=T.forwardRef((t,e)=>{const n=Kl(kh,t.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return S.jsx(Cz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Cz=T.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=t,p=Kl(kh,n),m=vg(n);return uz(),S.jsx(BA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:S.jsx(hg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:S.jsx(OU,{"data-state":Rz(p.open),role:"dialog",id:p.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Pz="PopoverClose",eK=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Kl(Pz,n);return S.jsx(Xt.button,{type:"button",...r,ref:e,onClick:Tt(t.onClick,()=>i.onOpenChange(!1))})});eK.displayName=Pz;var tK="PopoverArrow",nK=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vg(n);return S.jsx(FU,{...i,...r,ref:e})});nK.displayName=tK;function Rz(t){return t?"open":"closed"}var rK=bz,iK=Mz,sK=Tz,kz=Az;const Nz=rK,Lz=iK,WA=T.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>S.jsx(sK,{children:S.jsx(kz,{ref:i,align:e,sideOffset:n,className:Yt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));WA.displayName=kz.displayName;const Iz=[{code:"en",name:"English",flag:"🇺🇸"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"fr",name:"Français",flag:"🇫🇷"},{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"zh",name:"中文",flag:"🇨🇳"}],gN={en:{"navigation.story":"Story","navigation.skills":"Skills","navigation.projects":"Projects","navigation.about":"About","navigation.contact":"Contact","navigation.getInTouch":"Get in Touch","sections.experience.title":"Work Experience","sections.experience.description":"My professional journey and the impact I've made.","sections.skills.title":"Skills & Expertise","sections.skills.description":"A comprehensive toolkit built through years of experience and continuous learning.","skills.languages":"Languages & Databases","skills.cloud":"Cloud & DevOps","skills.bigdata":"Big Data & ETL","skills.ai":"Artificial Intelligence","skills.ml":"Machine Learning Algorithms","skills.analysis":"Data Analysis & Visualization","skills.libraries":"Data Science Libraries","skills.workflow":"Workflow Orchestration","skills.version":"Version Control","hero.title":"Hi, I'm Ajith Annavarapu","hero.subtitle":"Data Engineer & Data Scientist","hero.description":"I transform raw data into meaningful insights that drive business decisions. With expertise in building robust data pipelines and scalable data systems, I help organizations harness the full potential of their data.","hero.openTo":"I'm always open to new challenges and collaborations. If you're working on an interesting project that requires data expertise, A.I or even Vibe Coding. I'd love to hear about it!","hero.exploreWork":"Explore My Work","hero.getInTouch":"Get in Touch","journey.title":"My Journey","journey.description":"From curious data enthusiast to professional data engineer.","journey.paragraph1":"My journey in the data field began with a fascination for extracting insights from raw information. Starting with a solid foundation in computer science, I quickly developed expertise in data engineering and analytics, working across various domains and technologies.","journey.paragraph2":"Along this path, I've continually expanded my skills, adapting to emerging technologies and methodologies, and building a comprehensive toolkit that allows me to tackle complex data challenges with confidence and creativity.","projects.title":"Featured Projects","projects.description":"A selection of my work that showcases my skills and experience.","certifications.title":"Certifications","certifications.description":"Professional certifications and achievements.","about.title":"About Me","about.description":"Beyond the code and data, here's a bit more about who I am.","about.paragraph1":"I'm a passionate Data Engineer with a Master's degree in Data Science, dedicated to building robust and scalable data systems that transform raw data into valuable insights.","about.paragraph2":"When I'm not immersed in data, you'll find me exploring new hiking trails, Vibe Coding, experimenting with cooking recipes, or diving into a good thriller movie. I believe in continuous learning and staying curious about the world around us.","about.paragraph3":"I'm always open to new challenges and collaborations. If you're working on an interesting project that requires data expertise, I'd love to hear about it!","about.location":"Location:","about.education":"Education:","about.email":"Email:","contact.title":"Get In Touch","contact.description":"Interested in working together? Feel free to reach out!","contact.paragraph":"I'm currently open to freelance opportunities, consulting work, and full-time positions. Don't hesitate to reach out if you think we could work together!","contact.email":"Email","contact.linkedin":"LinkedIn","contact.github":"GitHub","footer.rights":"© 2025 Ajith Annavarapu. All rights reserved.","footer.builtWith":"Built with React, TailwindCSS, and Three.js","hero.name":"Ajith Annavarapu"},es:{"navigation.story":"Historia","navigation.skills":"Habilidades","navigation.projects":"Proyectos","navigation.about":"Sobre mí","navigation.contact":"Contacto","navigation.getInTouch":"Contáctame","sections.experience.title":"Experiencia Laboral","sections.experience.description":"Mi trayectoria profesional y el impacto que he logrado.","sections.skills.title":"Habilidades y Experiencia","sections.skills.description":"Un conjunto completo de herramientas construido a través de años de experiencia y aprendizaje continuo.","skills.languages":"Lenguajes y Bases de Datos","skills.cloud":"Nube y DevOps","skills.bigdata":"Big Data y ETL","skills.ai":"Inteligencia Artificial","skills.ml":"Algoritmos de Aprendizaje Automático","skills.analysis":"Análisis y Visualización de Datos","skills.libraries":"Bibliotecas de Ciencia de Datos","skills.workflow":"Orquestación de Flujos de Trabajo","skills.version":"Control de Versiones","hero.title":"Hola, soy Ajith Annavarapu","hero.subtitle":"Ingeniero de Datos y Científico de Datos","hero.description":"Transformo datos brutos en información significativa que impulsa decisiones empresariales. Con experiencia en la construcción de canalizaciones de datos robustas y sistemas de datos escalables, ayudo a las organizaciones a aprovechar todo el potencial de sus datos.","hero.openTo":"¡Siempre estoy abierto a nuevos desafíos y colaboraciones! Si estás trabajando en un proyecto interesante que requiere experiencia en datos, IA o incluso Vibe Coding, ¡me encantaría saber de ti!","hero.exploreWork":"Explorar mi trabajo","hero.getInTouch":"Contactar","journey.title":"Mi Trayectoria","journey.description":"De entusiasta curioso de datos a ingeniero de datos profesional.","journey.paragraph1":"Mi viaje en el campo de los datos comenzó con una fascinación por extraer información valiosa de datos sin procesar. Comenzando con una base sólida en informática, rápidamente desarrollé experiencia en ingeniería y análisis de datos, trabajando en diversos dominios y tecnologías.","journey.paragraph2":"A lo largo de este camino, he expandido continuamente mis habilidades, adaptándome a tecnologías y metodologías emergentes, y construyendo un conjunto completo de herramientas que me permite abordar desafíos complejos de datos con confianza y creatividad.","projects.title":"Proyectos Destacados","projects.description":"Una selección de mi trabajo que muestra mis habilidades y experiencia.","certifications.title":"Certificaciones","certifications.description":"Certificaciones y logros profesionales.","about.title":"Sobre Mí","about.description":"Más allá del código y los datos, aquí hay un poco más sobre quién soy.","about.paragraph1":"Soy un apasionado Ingeniero de Datos con una Maestría en Ciencia de Datos, dedicado a construir sistemas de datos robustos y escalables que transforman datos sin procesar en información valiosa.","about.paragraph2":"Cuando no estoy inmerso en datos, me encontrarás explorando nuevas rutas de senderismo, haciendo Vibe Coding, experimentando con recetas de cocina o sumergiéndome en una buena película de suspenso. Creo en el aprendizaje continuo y en mantener la curiosidad sobre el mundo que nos rodea.","about.paragraph3":"Siempre estoy abierto a nuevos desafíos y colaboraciones. Si estás trabajando en un proyecto interesante que requiere experiencia en datos, ¡me encantaría saber de ello!","about.location":"Ubicación:","about.education":"Educación:","about.email":"Correo electrónico:","contact.title":"Ponte en Contacto","contact.description":"¿Interesado en trabajar juntos? ¡No dudes en contactarme!","contact.paragraph":"Actualmente estoy abierto a oportunidades de trabajo freelance, consultoría y posiciones a tiempo completo. ¡No dudes en contactarme si crees que podríamos trabajar juntos!","contact.email":"Correo electrónico","contact.linkedin":"LinkedIn","contact.github":"GitHub","footer.rights":"© 2025 Ajith Annavarapu. Todos los derechos reservados.","footer.builtWith":"Construido con React, TailwindCSS y Three.js","hero.name":"Ajith Annavarapu"},fr:{"navigation.story":"Histoire","navigation.skills":"Compétences","navigation.projects":"Projets","navigation.about":"À propos","navigation.contact":"Contact","navigation.getInTouch":"Me Contacter","sections.experience.title":"Expérience Professionnelle","sections.experience.description":"Mon parcours professionnel et l'impact que j'ai eu.","sections.skills.title":"Compétences et Expertise","sections.skills.description":"Une boîte à outils complète construite grâce à des années d'expérience et d'apprentissage continu.","skills.languages":"Langages et Bases de Données","skills.cloud":"Cloud et DevOps","skills.bigdata":"Big Data et ETL","skills.ai":"Intelligence Artificielle","skills.ml":"Algorithmes d'Apprentissage Automatique","skills.analysis":"Analyse et Visualisation de Données","skills.libraries":"Bibliothèques de Science des Données","skills.workflow":"Orchestration de Flux de Travail","skills.version":"Contrôle de Version","hero.title":"Bonjour, je suis Ajith Annavarapu","hero.subtitle":"Ingénieur de Données et Data Scientist","hero.description":"Je transforme les données brutes en informations significatives qui guident les décisions d'entreprise. Avec une expertise dans la construction de pipelines de données robustes et de systèmes de données évolutifs, j'aide les organisations à exploiter tout le potentiel de leurs données.","hero.openTo":"Je suis toujours ouvert à de nouveaux défis et collaborations. Si vous travaillez sur un projet intéressant qui nécessite une expertise en données, en IA ou même en Vibe Coding, j'aimerais en entendre parler !","hero.exploreWork":"Explorer mon travail","hero.getInTouch":"Me contacter","journey.title":"Mon Parcours","journey.description":"D'un passionné de données curieux à un ingénieur de données professionnel.","journey.paragraph1":"Mon parcours dans le domaine des données a commencé par une fascination pour l'extraction d'informations à partir de données brutes. Partant d'une solide formation en informatique, j'ai rapidement développé une expertise en ingénierie et en analyse de données, travaillant dans divers domaines et technologies.","journey.paragraph2":"Tout au long de ce parcours, j'ai continuellement élargi mes compétences, en m'adaptant aux technologies et méthodologies émergentes, et en construisant une boîte à outils complète qui me permet d'aborder des défis complexes liés aux données avec confiance et créativité.","projects.title":"Projets en Vedette","projects.description":"Une sélection de mon travail qui met en valeur mes compétences et mon expérience.","certifications.title":"Certifications","certifications.description":"Certifications et réalisations professionnelles.","about.title":"À Propos de Moi","about.description":"Au-delà du code et des données, voici un peu plus sur qui je suis.","about.paragraph1":"Je suis un Ingénieur de Données passionné avec un Master en Science des Données, dédié à la construction de systèmes de données robustes et évolutifs qui transforment les données brutes en informations précieuses.","about.paragraph2":"Quand je ne suis pas plongé dans les données, vous me trouverez en train d'explorer de nouveaux sentiers de randonnée, de faire du Vibe Coding, d'expérimenter des recettes de cuisine ou de me plonger dans un bon film à suspense. Je crois en l'apprentissage continu et à rester curieux sur le monde qui nous entoure.","about.paragraph3":"Je suis toujours ouvert à de nouveaux défis et collaborations. Si vous travaillez sur un projet intéressant qui nécessite une expertise en données, j'aimerais en entendre parler !","about.location":"Emplacement:","about.education":"Éducation:","about.email":"Email:","contact.title":"Prendre Contact","contact.description":"Intéressé à travailler ensemble? N'hésitez pas à me contacter!","contact.paragraph":"Je suis actuellement ouvert aux opportunités de freelance, de conseil et de postes à temps plein. N'hésitez pas à me contacter si vous pensez que nous pourrions travailler ensemble!","contact.email":"Email","contact.linkedin":"LinkedIn","contact.github":"GitHub","footer.rights":"© 2025 Ajith Annavarapu. Tous droits réservés.","footer.builtWith":"Construit avec React, TailwindCSS, et Three.js","hero.name":"Ajith Annavarapu"},de:{"navigation.story":"Geschichte","navigation.skills":"Fähigkeiten","navigation.projects":"Projekte","navigation.about":"Über mich","navigation.contact":"Kontakt","navigation.getInTouch":"Kontaktieren","sections.experience.title":"Berufserfahrung","sections.experience.description":"Mein beruflicher Werdegang und die Wirkung, die ich erzielt habe.","sections.skills.title":"Fähigkeiten und Expertise","sections.skills.description":"Ein umfassendes Toolkit, das durch jahrelange Erfahrung und kontinuierliches Lernen aufgebaut wurde.","skills.languages":"Sprachen und Datenbanken","skills.cloud":"Cloud und DevOps","skills.bigdata":"Big Data und ETL","skills.ai":"Künstliche Intelligenz","skills.ml":"Algorithmen für Maschinelles Lernen","skills.analysis":"Datenanalyse und Visualisierung","skills.libraries":"Bibliotheken für Data Science","skills.workflow":"Workflow-Orchestrierung","skills.version":"Versionskontrolle","hero.title":"Hallo, ich bin Ajith Annavarapu","hero.subtitle":"Dateningenieur & Data Scientist","hero.description":"Ich transformiere Rohdaten in aussagekräftige Erkenntnisse, die Geschäftsentscheidungen vorantreiben. Mit Expertise im Aufbau robuster Datenpipelines und skalierbarer Datensysteme helfe ich Organisationen, das volle Potenzial ihrer Daten auszuschöpfen.","hero.openTo":"Ich bin immer offen für neue Herausforderungen und Kooperationen. Wenn Sie an einem interessanten Projekt arbeiten, das Datenexpertise, KI oder sogar Vibe Coding erfordert, würde ich gerne davon hören!","hero.exploreWork":"Meine Arbeit erkunden","hero.getInTouch":"Kontakt aufnehmen","journey.title":"Meine Reise","journey.description":"Vom neugierigen Datenentusiast zum professionellen Dateningenieur.","journey.paragraph1":"Meine Reise im Datenbereich begann mit einer Faszination für die Gewinnung von Erkenntnissen aus Rohinformationen. Auf der Basis eines soliden Fundaments in der Informatik entwickelte ich schnell Expertise in Datenengineering und -analyse und arbeitete in verschiedenen Domänen und mit verschiedenen Technologien.","journey.paragraph2":"Auf diesem Weg habe ich meine Fähigkeiten kontinuierlich erweitert, mich an neue Technologien und Methoden angepasst und ein umfassendes Toolkit aufgebaut, das es mir ermöglicht, komplexe Datenherausforderungen mit Zuversicht und Kreativität anzugehen.","projects.title":"Ausgewählte Projekte","projects.description":"Eine Auswahl meiner Arbeiten, die meine Fähigkeiten und Erfahrungen zeigt.","certifications.title":"Zertifizierungen","certifications.description":"Berufliche Zertifizierungen und Erfolge.","about.title":"Über Mich","about.description":"Über den Code und die Daten hinaus, hier ist ein bisschen mehr darüber, wer ich bin.","about.paragraph1":"Ich bin ein leidenschaftlicher Dateningenieur mit einem Master-Abschluss in Data Science, der sich dem Aufbau robuster und skalierbarer Datensysteme widmet, die Rohdaten in wertvolle Erkenntnisse umwandeln.","about.paragraph2":"Wenn ich nicht in Daten vertieft bin, findet man mich auf der Erkundung neuer Wanderwege, beim Vibe Coding, beim Experimentieren mit Kochrezepten oder beim Eintauchen in einen guten Thriller. Ich glaube an kontinuierliches Lernen und bleibe neugierig auf die Welt um uns herum.","about.paragraph3":"Ich bin immer offen für neue Herausforderungen und Kooperationen. Wenn Sie an einem interessanten Projekt arbeiten, das Datenexpertise erfordert, würde ich gerne davon hören!","about.location":"Standort:","about.education":"Ausbildung:","about.email":"E-Mail:","contact.title":"Kontakt Aufnehmen","contact.description":"Interessiert an einer Zusammenarbeit? Zögern Sie nicht, mich zu kontaktieren!","contact.paragraph":"Ich bin derzeit offen für Freiberufliche Tätigkeiten, Beratungsarbeit und Vollzeitstellen. Zögern Sie nicht, mich zu kontaktieren, wenn Sie denken, dass wir zusammenarbeiten könnten!","contact.email":"E-Mail","contact.linkedin":"LinkedIn","contact.github":"GitHub","footer.rights":"© 2025 Ajith Annavarapu. Alle Rechte vorbehalten.","footer.builtWith":"Erstellt mit React, TailwindCSS und Three.js","hero.name":"Ajith Annavarapu"},zh:{"navigation.story":"故事","navigation.skills":"技能","navigation.projects":"项目","navigation.about":"关于","navigation.contact":"联系","navigation.getInTouch":"联系我","sections.experience.title":"工作经验","sections.experience.description":"我的专业旅程和取得的成就。","sections.skills.title":"技能与专长","sections.skills.description":"通过多年的经验和持续学习构建的综合工具包。","skills.languages":"编程语言和数据库","skills.cloud":"云计算和开发运维","skills.bigdata":"大数据和ETL","skills.ai":"人工智能","skills.ml":"机器学习算法","skills.analysis":"数据分析和可视化","skills.libraries":"数据科学库","skills.workflow":"工作流编排","skills.version":"版本控制","hero.title":"你好，我是Ajith Annavarapu","hero.subtitle":"数据工程师和数据科学家","hero.description":"我将原始数据转化为有意义的见解，推动业务决策。凭借构建强大数据管道和可扩展数据系统的专业知识，我帮助组织充分发挥其数据的潜力。","hero.openTo":"我总是乐于接受新的挑战和合作。如果您正在开展需要数据专业知识、人工智能甚至是Vibe Coding的有趣项目，我很乐意了解更多！","hero.exploreWork":"探索我的工作","hero.getInTouch":"联系我","journey.title":"我的旅程","journey.description":"从好奇的数据爱好者到专业的数据工程师。","journey.paragraph1":"我在数据领域的旅程始于对从原始信息中提取见解的着迷。在计算机科学的坚实基础上，我迅速发展了数据工程和分析方面的专业知识，在各种领域和技术中工作。","journey.paragraph2":"在这个过程中，我不断扩展自己的技能，适应新兴技术和方法，并建立了一个全面的工具包，使我能够自信和创造性地应对复杂的数据挑战。","projects.title":"精选项目","projects.description":"展示我的技能和经验的工作选集。","certifications.title":"认证","certifications.description":"专业认证和成就。","about.title":"关于我","about.description":"除了代码和数据，这里有更多关于我是谁的信息。","about.paragraph1":"我是一位热情的数据工程师，拥有数据科学硕士学位，致力于构建将原始数据转化为有价值见解的强大和可扩展的数据系统。","about.paragraph2":"当我不沉浸在数据中时，你会发现我在探索新的徒步路线，进行Vibe Coding，尝试烹饪食谱，或深入一部好的惊悚电影。我相信持续学习并对周围世界保持好奇心。","about.paragraph3":"我总是乐于接受新的挑战和合作。如果您正在开展需要数据专业知识的有趣项目，我很乐意了解更多！","about.location":"位置：","about.education":"教育：","about.email":"电子邮件：","contact.title":"联系我","contact.description":"对合作感兴趣？随时与我联系！","contact.paragraph":"我目前接受自由职业机会、咨询工作和全职职位。如果您认为我们可以合作，请随时联系我！","contact.email":"电子邮件","contact.linkedin":"LinkedIn","contact.github":"GitHub","footer.rights":"© 2025 Ajith Annavarapu。保留所有权利。","footer.builtWith":"使用React、TailwindCSS和Three.js构建","hero.name":"Ajith Annavarapu"}},Dz=T.createContext(void 0),oK=({children:t})=>{const[e,n]=T.useState(Iz[0]),r=s=>{n(s)},i=s=>{const o=gN[e.code];return(o==null?void 0:o[s])||gN.en[s]||s};return S.jsx(Dz.Provider,{value:{currentLanguage:e,setLanguage:r,t:i},children:t})},Qs=()=>{const t=T.useContext(Dz);if(!t)throw new Error("useTranslation must be used within a TranslationProvider");return t},vN=()=>{const{currentLanguage:t,setLanguage:e}=Qs(),{toast:n}=xA(),r=i=>{e(i),n({title:"Language changed",description:`The language has been changed to ${i.name}`,duration:3e3})};return S.jsxs(Nz,{children:[S.jsx(Lz,{asChild:!0,children:S.jsx(_t,{variant:"outline",size:"icon",className:"border-white/10 bg-black/30 hover:bg-white/10",children:S.jsx(U9,{className:"h-4 w-4"})})}),S.jsx(WA,{className:"w-48 bg-black/90 border-white/10 neo-blur text-white p-2",children:S.jsx("div",{className:"flex flex-col space-y-1",children:Iz.map(i=>S.jsxs(_t,{variant:"ghost",className:`justify-start px-2 ${t.code===i.code?"bg-white/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,onClick:()=>r(i),children:[S.jsx("span",{className:"mr-2",children:i.flag}),S.jsx("span",{children:i.name})]},i.code))})})]})},Gt=T.forwardRef(({className:t,type:e,...n},r)=>S.jsx("input",{type:e,className:Yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Gt.displayName="Input";const aK=({isOpen:t,onClose:e})=>{const[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(!1),p=P_(),m=async x=>{x.preventDefault(),h(!0),c(""),await new Promise(y=>setTimeout(y,800)),n==="3026669311"&&i==="05051999"?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminSession",Date.now().toString()),e(),p("/admin")):c("Invalid credentials. Please try again."),h(!1)},v=()=>{r(""),s(""),c(""),e()};return t?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-xl p-8 w-full max-w-md mx-4 shadow-2xl",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx($9,{className:"w-6 h-6 text-neon-blue"}),S.jsx("h2",{className:"text-xl font-bold text-white",children:"Admin Login"})]}),S.jsx("button",{onClick:v,className:"text-gray-400 hover:text-white transition-colors",children:S.jsx(Os,{className:"w-5 h-5"})})]}),S.jsxs("form",{onSubmit:m,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),S.jsx(Gt,{type:"text",value:n,onChange:x=>r(x.target.value),className:"bg-gray-800 border-white/10 text-white focus:border-neon-blue",placeholder:"Enter username",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),S.jsxs("div",{className:"relative",children:[S.jsx(Gt,{type:o?"text":"password",value:i,onChange:x=>s(x.target.value),className:"bg-gray-800 border-white/10 text-white focus:border-neon-blue pr-10",placeholder:"Enter password",required:!0}),S.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o?S.jsx(D9,{className:"w-4 h-4"}):S.jsx(O9,{className:"w-4 h-4"})})]})]}),l&&S.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:l}),S.jsx(_t,{type:"submit",disabled:u||!n||!i,className:"w-full bg-neon-blue hover:bg-neon-blue/80 text-white font-medium py-2",children:u?S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Authenticating..."]}):"Login"})]}),S.jsxs("div",{className:"mt-6 text-center",children:[S.jsx("p",{className:"text-xs text-gray-500",children:"Secure access to portfolio administration"}),S.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Hint: Ctrl+Shift+A for quick access"})]})]})}):null},yN=()=>{const[t,e]=T.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>e(!0),className:"p-2 text-white opacity-80 hover:opacity-100 hover:text-neon-blue transition-colors rounded-md hover:bg-white/10",title:"Admin Panel",children:S.jsx(G9,{className:"w-5 h-5"})}),S.jsx(aK,{isOpen:t,onClose:()=>e(!1)})]})},GA=T.createContext({});function $A(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const XA=typeof window<"u",Oz=XA?T.useLayoutEffect:T.useEffect,k_=T.createContext(null),qA=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lK extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cK({children:t,isPresent:e,anchorX:n}){const r=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(qA);return T.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:h}=s.current;if(e||!i.current||!a||!l)return;const p=n==="left"?`left: ${u}`:`right: ${h}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),S.jsx(lK,{isPresent:e,childRef:i,sizeRef:s,children:T.cloneElement(t,{ref:i})})}const uK=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=$A(dK),c=T.useId(),u=T.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),h=T.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),u]:[n,u]);return T.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=S.jsx(cK,{isPresent:n,anchorX:a,children:t})),S.jsx(k_.Provider,{value:h,children:t})};function dK(){return new Map}function Fz(t=!0){const e=T.useContext(k_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const hy=t=>t.key||"";function xN(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const YA=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=Fz(o),u=T.useMemo(()=>xN(t),[t]),h=o&&!l?[]:u.map(hy),p=T.useRef(!0),m=T.useRef(u),v=$A(()=>new Map),[x,y]=T.useState(u),[g,w]=T.useState(u);Oz(()=>{p.current=!1,m.current=u;for(let C=0;C<g.length;C++){const P=hy(g[C]);h.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[g,h.length,h.join("-")]);const b=[];if(u!==x){let C=[...u];for(let P=0;P<g.length;P++){const R=g[P],O=hy(R);h.includes(O)||(C.splice(P,0,R),b.push(R))}return s==="wait"&&b.length&&(C=b),w(xN(C)),y(u),null}const{forceRender:M}=T.useContext(GA);return S.jsx(S.Fragment,{children:g.map(C=>{const P=hy(C),R=o&&!l?!1:u===g||h.includes(P),O=()=>{if(v.has(P))v.set(P,!0);else return;let k=!0;v.forEach(L=>{L||(k=!1)}),k&&(M==null||M(),w(m.current),o&&(c==null||c()),r&&r())};return S.jsx(uK,{isPresent:R,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:R?void 0:O,anchorX:a,children:C},P)})})};function KA(t,e){t.indexOf(e)===-1&&t.push(e)}function ZA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let YE=()=>{};const KE={skipAnimations:!1,useManualTiming:!1};function JA(t){let e;return()=>(e===void 0&&(e=t()),e)}const xs=t=>t,fm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class QA{constructor(){this.subscriptions=[]}add(e){return KA(this.subscriptions,e),()=>ZA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mo=t=>t*1e3,To=t=>t/1e3;function Uz(t,e){return e?t*(1e3/e):0}const hK=JA(()=>window.ScrollTimeline!==void 0);class fK{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(hK()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pK extends fK{then(e,n){return this.finished.finally(e).then(()=>{})}}const _N={value:null,addProjectionMetrics:null},eC=t=>Array.isArray(t)&&typeof t[0]=="number",mK={};function gK(t,e){const n=JA(t);return()=>mK[e]??n()}const pm=gK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zz=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},lp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lp([0,.65,.55,1]),circOut:lp([.55,0,1,.45]),backIn:lp([.31,.01,.66,-.59]),backOut:lp([.33,1.53,.69,.99])};function Bz(t,e){if(t)return typeof t=="function"&&pm()?zz(t,e):eC(t)?lp(t):Array.isArray(t)?t.map(n=>Bz(n,e)||ZE.easeOut):ZE[t]}function vK(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const h=Bz(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:c})}function tC(t){return typeof t=="function"&&"applyToOptions"in t}function nC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Tx=2e4;function rC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tx;)e+=n,r=t.next(e);return e>=Tx?1/0:e}function yK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(rC(r),Tx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:To(i)}}function jz(t){return!!(typeof t=="function"&&pm()||!t||typeof t=="string"&&(t in ZE||pm())||eC(t)||Array.isArray(t)&&t.every(jz))}function wN(t,e){t.timeline=e,t.onfinish=null}const cp=["read","resolveKeyframes","update","preRender","render","postRender"];function xK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(u.schedule(h),t()),l++,h(a)}const u={schedule:(h,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&_N.value&&_N.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const _K=40;function Vz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=cp.reduce((g,w)=>(g[w]=xK(s,e?w:void 0),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,m=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,_K),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:cp.reduce((g,w)=>{const b=o[w];return g[w]=(M,C=!1,P=!1)=>(n||v(),b.schedule(M,C,P)),g},{}),cancel:g=>{for(let w=0;w<cp.length;w++)o[cp[w]].cancel(g)},state:i,steps:o}}const{schedule:xn,cancel:_a,state:Cr,steps:wS}=Vz(typeof requestAnimationFrame<"u"?requestAnimationFrame:xs,!0),{schedule:iC,cancel:Ime}=Vz(queueMicrotask,!1);let D0;function wK(){D0=void 0}const Ao={now:()=>(D0===void 0&&Ao.set(Cr.isProcessing||KE.useManualTiming?Cr.timestamp:performance.now()),D0),set:t=>{D0=t,queueMicrotask(wK)}},Ps={x:!1,y:!1};function Hz(){return Ps.x||Ps.y}function bK(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function SK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Wz(t,e){const n=SK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function bN(t){return!(t.pointerType==="touch"||Hz())}function EK(t,e,n={}){const[r,i,s]=Wz(t,n),o=a=>{if(!bN(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{bN(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Gz=(t,e)=>e?t===e?!0:Gz(t,e.parentElement):!1,sC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TK(t){return MK.has(t.tagName)||t.tabIndex!==-1}const up=new WeakSet;function SN(t){return e=>{e.key==="Enter"&&t(e)}}function bS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=SN(()=>{if(up.has(n))return;bS(n,"down");const i=SN(()=>{bS(n,"up")}),s=()=>bS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function EN(t){return sC(t)&&!Hz()}function CK(t,e,n={}){const[r,i,s]=Wz(t,n),o=a=>{const l=a.currentTarget;if(!EN(a)||up.has(l))return;up.add(l);const c=e(l,a),u=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!EN(m)||!up.has(l))&&(up.delete(l),typeof c=="function"&&c(m,{success:v}))},h=m=>{u(m,l===window||l===document||n.useGlobalTarget||Gz(l,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>AK(c,i)),!TK(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const MN=30,PK=t=>!isNaN(parseFloat(t));class RK{constructor(e,n={}){this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ao.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new QA);const r=this.events[e].add(n);return e==="change"?()=>{r(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MN);return Uz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mm(t,e){return new RK(t,e)}cp.reduce((t,e)=>(t[e]=n=>_a(n),t),{});const $z=T.createContext({strict:!1}),TN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const t in TN)Nh[t]={isEnabled:e=>TN[t].some(n=>!!e[n])};function kK(t){for(const e in t)Nh[e]={...Nh[e],...t[e]}}const NK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ax(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NK.has(t)}let Xz=t=>!Ax(t);function LK(t){t&&(Xz=e=>e.startsWith("on")?!Ax(e):t(e))}try{LK(require("@emotion/is-prop-valid").default)}catch{}function IK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Xz(i)||n===!0&&Ax(i)||!e&&!Ax(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function DK(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const N_=T.createContext({});function L_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gm(t){return typeof t=="string"||Array.isArray(t)}const oC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aC=["initial",...oC];function I_(t){return L_(t.animate)||aC.some(e=>gm(t[e]))}function qz(t){return!!(I_(t)||t.variants)}function OK(t,e){if(I_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gm(n)?n:void 0,animate:gm(r)?r:void 0}}return t.inherit!==!1?e:{}}function FK(t){const{initial:e,animate:n}=OK(t,T.useContext(N_));return T.useMemo(()=>({initial:e,animate:n}),[AN(e),AN(n)])}function AN(t){return Array.isArray(t)?t.join(" "):t}const UK=Symbol.for("motionComponentSymbol");function jd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zK(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jd(n)&&(n.current=r))},[e])}const lC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BK="framerAppearId",Yz="data-"+lC(BK),Kz=T.createContext({});function jK(t,e,n,r,i){var x,y;const{visualElement:s}=T.useContext(N_),o=T.useContext($z),a=T.useContext(k_),l=T.useContext(qA).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=T.useContext(Kz);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&VK(c.current,n,i,h);const p=T.useRef(!1);T.useInsertionEffect(()=>{u&&p.current&&u.update(n,a)});const m=n[Yz],v=T.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return Oz(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),iC.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1))}),u}function VK(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Zz(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&jd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Zz(t){if(t)return t.options.allowProjection!==!1?t.projection:Zz(t.parent)}function HK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&kK(t);function s(a,l){let c;const u={...T.useContext(qA),...a,layoutId:WK(a)},{isStatic:h}=u,p=FK(a),m=r(a,h);if(!h&&XA){GK();const v=$K(u);c=v.MeasureLayout,p.visualElement=jK(i,m,u,e,v.ProjectionNode)}return S.jsxs(N_.Provider,{value:p,children:[c&&p.visualElement?S.jsx(c,{visualElement:p.visualElement,...u}):null,n(i,a,zK(m,p.visualElement,l),m,h,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=T.forwardRef(s);return o[UK]=i,o}function WK({layoutId:t}){const e=T.useContext(GA).id;return e&&t!==void 0?e+"-"+t:t}function GK(t,e){T.useContext($z).strict}function $K(t){const{drag:e,layout:n}=Nh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Jz=t=>e=>typeof e=="string"&&e.startsWith(t),cC=Jz("--"),XK=Jz("var(--"),uC=t=>XK(t)?qK.test(t.split("/*")[0].trim()):!1,qK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vm={};function YK(t){for(const e in t)vm[e]=t[e],cC(e)&&(vm[e].isCSSVariable=!0)}const Zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eu=new Set(Zh);function Qz(t,{layout:e,layoutId:n}){return Eu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vm[t]||t==="opacity")}const $r=t=>!!(t&&t.getVelocity),eB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wa=(t,e,n)=>n>e?e:n<t?t:n,Jh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ym={...Jh,transform:t=>wa(0,1,t)},fy={...Jh,default:1},yg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Za=yg("deg"),Co=yg("%"),vt=yg("px"),KK=yg("vh"),ZK=yg("vw"),CN={...Co,parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)},JK={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,backgroundPositionX:vt,backgroundPositionY:vt},QK={rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:fy,scaleX:fy,scaleY:fy,scaleZ:fy,skew:Za,skewX:Za,skewY:Za,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:ym,originX:CN,originY:CN,originZ:vt},PN={...Jh,transform:Math.round},dC={...JK,...QK,zIndex:PN,size:vt,fillOpacity:ym,strokeOpacity:ym,numOctaves:PN},eZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tZ=Zh.length;function nZ(t,e,n){let r="",i=!0;for(let s=0;s<tZ;s++){const o=Zh[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=eB(a,dC[o]);if(!l){i=!1;const u=eZ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function hC(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Eu.has(l)){o=!0;continue}else if(cC(l)){i[l]=c;continue}else{const u=eB(c,dC[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=nZ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const fC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tB(t,e,n){for(const r in e)!$r(e[r])&&!Qz(r,n)&&(t[r]=e[r])}function rZ({transformTemplate:t},e){return T.useMemo(()=>{const n=fC();return hC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iZ(t,e){const n=t.style||{},r={};return tB(r,n,t),Object.assign(r,rZ(t,e)),r}function sZ(t,e){const n={},r=iZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const oZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pC(t){return typeof t!="string"||t.includes("-")?!1:!!(oZ.indexOf(t)>-1||/[A-Z]/u.test(t))}const aZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},lZ={offset:"strokeDashoffset",array:"strokeDasharray"};function cZ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?aZ:lZ;t[s.offset]=vt.transform(-r);const o=vt.transform(e),a=vt.transform(n);t[s.array]=`${o} ${a}`}function RN(t,e,n){return typeof t=="string"?t:vt.transform(e+n*t)}function uZ(t,e,n){const r=RN(e,t.x,t.width),i=RN(n,t.y,t.height);return`${r} ${i}`}function mC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(hC(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=uZ(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&cZ(p,o,a,l,!1)}const nB=()=>({...fC(),attrs:{}}),gC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dZ(t,e,n,r){const i=T.useMemo(()=>{const s=nB();return mC(s,e,gC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tB(s,t.style,t),i.style={...s,...i.style}}return i}function hZ(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(pC(n)?dZ:sZ)(r,s,o,n),c=IK(r,typeof n=="string",t),u=n!==T.Fragment?{...c,...l,ref:i}:{},{children:h}=r,p=T.useMemo(()=>$r(h)?h.get():h,[h]);return T.createElement(n,{...u,children:p})}}function kN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vC(t,e,n,r){if(typeof e=="function"){const[i,s]=kN(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=kN(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const JE=t=>Array.isArray(t),fZ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pZ=t=>JE(t)?t[t.length-1]||0:t;function O0(t){const e=$r(t)?t.get():t;return fZ(e)?e.toValue():e}function mZ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:gZ(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const rB=t=>(e,n)=>{const r=T.useContext(N_),i=T.useContext(k_),s=()=>mZ(t,e,r,i);return n?s():$A(s)};function gZ(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=O0(s[p]);let{initial:o,animate:a}=t;const l=I_(t),c=qz(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!L_(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=vC(t,p[m]);if(v){const{transitionEnd:x,transition:y,...g}=v;for(const w in g){let b=g[w];if(Array.isArray(b)){const M=u?b.length-1:0;b=b[M]}b!==null&&(i[w]=b)}for(const w in x)i[w]=x[w]}}}return i}function yC(t,e,n){var s;const{style:r}=t,i={};for(const o in r)($r(r[o])||e.style&&$r(e.style[o])||Qz(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const vZ={useVisualState:rB({scrapeMotionValuesFromProps:yC,createRenderState:fC})};function iB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function sB(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const oB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aB(t,e,n,r){sB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(oB.has(i)?i:lC(i),e.attrs[i])}function lB(t,e,n){const r=yC(t,e,n);for(const i in t)if($r(t[i])||$r(e[i])){const s=Zh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const NN=["x","y","width","height","cx","cy","r"],yZ={useVisualState:rB({scrapeMotionValuesFromProps:lB,createRenderState:nB,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Eu.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<NN.length;a++){const l=NN[a];t[l]!==e[l]&&(o=!0)}o&&xn.read(()=>{iB(n,r),xn.render(()=>{mC(r,i,gC(n.tagName),t.transformTemplate),aB(n,r)})})}})};function xZ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...pC(r)?yZ:vZ,preloadedFeatures:t,useRender:hZ(i),createVisualElement:e,Component:r};return HK(o)}}function xm(t,e,n){const r=t.getProps();return vC(r,e,n!==void 0?n:r.custom,t)}const cB=new Set(["width","height","top","left","right","bottom",...Zh]);function _Z(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mm(n))}function wZ(t,e){const n=xm(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=pZ(s[o]);_Z(t,o,a)}}function bZ(t){return!!($r(t)&&t.add)}function QE(t,e){const n=t.getValue("willChange");if(bZ(n))return n.add(e);if(!n&&KE.WillChange){const r=new KE.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uB(t){return t.props[Yz]}const dB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SZ=1e-7,EZ=12;function MZ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=dB(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>SZ&&++a<EZ);return o}function xg(t,e,n,r){if(t===e&&n===r)return xs;const i=s=>MZ(s,0,1,t,n);return s=>s===0||s===1?s:dB(i(s),e,r)}const hB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fB=t=>e=>1-t(1-e),pB=xg(.33,1.53,.69,.99),xC=fB(pB),mB=hB(xC),gB=t=>(t*=2)<1?.5*xC(t):.5*(2-Math.pow(2,-10*(t-1))),_C=t=>1-Math.sin(Math.acos(t)),vB=fB(_C),yB=hB(_C),xB=t=>/^0[^.\s]+$/u.test(t);function TZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xB(t):!0}const Cp=t=>Math.round(t*1e5)/1e5,wC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AZ(t){return t==null}const CZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bC=(t,e)=>n=>!!(typeof n=="string"&&CZ.test(n)&&n.startsWith(t)||e&&!AZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),_B=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(wC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},PZ=t=>wa(0,255,t),SS={...Jh,transform:t=>Math.round(PZ(t))},zc={test:bC("rgb","red"),parse:_B("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+SS.transform(t)+", "+SS.transform(e)+", "+SS.transform(n)+", "+Cp(ym.transform(r))+")"};function RZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eM={test:bC("#"),parse:RZ,transform:zc.transform},Vd={test:bC("hsl","hue"),parse:_B("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Co.transform(Cp(e))+", "+Co.transform(Cp(n))+", "+Cp(ym.transform(r))+")"},Hr={test:t=>zc.test(t)||eM.test(t)||Vd.test(t),parse:t=>zc.test(t)?zc.parse(t):Vd.test(t)?Vd.parse(t):eM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zc.transform(t):Vd.transform(t)},kZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wC))==null?void 0:e.length)||0)+(((n=t.match(kZ))==null?void 0:n.length)||0)>0}const wB="number",bB="color",LZ="var",IZ="var(",LN="${}",DZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _m(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(DZ,l=>(Hr.test(l)?(r.color.push(s),i.push(bB),n.push(Hr.parse(l))):l.startsWith(IZ)?(r.var.push(s),i.push(LZ),n.push(l)):(r.number.push(s),i.push(wB),n.push(parseFloat(l))),++s,LN)).split(LN);return{values:n,split:a,indexes:r,types:i}}function SB(t){return _m(t).values}function EB(t){const{split:e,types:n}=_m(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===wB?s+=Cp(i[o]):a===bB?s+=Hr.transform(i[o]):s+=i[o]}return s}}const OZ=t=>typeof t=="number"?0:t;function FZ(t){const e=SB(t);return EB(t)(e.map(OZ))}const Ul={test:NZ,parse:SB,createTransformer:EB,getAnimatableNone:FZ},UZ=new Set(["brightness","contrast","saturate","opacity"]);function zZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wC)||[];if(!r)return t;const i=n.replace(r,"");let s=UZ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const BZ=/\b([a-z-]*)\(.*?\)/gu,tM={...Ul,getAnimatableNone:t=>{const e=t.match(BZ);return e?e.map(zZ).join(" "):t}},jZ={...dC,color:Hr,backgroundColor:Hr,outlineColor:Hr,fill:Hr,stroke:Hr,borderColor:Hr,borderTopColor:Hr,borderRightColor:Hr,borderBottomColor:Hr,borderLeftColor:Hr,filter:tM,WebkitFilter:tM},MB=t=>jZ[t];function TB(t,e){let n=MB(t);return n!==tM&&(n=Ul),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VZ=new Set(["auto","none","0"]);function HZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!VZ.has(s)&&_m(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=TB(n,i)}const Bc=t=>t*180/Math.PI,nM=t=>{const e=Bc(Math.atan2(t[1],t[0]));return rM(e)},WZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nM,rotateZ:nM,skewX:t=>Bc(Math.atan(t[1])),skewY:t=>Bc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rM=t=>(t=t%360,t<0&&(t+=360),t),IN=nM,DN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ON=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),GZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DN,scaleY:ON,scale:t=>(DN(t)+ON(t))/2,rotateX:t=>rM(Bc(Math.atan2(t[6],t[5]))),rotateY:t=>rM(Bc(Math.atan2(-t[2],t[0]))),rotateZ:IN,rotate:IN,skewX:t=>Bc(Math.atan(t[4])),skewY:t=>Bc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function FN(t){return t.includes("scale")?1:0}function iM(t,e){if(!t||t==="none")return FN(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=GZ,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WZ,i=a}if(!i)return FN(e);const s=r[e],o=i[1].split(",").map(XZ);return typeof s=="function"?s(o):o[s]}const $Z=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return iM(n,e)};function XZ(t){return parseFloat(t.trim())}const UN=t=>t===Jh||t===vt,qZ=new Set(["x","y","z"]),YZ=Zh.filter(t=>!qZ.has(t));function KZ(t){const e=[];return YZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iM(e,"x"),y:(t,{transform:e})=>iM(e,"y")};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const Jc=new Set;let sM=!1,oM=!1;function AB(){if(oM){const t=Array.from(Jc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=KZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}oM=!1,sM=!1,Jc.forEach(t=>t.complete()),Jc.clear()}function CB(){Jc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oM=!0)})}function ZZ(){CB(),AB()}class SC{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jc.add(this),sM||(sM=!0,xn.read(CB),xn.resolveKeyframes(AB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),JZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QZ(t){const e=JZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RB(t,e,n=1){const[r,i]=QZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return PB(o)?parseFloat(o):o}return uC(i)?RB(i,e,n+1):i}const kB=t=>e=>e.test(t),eJ={test:t=>t==="auto",parse:t=>t},NB=[Jh,vt,Co,Za,ZK,KK,eJ],zN=t=>NB.find(kB(t));class LB extends SC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),uC(c))){const u=RB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!cB.has(r)||e.length!==2)return;const[i,s]=e,o=zN(i),a=zN(s);if(o!==a)if(UN(o)&&UN(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)TZ(e[i])&&r.push(i);r.length&&HZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Lh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const BN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ul.test(t)||t==="0")&&!t.startsWith("url("));function tJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nJ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=BN(i,e),a=BN(s,e);return!o||!a?!1:tJ(t)||(n==="spring"||tC(n))&&r}const rJ=t=>t!==null;function D_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(rJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const iJ=40;class IB{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ao.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iJ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZZ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ao.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!nJ(e,r,i,s))if(o)this.options.duration=0;else{l&&l(D_(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ln=(t,e,n)=>t+(e-t)*n;function ES(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=ES(l,a,t+1/3),s=ES(l,a,t),o=ES(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Cx(t,e){return n=>n>0?e:t}const MS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},oJ=[eM,zc,Vd],aJ=t=>oJ.find(e=>e.test(t));function jN(t){const e=aJ(t);if(!e)return!1;let n=e.parse(t);return e===Vd&&(n=sJ(n)),n}const VN=(t,e)=>{const n=jN(t),r=jN(e);if(!n||!r)return Cx(t,e);const i={...n};return s=>(i.red=MS(n.red,r.red,s),i.green=MS(n.green,r.green,s),i.blue=MS(n.blue,r.blue,s),i.alpha=Ln(n.alpha,r.alpha,s),zc.transform(i))},lJ=(t,e)=>n=>e(t(n)),_g=(...t)=>t.reduce(lJ),aM=new Set(["none","hidden"]);function cJ(t,e){return aM.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uJ(t,e){return n=>Ln(t,e,n)}function EC(t){return typeof t=="number"?uJ:typeof t=="string"?uC(t)?Cx:Hr.test(t)?VN:fJ:Array.isArray(t)?DB:typeof t=="object"?Hr.test(t)?VN:dJ:Cx}function DB(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>EC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function dJ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=EC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function hJ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const fJ=(t,e)=>{const n=Ul.createTransformer(e),r=_m(t),i=_m(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?aM.has(t)&&!i.values.length||aM.has(e)&&!r.values.length?cJ(t,e):_g(DB(hJ(r,i),i.values),n):Cx(t,e)};function OB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ln(t,e,n):EC(t)(t,e)}const pJ=5;function FB(t,e,n){const r=Math.max(e-pJ,0);return Uz(n-t(r),e-r)}const jn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},TS=.001;function mJ({duration:t=jn.duration,bounce:e=jn.bounce,velocity:n=jn.velocity,mass:r=jn.mass}){let i,s,o=1-e;o=wa(jn.minDamping,jn.maxDamping,o),t=wa(jn.minDuration,jn.maxDuration,To(t)),o<1?(i=c=>{const u=c*o,h=u*t,p=u-n,m=lM(c,o),v=Math.exp(-h);return TS-p/m*v},s=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),x=lM(Math.pow(c,2),o);return(-i(c)+TS>0?-1:1)*((p-m)*v)/x}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-TS+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=vJ(i,s,a);if(t=Mo(t),isNaN(l))return{stiffness:jn.stiffness,damping:jn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const gJ=12;function vJ(t,e,n){let r=n;for(let i=1;i<gJ;i++)r=r-t(r)/e(r);return r}function lM(t,e){return t*Math.sqrt(1-e*e)}const yJ=["duration","bounce"],xJ=["stiffness","damping","mass"];function HN(t,e){return e.some(n=>t[n]!==void 0)}function _J(t){let e={velocity:jn.velocity,stiffness:jn.stiffness,damping:jn.damping,mass:jn.mass,isResolvedFromDuration:!1,...t};if(!HN(t,xJ)&&HN(t,yJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*wa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:jn.mass,stiffness:i,damping:s}}else{const n=mJ(t);e={...e,...n,mass:jn.mass},e.isResolvedFromDuration=!0}return e}function Px(t=jn.visualDuration,e=jn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:p,isResolvedFromDuration:m}=_J({...n,velocity:-To(n.velocity||0)}),v=p||0,x=c/(2*Math.sqrt(l*u)),y=o-s,g=To(Math.sqrt(l/u)),w=Math.abs(y)<5;r||(r=w?jn.restSpeed.granular:jn.restSpeed.default),i||(i=w?jn.restDelta.granular:jn.restDelta.default);let b;if(x<1){const C=lM(g,x);b=P=>{const R=Math.exp(-x*g*P);return o-R*((v+x*g*y)/C*Math.sin(C*P)+y*Math.cos(C*P))}}else if(x===1)b=C=>o-Math.exp(-g*C)*(y+(v+g*y)*C);else{const C=g*Math.sqrt(x*x-1);b=P=>{const R=Math.exp(-x*g*P),O=Math.min(C*P,300);return o-R*((v+x*g*y)*Math.sinh(O)+C*y*Math.cosh(O))/C}}const M={calculatedDuration:m&&h||null,next:C=>{const P=b(C);if(m)a.done=C>=h;else{let R=0;x<1&&(R=C===0?Mo(v):FB(b,C,P));const O=Math.abs(R)<=r,k=Math.abs(o-P)<=i;a.done=O&&k}return a.value=a.done?o:P,a},toString:()=>{const C=Math.min(rC(M),Tx),P=zz(R=>M.next(C*R).value,C,30);return C+"ms "+P},toTransition:()=>{}};return M}Px.applyToOptions=t=>{const e=yK(t,100,Px);return t.ease=pm()?e.ease:"easeOut",t.duration=Mo(e.duration),t.type="keyframes",t};function WN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},m=O=>a!==void 0&&O<a||l!==void 0&&O>l,v=O=>a===void 0?l:l===void 0||Math.abs(a-O)<Math.abs(l-O)?a:l;let x=n*e;const y=h+x,g=o===void 0?y:o(y);g!==y&&(x=g-h);const w=O=>-x*Math.exp(-O/r),b=O=>g+w(O),M=O=>{const k=w(O),L=b(O);p.done=Math.abs(k)<=c,p.value=p.done?g:L};let C,P;const R=O=>{m(p.value)&&(C=O,P=Px({keyframes:[p.value,v(p.value)],velocity:FB(b,O,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:O=>{let k=!1;return!P&&C===void 0&&(k=!0,M(O),R(O)),C!==void 0&&O>=C?P.next(O-C):(!k&&M(O),p)}}}const wJ=xg(.42,0,1,1),bJ=xg(0,0,.58,1),UB=xg(.42,0,.58,1),SJ=t=>Array.isArray(t)&&typeof t[0]!="number",GN={linear:xs,easeIn:wJ,easeInOut:UB,easeOut:bJ,circIn:_C,circInOut:yB,circOut:vB,backIn:xC,backInOut:mB,backOut:pB,anticipate:gB},$N=t=>{if(eC(t)){YE(t.length===4);const[e,n,r,i]=t;return xg(e,n,r,i)}else if(typeof t=="string")return YE(GN[t]!==void 0),GN[t];return t};function EJ(t,e,n){const r=[],i=n||OB,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||xs:e;a=_g(l,a)}r.push(a)}return r}function MJ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(YE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=EJ(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const p=fm(t[h],t[h+1],u);return a[h](p)};return n?u=>c(wa(t[0],t[s-1],u)):c}function TJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=fm(0,e,r);t.push(Ln(n,1,i))}}function AJ(t){const e=[0];return TJ(e,t.length-1),e}function CJ(t,e){return t.map(n=>n*e)}function PJ(t,e){return t.map(()=>e||UB).splice(0,t.length-1)}function Rx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=SJ(r)?r.map($N):$N(r),s={done:!1,value:e[0]},o=CJ(n&&n.length===e.length?n:AJ(e),t),a=MJ(o,e,{ease:Array.isArray(i)?i:PJ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const RJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xn.update(e,!0),stop:()=>_a(e),now:()=>Cr.isProcessing?Cr.timestamp:Ao.now()}},kJ={decay:WN,inertia:WN,tween:Rx,keyframes:Rx,spring:Px},NJ=t=>t/100;class MC extends IB{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||SC,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=tC(n)?n:kJ[n]||Rx;let l,c;a!==Rx&&typeof e[0]!="number"&&(l=_g(NJ,OB(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=rC(u));const{calculatedDuration:h}=u,p=h+i,m=p*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:O}=this.options;return{done:!0,value:O[O.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:x,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,M=s;if(m){const O=Math.min(this.currentTime,u)/h;let k=Math.floor(O),L=O%1;!L&&O>=1&&(L=1),L===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(v==="reverse"?(L=1-L,x&&(L-=x/h)):v==="mirror"&&(M=o)),b=wa(0,1,L)*h}const C=w?{done:!1,value:l[0]}:M.next(b);a&&(C.value=a(C.value));let{done:P}=C;!w&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return R&&i!==void 0&&(C.value=D_(l,this.options,i)),y&&y(C.value),R&&this.finish(),C}get duration(){const{resolved:e}=this;return e?To(e.calculatedDuration):0}get time(){return To(this.currentTime)}set time(e){e=Mo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=To(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=RJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const LJ=new Set(["opacity","clipPath","filter","transform"]),IJ=JA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kx=10,DJ=2e4;function OJ(t){return tC(t.type)||t.type==="spring"||!jz(t.ease)}function FJ(t,e){const n=new MC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<DJ;)r=n.sample(s),i.push(r.value),s+=kx;return{times:void 0,keyframes:i,duration:s-kx,ease:"linear"}}const zB={anticipate:gB,backInOut:mB,circInOut:yB};function UJ(t){return t in zB}class XN extends IB{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new LB(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&pm()&&UJ(s)&&(s=zB[s]),OJ(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:v,...x}=this.options,y=FJ(e,x);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const u=vK(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(wN(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(D_(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return To(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return To(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Mo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return xs;const{animation:r}=n;wN(r,e)}return xs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...m}=this.options,v=new MC({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),x=Mo(this.time);c.setWithVelocity(v.sample(x-kx).value,v.sample(x).value,kx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return IJ()&&r&&LJ.has(r)&&(r!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const zJ={type:"spring",stiffness:500,damping:25,restSpeed:10},BJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jJ={type:"keyframes",duration:.8},VJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HJ=(t,{keyframes:e})=>e.length>2?jJ:Eu.has(t)?t.startsWith("scale")?BJ(e[1]):zJ:VJ;function WJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const TC=(t,e,n,r={},i,s)=>o=>{const a=nC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mo(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};WJ(a)||(u={...u,...HJ(t,u)}),u.duration&&(u.duration=Mo(u.duration)),u.repeatDelay&&(u.repeatDelay=Mo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),u.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=D_(u.keyframes,a);if(p!==void 0)return xn.update(()=>{u.onUpdate(p),u.onComplete()}),new pK([])}return!s&&XN.supports(u)?new XN(u):new MC(u)};function GJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),p=a[u];if(p===void 0||c&&GJ(c,u))continue;const m={delay:n,...nC(s||{},u)};let v=!1;if(window.MotionHandoffAnimation){const y=uB(t);if(y){const g=window.MotionHandoffAnimation(y,u,xn);g!==null&&(m.startTime=g,v=!0)}}QE(t,u),h.start(TC(u,h,p,t.shouldReduceMotion&&cB.has(u)?{type:!1}:m,t,v));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{xn.update(()=>{o&&wZ(t,o)})}),l}function cM(t,e,n={}){var l;const r=xm(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BB(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return $J(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function $J(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(XJ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(cM(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function XJ(t,e){return t.sortNodePosition(e)}function qJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>cM(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=cM(t,e,n);else{const i=typeof e=="function"?xm(t,e,n.custom):e;r=Promise.all(BB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function jB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const YJ=aC.length;function VB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<YJ;n++){const r=aC[n],i=t.props[r];(gm(i)||i===!1)&&(e[r]=i)}return e}const KJ=[...oC].reverse(),ZJ=oC.length;function JJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qJ(t,n,r)))}function QJ(t){let e=JJ(t),n=qN(),r=!0;const i=l=>(c,u)=>{var p;const h=xm(t,u,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=VB(t.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let y=0;y<ZJ;y++){const g=KJ[y],w=n[g],b=c[g]!==void 0?c[g]:u[g],M=gm(b),C=g===l?w.isActive:null;C===!1&&(v=y);let P=b===u[g]&&b!==c[g]&&M;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...m},!w.isActive&&C===null||!b&&!w.prevProp||L_(b)||typeof b=="boolean")continue;const R=eQ(w.prevProp,b);let O=R||g===l&&w.isActive&&!P&&M||y>v&&M,k=!1;const L=Array.isArray(b)?b:[b];let z=L.reduce(i(g),{});C===!1&&(z={});const{prevResolvedValues:G={}}=w,te={...G,...z},B=ne=>{O=!0,p.has(ne)&&(k=!0,p.delete(ne)),w.needsAnimating[ne]=!0;const F=t.getValue(ne);F&&(F.liveStyle=!1)};for(const ne in te){const F=z[ne],j=G[ne];if(m.hasOwnProperty(ne))continue;let U=!1;JE(F)&&JE(j)?U=!jB(F,j):U=F!==j,U?F!=null?B(ne):p.add(ne):F!==void 0&&p.has(ne)?B(ne):w.protectedKeys[ne]=!0}w.prevProp=b,w.prevResolvedValues=z,w.isActive&&(m={...m,...z}),r&&t.blockInitialAnimation&&(O=!1),O&&(!(P&&R)||k)&&h.push(...L.map(ne=>({animation:ne,options:{type:g}})))}if(p.size){const y={};if(typeof c.initial!="boolean"){const g=xm(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}p.forEach(g=>{const w=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),y[g]=w??null}),h.push({animation:y})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const p in n)n[p].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=qN(),r=!0}}}function eQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jB(e,t):!1}function fc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qN(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class Zl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tQ extends Zl{constructor(e){super(e),e.animationState||(e.animationState=QJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();L_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nQ=0;class rQ extends Zl{constructor(){super(...arguments),this.id=nQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iQ={animation:{Feature:tQ},exit:{Feature:rQ}};function wm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wg(t){return{point:{x:t.pageX,y:t.pageY}}}const sQ=t=>e=>sC(e)&&t(e,wg(e));function Pp(t,e,n,r){return wm(t,e,sQ(n),r)}function HB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const WB=1e-4,lQ=1-WB,cQ=1+WB,GB=.01,uQ=0-GB,dQ=0+GB;function ai(t){return t.max-t.min}function hQ(t,e,n){return Math.abs(t-e)<=n}function YN(t,e,n,r=.5){t.origin=r,t.originPoint=Ln(e.min,e.max,t.origin),t.scale=ai(n)/ai(e),t.translate=Ln(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lQ&&t.scale<=cQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=uQ&&t.translate<=dQ||isNaN(t.translate))&&(t.translate=0)}function Rp(t,e,n,r){YN(t.x,e.x,n.x,r?r.originX:void 0),YN(t.y,e.y,n.y,r?r.originY:void 0)}function KN(t,e,n){t.min=n.min+e.min,t.max=t.min+ai(e)}function fQ(t,e,n){KN(t.x,e.x,n.x),KN(t.y,e.y,n.y)}function ZN(t,e,n){t.min=e.min-n.min,t.max=t.min+ai(e)}function kp(t,e,n){ZN(t.x,e.x,n.x),ZN(t.y,e.y,n.y)}const JN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hd=()=>({x:JN(),y:JN()}),QN=()=>({min:0,max:0}),Kn=()=>({x:QN(),y:QN()});function hs(t){return[t("x"),t("y")]}function AS(t){return t===void 0||t===1}function uM({scale:t,scaleX:e,scaleY:n}){return!AS(t)||!AS(e)||!AS(n)}function Cc(t){return uM(t)||$B(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $B(t){return eL(t.x)||eL(t.y)}function eL(t){return t&&t!=="0%"}function Nx(t,e,n){const r=t-n,i=e*r;return n+i}function tL(t,e,n,r,i){return i!==void 0&&(t=Nx(t,i,r)),Nx(t,n,r)+e}function dM(t,e=0,n=1,r,i){t.min=tL(t.min,e,n,r,i),t.max=tL(t.max,e,n,r,i)}function XB(t,{x:e,y:n}){dM(t.x,e.translate,e.scale,e.originPoint),dM(t.y,n.translate,n.scale,n.originPoint)}const nL=.999999999999,rL=1.0000000000001;function pQ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,XB(t,o)),r&&Cc(s.latestValues)&&Gd(t,s.latestValues))}e.x<rL&&e.x>nL&&(e.x=1),e.y<rL&&e.y>nL&&(e.y=1)}function Wd(t,e){t.min=t.min+e,t.max=t.max+e}function iL(t,e,n,r,i=.5){const s=Ln(t.min,t.max,i);dM(t,e,n,s,r)}function Gd(t,e){iL(t.x,e.x,e.scaleX,e.scale,e.originX),iL(t.y,e.y,e.scaleY,e.scale,e.originY)}function qB(t,e){return HB(aQ(t.getBoundingClientRect(),e))}function mQ(t,e,n){const r=qB(t,n),{scroll:i}=e;return i&&(Wd(r.x,i.offset.x),Wd(r.y,i.offset.y)),r}const YB=({current:t})=>t?t.ownerDocument.defaultView:null,sL=(t,e)=>Math.abs(t-e);function gQ(t,e){const n=sL(t.x,e.x),r=sL(t.y,e.y);return Math.sqrt(n**2+r**2)}class KB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=PS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=gQ(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:x}=Cr;this.history.push({...v,timestamp:x});const{onStart:y,onMove:g}=this.handlers;p||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=CS(p,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=PS(h.type==="pointercancel"?this.lastMoveEventInfo:CS(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),v&&v(h,y)},!sC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=wg(e),a=CS(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Cr;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,PS(a,this.history)),this.removeListeners=_g(Pp(this.contextWindow,"pointermove",this.handlePointerMove),Pp(this.contextWindow,"pointerup",this.handlePointerUp),Pp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_a(this.updatePoint)}}function CS(t,e){return e?{point:e(t.point)}:t}function oL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function PS({point:t},e){return{point:t,delta:oL(t,ZB(e)),offset:oL(t,vQ(e)),velocity:yQ(e,.1)}}function vQ(t){return t[0]}function ZB(t){return t[t.length-1]}function yQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ZB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mo(e)));)n--;if(!r)return{x:0,y:0};const s=To(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ln(n,t,r.max):Math.min(t,n)),t}function aL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _Q(t,{top:e,left:n,bottom:r,right:i}){return{x:aL(t.x,n,i),y:aL(t.y,e,r)}}function lL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wQ(t,e){return{x:lL(t.x,e.x),y:lL(t.y,e.y)}}function bQ(t,e){let n=.5;const r=ai(t),i=ai(e);return i>r?n=fm(e.min,e.max-r,t.min):r>i&&(n=fm(t.min,t.max-i,e.min)),wa(0,1,n)}function SQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hM=.35;function EQ(t=hM){return t===!1?t=0:t===!0&&(t=hM),{x:cL(t,"left","right"),y:cL(t,"top","bottom")}}function cL(t,e,n){return{min:uL(t,e),max:uL(t,n)}}function uL(t,e){return typeof t=="number"?t:t[e]||0}const MQ=new WeakMap;class TQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wg(u).point)},s=(u,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bK(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Co.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(g=ai(b)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&xn.postRender(()=>v(u,h)),QE(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=AQ(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),x&&x(u,h)},a=(u,h)=>this.stop(u,h),l=()=>hs(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new KB(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:YB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!py(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xQ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&jd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=_Q(r.layoutBox,e):this.constraints=!1,this.elastic=EQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mQ(r,i.root,this.visualElement.getTransformPagePoint());let o=wQ(i.layout.layoutBox,s);if(n){const a=n(oQ(o));this.hasMutatedConstraints=!!a,a&&(o=HB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hs(u=>{if(!py(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return QE(this.visualElement,e),r.start(TC(e,r,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:r}=this.getProps();if(!py(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ln(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=bQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hs(o=>{if(!py(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ln(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;MQ.set(this.visualElement,this);const e=this.visualElement.current,n=Pp(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();jd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xn.read(r);const o=wm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hs(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function py(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CQ extends Zl{constructor(e){super(e),this.removeGroupControls=xs,this.removeListeners=xs,this.controls=new TQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xs}unmount(){this.removeGroupControls(),this.removeListeners()}}const dL=t=>(e,n)=>{t&&xn.postRender(()=>t(e,n))};class PQ extends Zl{constructor(){super(...arguments),this.removePointerDownListener=xs}onPointerDown(e){this.session=new KB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dL(e),onStart:dL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Pp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const F0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(vt.test(t))t=parseFloat(t);else return t;const n=hL(t,e.target.x),r=hL(t,e.target.y);return`${n}% ${r}%`}},RQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ul.parse(t);if(i.length>5)return r;const s=Ul.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ln(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class kQ extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;YK(NQ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),F0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JB(t){const[e,n]=Fz(),r=T.useContext(GA);return S.jsx(kQ,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(Kz),isPresent:e,safeToRemove:n})}const NQ={borderRadius:{...zf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zf,borderTopRightRadius:zf,borderBottomLeftRadius:zf,borderBottomRightRadius:zf,boxShadow:RQ};function LQ(t,e,n){const r=$r(t)?t:mm(t);return r.start(TC("",r,e,n)),r.animation}function IQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const DQ=(t,e)=>t.depth-e.depth;class OQ{constructor(){this.children=[],this.isDirty=!1}add(e){KA(this.children,e),this.isDirty=!0}remove(e){ZA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DQ),this.isDirty=!1,this.children.forEach(e)}}function FQ(t,e){const n=Ao.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(_a(r),t(s-e))};return xn.read(r,!0),()=>_a(r)}const QB=["TopLeft","TopRight","BottomLeft","BottomRight"],UQ=QB.length,fL=t=>typeof t=="string"?parseFloat(t):t,pL=t=>typeof t=="number"||vt.test(t);function zQ(t,e,n,r,i,s){i?(t.opacity=Ln(0,n.opacity!==void 0?n.opacity:1,BQ(r)),t.opacityExit=Ln(e.opacity!==void 0?e.opacity:1,0,jQ(r))):s&&(t.opacity=Ln(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<UQ;o++){const a=`border${QB[o]}Radius`;let l=mL(e,a),c=mL(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pL(l)===pL(c)?(t[a]=Math.max(Ln(fL(l),fL(c),r),0),(Co.test(c)||Co.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ln(e.rotate||0,n.rotate||0,r))}function mL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BQ=e4(0,.5,vB),jQ=e4(.5,.95,xs);function e4(t,e,n){return r=>r<t?0:r>e?1:n(fm(t,e,r))}function gL(t,e){t.min=e.min,t.max=e.max}function us(t,e){gL(t.x,e.x),gL(t.y,e.y)}function vL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yL(t,e,n,r,i){return t-=e,t=Nx(t,1/n,r),i!==void 0&&(t=Nx(t,1/i,r)),t}function VQ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Co.test(e)&&(e=parseFloat(e),e=Ln(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ln(s.min,s.max,r);t===s&&(a-=e),t.min=yL(t.min,e,n,a,i),t.max=yL(t.max,e,n,a,i)}function xL(t,e,[n,r,i],s,o){VQ(t,e[n],e[r],e[i],e.scale,s,o)}const HQ=["x","scaleX","originX"],WQ=["y","scaleY","originY"];function _L(t,e,n,r){xL(t.x,e,HQ,n?n.x:void 0,r?r.x:void 0),xL(t.y,e,WQ,n?n.y:void 0,r?r.y:void 0)}function wL(t){return t.translate===0&&t.scale===1}function t4(t){return wL(t.x)&&wL(t.y)}function bL(t,e){return t.min===e.min&&t.max===e.max}function GQ(t,e){return bL(t.x,e.x)&&bL(t.y,e.y)}function SL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function n4(t,e){return SL(t.x,e.x)&&SL(t.y,e.y)}function EL(t){return ai(t.x)/ai(t.y)}function ML(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $Q{constructor(){this.members=[]}add(e){KA(this.members,e),e.scheduleRender()}remove(e){if(ZA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const RS=["","X","Y","Z"],qQ={visibility:"hidden"},TL=1e3;let YQ=0;function kS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function r4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&r4(r)}function i4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JQ),this.nodes.forEach(ree),this.nodes.forEach(iee),this.nodes.forEach(QQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new OQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IQ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=FQ(p,250),F0.hasAnimatedSinceResize&&(F0.hasAnimatedSinceResize=!1,this.nodes.forEach(CL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||cee,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=u.getProps(),w=!this.targetLayout||!n4(this.targetLayout,v),b=!p&&m;if(this.options.layoutRoot||this.resumeFrom||b||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const M={...nC(x,"layout"),onPlay:y,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||CL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(see),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AL);return}this.isUpdating||this.nodes.forEach(tee),this.isUpdating=!1,this.nodes.forEach(nee),this.nodes.forEach(KQ),this.nodes.forEach(ZQ),this.clearAllSnapshots();const a=Ao.now();Cr.delta=wa(0,1e3/60,a-Cr.timestamp),Cr.timestamp=a,Cr.isProcessing=!0,wS.update.process(Cr),wS.preRender.process(Cr),wS.render.process(Cr),Cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eee),this.sharedNodes.forEach(oee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ai(this.snapshot.measuredBox.x)&&!ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!t4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Cc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Kn();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(dee))){const{scroll:u}=this.root;u&&(Wd(a.x,u.offset.x),Wd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Kn();if(us(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&us(a,o),Wd(a.x,h.offset.x),Wd(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Kn();us(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Gd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cc(u.latestValues)&&Gd(l,u.latestValues)}return Cc(this.latestValues)&&Gd(l,this.latestValues),l}removeTransform(o){const a=Kn();us(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cc(c.latestValues))continue;uM(c.latestValues)&&c.updateSnapshot();const u=Kn(),h=c.measurePageBox();us(u,h),_L(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cc(this.latestValues)&&_L(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Cr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),kp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kn(),this.targetWithTransforms=Kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),XB(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),kp(this.relativeTargetOrigin,this.target,m.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uM(this.parent.latestValues)||$B(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Cr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;us(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;pQ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vL(this.prevProjectionDelta.x,this.projectionDelta.x),vL(this.prevProjectionDelta.y,this.projectionDelta.y)),Rp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!ML(this.projectionDelta.x,this.prevProjectionDelta.x)||!ML(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hd(),this.projectionDelta=Hd(),this.projectionDeltaWithTransform=Hd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Hd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Kn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,y=this.getStack(),g=!y||y.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(lee));this.animationProgress=0;let b;this.mixTargetDelta=M=>{const C=M/1e3;PL(h.x,o.x,C),PL(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aee(this.relativeTarget,this.relativeTargetOrigin,p,C),b&&GQ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Kn()),us(b,this.relativeTarget)),x&&(this.animationValues=u,zQ(u,c,this.latestValues,C,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{F0.hasAnimatedSinceResize=!0,this.currentAnimation=LQ(0,TL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&s4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Kn();const h=ai(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=ai(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}us(a,l),Gd(a,u),Rp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $Q),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&kS("z",o,c,this.animationValues);for(let u=0;u<RS.length;u++)kS(`rotate${RS[u]}`,o,c,this.animationValues),kS(`skew${RS[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qQ;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=O0(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=O0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cc(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=XQ(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in vm){if(u[m]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:y}=vm[m],g=a.transform==="none"?u[m]:v(u[m],c);if(x){const w=x.length;for(let b=0;b<w;b++)a[x[b]]=g}else y?this.options.visualElement.renderState.vars[m]=g:a[m]=g}return this.options.layoutId&&(a.pointerEvents=c===this?O0(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(AL),this.root.sharedNodes.clear()}}}function KQ(t){t.updateLayout()}function ZQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?hs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=ai(p);p.min=r[h].min,p.max=p.min+m}):s4(s,e.layoutBox,r)&&hs(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=ai(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Hd();Rp(a,r,e.layoutBox);const l=Hd();o?Rp(l,t.applyTransform(i,!0),e.measuredBox):Rp(l,r,e.layoutBox);const c=!t4(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=Kn();kp(v,e.layoutBox,p.layoutBox);const x=Kn();kp(x,r,m.layoutBox),n4(v,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function JQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eee(t){t.clearSnapshot()}function AL(t){t.clearMeasurements()}function tee(t){t.isLayoutDirty=!1}function nee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ree(t){t.resolveTargetDelta()}function iee(t){t.calcProjection()}function see(t){t.resetSkewAndRotation()}function oee(t){t.removeLeadSnapshot()}function PL(t,e,n){t.translate=Ln(e.translate,0,n),t.scale=Ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RL(t,e,n,r){t.min=Ln(e.min,n.min,r),t.max=Ln(e.max,n.max,r)}function aee(t,e,n,r){RL(t.x,e.x,n.x,r),RL(t.y,e.y,n.y,r)}function lee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cee={duration:.45,ease:[.4,0,.1,1]},kL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NL=kL("applewebkit/")&&!kL("chrome/")?Math.round:xs;function LL(t){t.min=NL(t.min),t.max=NL(t.max)}function uee(t){LL(t.x),LL(t.y)}function s4(t,e,n){return t==="position"||t==="preserve-aspect"&&!hQ(EL(e),EL(n),.2)}function dee(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hee=i4({attachResizeListener:(t,e)=>wm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),NS={current:void 0},o4=i4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!NS.current){const t=new hee({});t.mount(window),t.setOptions({layoutScroll:!0}),NS.current=t}return NS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fee={pan:{Feature:PQ},drag:{Feature:CQ,ProjectionNode:o4,MeasureLayout:JB}};function IL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&xn.postRender(()=>s(e,wg(e)))}class pee extends Zl{mount(){const{current:e}=this.node;e&&(this.unmount=EK(e,(n,r)=>(IL(this.node,r,"Start"),i=>IL(this.node,i,"End"))))}unmount(){}}class mee extends Zl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_g(wm(this.node.current,"focus",()=>this.onFocus()),wm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DL(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&xn.postRender(()=>s(e,wg(e)))}class gee extends Zl{mount(){const{current:e}=this.node;e&&(this.unmount=CK(e,(n,r)=>(DL(this.node,r,"Start"),(i,{success:s})=>DL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fM=new WeakMap,LS=new WeakMap,vee=t=>{const e=fM.get(t.target);e&&e(t)},yee=t=>{t.forEach(vee)};function xee({root:t,...e}){const n=t||document;LS.has(n)||LS.set(n,{});const r=LS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(yee,{root:t,...e})),r[i]}function _ee(t,e,n){const r=xee(e);return fM.set(t,n),r.observe(t),()=>{fM.delete(t),r.unobserve(t)}}const wee={some:0,all:1};class bee extends Zl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wee[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return _ee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(See(e,n))&&this.startObserver()}unmount(){}}function See({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Eee={inView:{Feature:bee},tap:{Feature:gee},focus:{Feature:mee},hover:{Feature:pee}},Mee={layout:{ProjectionNode:o4,MeasureLayout:JB}},pM={current:null},a4={current:!1};function Tee(){if(a4.current=!0,!!XA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pM.current=t.matches;t.addListener(e),e()}else pM.current=!1}const Aee=[...NB,Hr,Ul],Cee=t=>Aee.find(kB(t)),Pee=new WeakMap;function Ree(t,e,n){for(const r in e){const i=e[r],s=n[r];if($r(i))t.addValue(r,i);else if($r(s))t.addValue(r,mm(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,mm(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ao.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,xn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=I_(n),this.isVariantNode=qz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&$r(v)&&v.set(l[m],!1)}}mount(e){this.current=e,Pee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),a4.current||Tee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Eu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nh){const n=Nh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OL.length;r++){const i=OL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ree(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(PB(r)||xB(r))?r=parseFloat(r):!Cee(r)&&Ul.test(n)&&(r=TB(e,n)),this.setBaseTarget(e,$r(r)?r.get():r)),$r(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=vC(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$r(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new QA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class l4 extends kee{constructor(){super(...arguments),this.KeyframeResolver=LB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$r(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Nee(t){return window.getComputedStyle(t)}class Lee extends l4{constructor(){super(...arguments),this.type="html",this.renderInstance=sB}readValueFromInstance(e,n){if(Eu.has(n))return $Z(e,n);{const r=Nee(e),i=(cC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qB(e,n)}build(e,n,r){hC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yC(e,n,r)}}class Iee extends l4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&iB(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Eu.has(n)){const r=MB(n);return r&&r.default||0}return n=oB.has(n)?n:lC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lB(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&xn.postRender(this.updateDimensions)}build(e,n,r){mC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){aB(e,n,r,i)}mount(e){this.isSVGTag=gC(e.tagName),super.mount(e)}}const Dee=(t,e)=>pC(t)?new Iee(e):new Lee(e,{allowProjection:t!==T.Fragment}),Oee=xZ({...iQ,...Eee,...fee,...Mee},Dee),vn=DK(Oee),Fee=({children:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(!1),s=T.useRef(null),{t:o}=Qs();T.useEffect(()=>{const c=()=>{window.scrollY>10?n(!0):n(!1)},u=()=>{window.innerWidth>=768&&r&&i(!1)};window.addEventListener("scroll",c),window.addEventListener("resize",u);const h=p=>{r&&s.current&&!s.current.contains(p.target)&&!p.target.closest("button")&&i(!1)};return document.addEventListener("mousedown",h),()=>{window.removeEventListener("scroll",c),window.removeEventListener("resize",u),document.removeEventListener("mousedown",h)}},[r]);const a=c=>{console.log(`Attempting to scroll to section: ${c}`),i(!1),setTimeout(()=>{const u=document.getElementById(c);if(console.log("Found element:",u),u){const m=u.getBoundingClientRect().top+window.pageYOffset-100;console.log(`Scrolling to position: ${m}`),window.scrollTo({top:m,behavior:"smooth"})}else console.error(`Element with ID "${c}" not found`)},300)},l=[{id:"story",label:o("navigation.story")},{id:"skills",label:o("navigation.skills")},{id:"projects",label:o("navigation.projects")},{id:"about",label:o("navigation.about")},{id:"contact",label:o("navigation.contact")}];return S.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"bg-black/80 backdrop-blur-md py-3 shadow-lg":"bg-transparent py-5"}`,children:[S.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to content"}),S.jsxs("div",{className:"container mx-auto px-4 md:px-6 flex items-center justify-between",children:[S.jsxs(vn.div,{className:"text-white font-mono text-2xl flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[S.jsx("span",{className:"text-gradient font-bold",children:"AA"}),S.jsx("span",{className:"text-neon-blue",children:"."})]}),S.jsxs(vn.nav,{className:"hidden md:flex items-center space-x-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[l.map((c,u)=>S.jsx(vn.a,{onClick:()=>a(c.id),href:`#${c.id}`,className:"text-white opacity-80 hover:opacity-100 hover:text-neon-blue transition-colors text-sm uppercase tracking-wide cursor-pointer","aria-label":`Navigate to ${c.label} section`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2+u*.1},whileHover:{scale:1.05},children:c.label},c.id)),S.jsxs("div",{className:"flex items-center space-x-3",children:[t,S.jsx(vN,{}),S.jsx(yN,{}),S.jsx(vn.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:S.jsx(_t,{onClick:()=>a("contact"),className:"bg-neon-blue text-white hover:bg-neon-blue/80 font-medium","aria-label":"Get in touch",children:o("navigation.getInTouch")})})]})]}),S.jsxs("div",{className:"md:hidden flex items-center space-x-3",children:[t,S.jsx(vN,{}),S.jsx(yN,{}),S.jsx("button",{onClick:()=>i(!r),className:"text-white p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":r?"Close menu":"Open menu","aria-expanded":r,"aria-controls":"mobile-menu",children:r?S.jsx(Os,{size:24}):S.jsx(j9,{size:24})})]})]}),S.jsx(YA,{children:r&&S.jsx(vn.div,{ref:s,id:"mobile-menu",className:"md:hidden absolute top-full left-0 right-0 bg-black/95 backdrop-blur-md py-4 shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:S.jsxs("nav",{className:"container mx-auto px-4 flex flex-col space-y-4",children:[l.map((c,u)=>S.jsx(vn.a,{onClick:()=>a(c.id),href:`#${c.id}`,className:"text-white py-3 opacity-80 hover:opacity-100 hover:text-neon-blue transition-colors text-sm uppercase tracking-wide","aria-label":`Navigate to ${c.label} section`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},children:c.label},c.id)),S.jsx(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l.length*.05},children:S.jsx(_t,{onClick:()=>a("contact"),className:"bg-neon-blue text-white hover:bg-neon-blue/80 font-medium w-full py-3","aria-label":"Get in touch",children:o("navigation.getInTouch")})})]})})})]})},Uee=(t,e)=>{if(e)return{particleColors:["#ff0000","#ff7700","#ffff00","#00ff00","#0000ff","#8B5CF6","#D946EF"],lineColor:"#ffffff",speed:5,size:4,blinking:!0,blinkSpeed:2.5};switch(t){case"blue":return{particleColors:["#1EAEDB","#33C3F0","#6DEAFF","#0FA0CE","#0078A8"],lineColor:"#1EAEDB",speed:2.2,size:3};case"green":return{particleColors:["#10B981","#34D399","#6EE7B7","#059669","#047857"],lineColor:"#10B981",speed:2.5,size:3.2};case"orange":return{particleColors:["#F97316","#FB923C","#FDBA74","#EA580C","#C2410C"],lineColor:"#F97316",speed:2.8,size:3.5};case"rainbow":return{particleColors:["#D946EF","#8B5CF6","#3B82F6","#10B981","#F97316"],lineColor:"#8B5CF6",speed:3,size:3.8};case"purple":default:return{particleColors:["#D946EF","#8B5CF6","#9b87f5","#7E69AB","#6E59A5"],lineColor:"#8B5CF6",speed:2.5,size:3.5}}},FL=(t,e,n,r=1)=>{if(typeof window>"u"||!window.particlesJS)return;const i=Uee(e,n),s=Bee(i,n,r);window.particlesJS(t,s),n&&i.blinking?zee(t,i):c4()},zee=(t,e)=>{if(c4(),typeof window<"u"){const n=["#ff0000","#ff7700","#ffff00","#00ff00","#0000ff","#8B5CF6","#D946EF","#1EAEDB","#F97316"],r=window.setInterval(()=>{var s;if(document.getElementById(t)&&window.pJSDom&&window.pJSDom.length>0){const o=(s=window.pJSDom.find(a=>a.pJS.canvas.el.id===t))==null?void 0:s.pJS;if(o){const a=n[Math.floor(Math.random()*n.length)],l=n[Math.floor(Math.random()*n.length)];o.particles.color.value=a,o.particles.line_linked.color=l;for(let c=0;c<o.particles.array.length;c++){const u=o.particles.array[c];u.color.value=n[Math.floor(Math.random()*n.length)]}o.canvas.pxratio=1+Math.random()*.3}}},1e3/(e.blinkSpeed||1));window._particleBlinkInterval=r}},c4=t=>{typeof window<"u"&&window._particleBlinkInterval&&(clearInterval(window._particleBlinkInterval),delete window._particleBlinkInterval)},Bee=(t,e,n)=>{const r=Math.floor(80*n);return{particles:{number:{value:e?r*1.5:r,density:{enable:!0,value_area:800}},color:{value:t.particleColors},shape:{type:e?["circle","star","triangle"]:"circle"},opacity:{value:.7,random:!0,anim:{enable:!0,speed:e?3:1,opacity_min:.3,sync:!1}},size:{value:t.size,random:!0,anim:{enable:!0,speed:e?6:2,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:e?120:150,color:t.lineColor,opacity:e?.8:.5,width:e?2:1.2},move:{enable:!0,speed:e?t.speed*1.5:t.speed,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:e,attract:{enable:!0,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"window",events:{onhover:{enable:!0,mode:e?"bubble":"grab"},onclick:{enable:!0,mode:e?"repulse":"push"},resize:!0},modes:{grab:{distance:180,line_linked:{opacity:.9}},repulse:{distance:200,duration:.4},push:{particles_nb:e?12:8},bubble:{distance:100,size:e?8:6,duration:.4,opacity:.8,speed:3}}},retina_detect:!0}},jee=t=>{if(typeof window<"u"){if(window.particlesJS)return t(),()=>{};const e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js",e.async=!0,e.onload=()=>{t()},document.body.appendChild(e),()=>{window._particleBlinkInterval&&(clearInterval(window._particleBlinkInterval),delete window._particleBlinkInterval)}}return()=>{}},Vee=t=>{const[e,n]=T.useState(!1),r=T.useRef([]);return T.useEffect(()=>{const i=s=>{const o=s.key.toLowerCase();r.current=[...r.current,o].slice(-t.length),r.current.join("")===t.join("")&&(n(!0),setTimeout(()=>n(!1),1e4))};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t]),e},Hee=({className:t,id:e="particle-1",enabled:n=!0,theme:r="purple",density:i=1})=>{const s=T.useRef(null),[o,a]=T.useState(!1),[l,c]=T.useState(!0),u=Vee(["p","a","r","t","y"]);return T.useEffect(()=>{if(typeof window<"u"&&s.current&&n)return jee(()=>{FL(e,r,u,i),a(!0),setTimeout(()=>{c(!1)},5e3)})},[n,e]),T.useEffect(()=>{o&&window.particlesJS&&n&&FL(e,r,u,i)},[r,u,n,i,e,o]),n?S.jsxs(S.Fragment,{children:[S.jsx("div",{id:e,ref:s,className:`fixed inset-0 z-0 ${t||""}`,style:{width:"100%",height:"100%",position:"fixed",top:0,left:0,pointerEvents:"auto"},"aria-hidden":"true","data-theme":r,"data-density":i}),l&&S.jsxs(vn.div,{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-20 bg-black/60 backdrop-blur-sm text-white px-4 py-2 rounded-full flex items-center gap-2 border border-purple-400/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},"aria-live":"polite",children:[S.jsx("span",{className:"text-sm font-medium",children:"Try clicking or moving your cursor"}),S.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"})]}),S.jsx(YA,{children:u&&S.jsxs(vn.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-4 rounded-lg bg-black/80 backdrop-blur-md border border-white/20 text-white text-center",initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,rotate:10},transition:{type:"spring",bounce:.5},children:[S.jsx("h2",{className:"text-3xl font-bold mb-2 text-gradient",children:"Party Mode Activated! 🎉"}),S.jsx("p",{children:"Enjoy the rainbow neon particles for 10 seconds!"})]})})]}):null};var Wee="Toggle",u4=T.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=Yl({prop:n,onChange:i,defaultProp:r});return S.jsx(Xt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Tt(t.onClick,()=>{t.disabled||a(!o)})})});u4.displayName=Wee;var d4=u4;const Gee=fg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),h4=T.forwardRef(({className:t,variant:e,size:n,...r},i)=>S.jsx(d4,{ref:i,className:Yt(Gee({variant:e,size:n,className:t})),...r}));h4.displayName=d4.displayName;function f4(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AC="Switch",[$ee,Ome]=wu(AC),[Xee,qee]=$ee(AC),p4=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=t,[p,m]=T.useState(null),v=Cn(e,b=>m(b)),x=T.useRef(!1),y=p?u||!!p.closest("form"):!0,[g=!1,w]=Yl({prop:i,defaultProp:s,onChange:c});return S.jsxs(Xee,{scope:n,checked:g,disabled:a,children:[S.jsx(Xt.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":v4(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:v,onClick:Tt(t.onClick,b=>{w(M=>!M),y&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),y&&S.jsx(Yee,{control:p,bubbles:!x.current,name:r,value:l,checked:g,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});p4.displayName=AC;var m4="SwitchThumb",g4=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=qee(m4,n);return S.jsx(Xt.span,{"data-state":v4(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});g4.displayName=m4;var Yee=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=T.useRef(null),o=f4(n),a=kA(e);return T.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(l,n),l.dispatchEvent(p)}},[o,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v4(t){return t?"checked":"unchecked"}var y4=p4,Kee=g4;const x4=T.forwardRef(({className:t,...e},n)=>S.jsx(y4,{className:Yt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:S.jsx(Kee,{className:Yt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));x4.displayName=y4.displayName;function _4(t,[e,n]){return Math.min(n,Math.max(e,t))}var Zee=T.createContext(void 0);function CC(t){const e=T.useContext(Zee);return t||e||"ltr"}var w4=["PageUp","PageDown"],b4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qh="Slider",[mM,Jee,Qee]=_A(Qh),[E4,Fme]=wu(Qh,[Qee]),[ete,O_]=E4(Qh),M4=T.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:v,...x}=t,y=T.useRef(new Set),g=T.useRef(0),b=o==="horizontal"?tte:nte,[M=[],C]=Yl({prop:u,defaultProp:c,onChange:z=>{var te;(te=[...y.current][g.current])==null||te.focus(),h(z)}}),P=T.useRef(M);function R(z){const G=ate(M,z);L(z,G)}function O(z){L(z,g.current)}function k(){const z=P.current[g.current];M[g.current]!==z&&p(M)}function L(z,G,{commit:te}={commit:!1}){const B=dte(s),Z=hte(Math.round((z-r)/s)*s+r,B),J=_4(Z,[r,i]);C((ne=[])=>{const F=ste(ne,J,G);if(ute(F,l*s)){g.current=F.indexOf(J);const j=String(F)!==String(ne);return j&&te&&p(F),j?F:ne}else return ne})}return S.jsx(ete,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:g,thumbs:y.current,values:M,orientation:o,form:v,children:S.jsx(mM.Provider,{scope:t.__scopeSlider,children:S.jsx(mM.Slot,{scope:t.__scopeSlider,children:S.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:Tt(x.onPointerDown,()=>{a||(P.current=M)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:R,onSlideMove:a?void 0:O,onSlideEnd:a?void 0:k,onHomeKeyDown:()=>!a&&L(r,0,{commit:!0}),onEndKeyDown:()=>!a&&L(i,M.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:G})=>{if(!a){const Z=w4.includes(z.key)||z.shiftKey&&b4.includes(z.key)?10:1,J=g.current,ne=M[J],F=s*Z*G;L(ne+F,J,{commit:!0})}}})})})})});M4.displayName=Qh;var[T4,A4]=E4(Qh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),tte=T.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[h,p]=T.useState(null),m=Cn(e,b=>p(b)),v=T.useRef(),x=CC(i),y=x==="ltr",g=y&&!s||!y&&s;function w(b){const M=v.current||h.getBoundingClientRect(),C=[0,M.width],R=PC(C,g?[n,r]:[r,n]);return v.current=M,R(b-M.left)}return S.jsx(T4,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:S.jsx(C4,{dir:x,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const M=w(b.clientX);o==null||o(M)},onSlideMove:b=>{const M=w(b.clientX);a==null||a(M)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:b=>{const C=S4[g?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:C?-1:1})}})})}),nte=T.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=T.useRef(null),h=Cn(e,u),p=T.useRef(),m=!i;function v(x){const y=p.current||u.current.getBoundingClientRect(),g=[0,y.height],b=PC(g,m?[r,n]:[n,r]);return p.current=y,b(x-y.top)}return S.jsx(T4,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:S.jsx(C4,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=v(x.clientY);s==null||s(y)},onSlideMove:x=>{const y=v(x.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:x=>{const g=S4[m?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:g?-1:1})}})})}),C4=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=O_(Qh,n);return S.jsx(Xt.span,{...c,ref:e,onKeyDown:Tt(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):w4.concat(b4).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Tt(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(p)?p.focus():r(h)}),onPointerMove:Tt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Tt(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),s(h))})})}),P4="SliderTrack",R4=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=O_(P4,n);return S.jsx(Xt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});R4.displayName=P4;var gM="SliderRange",k4=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=O_(gM,n),s=A4(gM,n),o=T.useRef(null),a=Cn(e,o),l=i.values.length,c=i.values.map(p=>L4(p,i.min,i.max)),u=l>1?Math.min(...c):0,h=100-Math.max(...c);return S.jsx(Xt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:u+"%",[s.endEdge]:h+"%"}})});k4.displayName=gM;var vM="SliderThumb",N4=T.forwardRef((t,e)=>{const n=Jee(t.__scopeSlider),[r,i]=T.useState(null),s=Cn(e,a=>i(a)),o=T.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return S.jsx(rte,{...t,ref:s,index:o})}),rte=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=O_(vM,n),a=A4(vM,n),[l,c]=T.useState(null),u=Cn(e,w=>c(w)),h=l?o.form||!!l.closest("form"):!0,p=kA(l),m=o.values[r],v=m===void 0?0:L4(m,o.min,o.max),x=ote(r,o.values.length),y=p==null?void 0:p[a.size],g=y?lte(y,v,a.direction):0;return T.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${g}px)`},children:[S.jsx(mM.ItemSlot,{scope:t.__scopeSlider,children:S.jsx(Xt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:m===void 0?{display:"none"}:t.style,onFocus:Tt(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&S.jsx(ite,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});N4.displayName=vM;var ite=t=>{const{value:e,...n}=t,r=T.useRef(null),i=f4(e);return T.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),S.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function ste(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function L4(t,e,n){const s=100/(n-e)*(t-e);return _4(s,[0,100])}function ote(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function ate(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function lte(t,e,n){const r=t/2,s=PC([0,50],[0,r]);return(r-s(e)*n)*n}function cte(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function ute(t,e){if(e>0){const n=cte(t);return Math.min(...n)>=e}return!0}function PC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function dte(t){return(String(t).split(".")[1]||"").length}function hte(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var I4=M4,fte=R4,pte=k4,mte=N4;const D4=T.forwardRef(({className:t,...e},n)=>S.jsxs(I4,{ref:n,className:Yt("relative flex w-full touch-none select-none items-center",t),...e,children:[S.jsx(fte,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:S.jsx(pte,{className:"absolute h-full bg-primary"})}),S.jsx(mte,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));D4.displayName=I4.displayName;const gte=({enabled:t,onToggle:e,currentTheme:n,onThemeChange:r,density:i,onDensityChange:s,className:o=""})=>{const a=["purple","blue","green","orange","rainbow"],l={purple:"bg-neon-purple",blue:"bg-neon-blue",green:"bg-green-500",orange:"bg-neon-orange",rainbow:"bg-gradient-to-r from-neon-purple via-neon-blue to-neon-pink"},c=u=>{s(u[0])};return S.jsxs(Nz,{children:[S.jsx(Lz,{asChild:!0,children:S.jsx(_t,{variant:"outline",size:"icon",className:`border-white/10 bg-black/30 hover:bg-white/10 ${o}`,"aria-label":"Network settings",children:S.jsx(V9,{className:"h-4 w-4"})})}),S.jsx(WA,{className:"w-64 bg-black/90 border-white/10 neo-blur text-white p-3",children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("label",{htmlFor:"network-toggle",className:"text-sm text-white/80 select-none cursor-pointer",children:"Network Mode"}),S.jsx(x4,{id:"network-toggle",checked:t,onCheckedChange:e,"aria-label":`Turn ${t?"off":"on"} particle network`})]}),t&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(H9,{className:"h-4 w-4 text-white/60"}),S.jsx("span",{className:"text-xs text-white/80",children:"Themes"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(u=>S.jsx(h4,{"aria-label":`${u} theme`,variant:"outline",size:"sm",className:`h-7 w-7 rounded-full p-0 ${n===u?"ring-2 ring-white":""}`,pressed:n===u,onPressedChange:()=>r(u),children:S.jsx("span",{className:`w-4 h-4 rounded-full ${l[u]}`,"aria-hidden":"true"})},u))})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(F9,{className:"h-4 w-4 text-white/60"}),S.jsx("span",{className:"text-xs text-white/80",children:"Density"})]}),S.jsxs("div",{className:"px-1",children:[S.jsx(D4,{value:[i],min:.2,max:2,step:.1,onValueChange:c,className:"w-full","aria-label":"Adjust particle density"}),S.jsxs("div",{className:"flex justify-between text-xs text-white/60 mt-1",children:[S.jsx("span",{children:"Sparse"}),S.jsx("span",{children:"Dense"})]})]})]}),S.jsx("div",{className:"text-xs text-white/60 text-center",children:S.jsx("p",{children:'Psst! Try typing "party"'})})]})]})})]})},vte=()=>{const[t,e]=T.useState(0);return T.useEffect(()=>{const n=()=>{const r=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=window.scrollY/r*100;e(s)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),S.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 z-[100] bg-black/20",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink",style:{width:`${t}%`}})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bg="160",Pc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},O4=0,yM=1,F4=2,yte=3,U4=0,F_=1,Np=2,Ns=3,ba=0,ci=1,wo=2,xte=2,fa=0,Qc=1,xM=2,_M=3,wM=4,z4=5,sl=100,B4=101,j4=102,bM=103,SM=104,V4=200,H4=201,W4=202,G4=203,Lx=204,Ix=205,$4=206,X4=207,q4=208,Y4=209,K4=210,Z4=211,J4=212,Q4=213,ej=214,tj=0,nj=1,rj=2,bm=3,ij=4,sj=5,oj=6,aj=7,Sg=0,lj=1,cj=2,Po=0,uj=1,dj=2,hj=3,RC=4,fj=5,pj=6,EM="attached",mj="detached",U_=300,Sa=301,zl=302,Sm=303,Em=304,ef=306,Mm=1e3,Gr=1001,Tm=1002,Zn=1003,Dx=1004,_te=1004,Lp=1005,wte=1005,Qn=1006,kC=1007,bte=1007,Bl=1008,Ste=1008,Ro=1009,gj=1010,vj=1011,z_=1012,NC=1013,ca=1014,js=1015,Ih=1016,LC=1017,IC=1018,Tl=1020,yj=1021,oi=1023,xj=1024,_j=1025,Al=1026,du=1027,wj=1028,DC=1029,bj=1030,OC=1031,FC=1033,U0=33776,z0=33777,B0=33778,j0=33779,MM=35840,TM=35841,AM=35842,CM=35843,UC=36196,PM=37492,RM=37496,kM=37808,NM=37809,LM=37810,IM=37811,DM=37812,OM=37813,FM=37814,UM=37815,zM=37816,BM=37817,jM=37818,VM=37819,HM=37820,WM=37821,V0=36492,GM=36494,$M=36495,Sj=36283,XM=36284,qM=36285,YM=36286,Ej=2200,Mj=2201,Tj=2202,Am=2300,Cm=2301,H0=2302,jc=2400,Vc=2401,Pm=2402,B_=2500,zC=2501,Ete=0,Mte=1,Tte=2,BC=3e3,Cl=3001,Aj=3200,Cj=3201,Jl=0,Pj=1,Hi="",cr="srgb",Io="srgb-linear",j_="display-p3",Eg="display-p3-linear",Rm="linear",gn="srgb",km="rec709",Nm="p3",Ate=0,kc=7680,Cte=7681,Pte=7682,Rte=7683,kte=34055,Nte=34056,Lte=5386,Ite=512,Dte=513,Ote=514,Fte=515,Ute=516,zte=517,Bte=518,KM=519,Rj=512,kj=513,Nj=514,jC=515,Lj=516,Ij=517,Dj=518,Oj=519,Lm=35044,jte=35048,Vte=35040,Hte=35045,Wte=35049,Gte=35041,$te=35046,Xte=35050,qte=35042,Yte="100",ZM="300 es",Ox=1035,Vs=2e3,Dh=2001;let Ca=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let UL=1234567;const eu=Math.PI/180,Oh=180/Math.PI;function Xi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zr[t&255]+zr[t>>8&255]+zr[t>>16&255]+zr[t>>24&255]+"-"+zr[e&255]+zr[e>>8&255]+"-"+zr[e>>16&15|64]+zr[e>>24&255]+"-"+zr[n&63|128]+zr[n>>8&255]+"-"+zr[n>>16&255]+zr[n>>24&255]+zr[r&255]+zr[r>>8&255]+zr[r>>16&255]+zr[r>>24&255]).toLowerCase()}function Wn(t,e,n){return Math.max(e,Math.min(n,t))}function VC(t,e){return(t%e+e)%e}function Kte(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Zte(t,e,n){return t!==e?(n-t)/(e-t):0}function Ip(t,e,n){return(1-n)*t+n*e}function Jte(t,e,n,r){return Ip(t,e,1-Math.exp(-n*r))}function Qte(t,e=1){return e-Math.abs(VC(t,e*2)-e)}function ene(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function tne(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function nne(t,e){return t+Math.floor(Math.random()*(e-t+1))}function rne(t,e){return t+Math.random()*(e-t)}function ine(t){return t*(.5-Math.random())}function sne(t){t!==void 0&&(UL=t);let e=UL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function one(t){return t*eu}function ane(t){return t*Oh}function JM(t){return(t&t-1)===0&&t!==0}function lne(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Fx(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function cne(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Mi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ot(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const V_={DEG2RAD:eu,RAD2DEG:Oh,generateUUID:Xi,clamp:Wn,euclideanModulo:VC,mapLinear:Kte,inverseLerp:Zte,lerp:Ip,damp:Jte,pingpong:Qte,smoothstep:ene,smootherstep:tne,randInt:nne,randFloat:rne,randFloatSpread:ine,seededRandom:sne,degToRad:one,radToDeg:ane,isPowerOfTwo:JM,ceilPowerOfTwo:lne,floorPowerOfTwo:Fx,setQuaternionFromProperEuler:cne,normalize:Ot,denormalize:Mi};class we{constructor(e=0,n=0){we.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(e,n,r,i,s,o,a,l,c){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],p=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],w=i[1],b=i[4],M=i[7],C=i[2],P=i[5],R=i[8];return s[0]=o*x+a*w+l*C,s[3]=o*y+a*b+l*P,s[6]=o*g+a*M+l*R,s[1]=c*x+u*w+h*C,s[4]=c*y+u*b+h*P,s[7]=c*g+u*M+h*R,s[2]=p*x+m*w+v*C,s[5]=p*y+m*b+v*P,s[8]=p*g+m*M+v*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=n*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=h*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(u*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(IS.makeScale(e,n)),this}rotate(e){return this.premultiply(IS.makeRotation(-e)),this}translate(e,n){return this.premultiply(IS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const IS=new Bt;function Fj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const une={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $d(t,e){return new une[t](e)}function Im(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Uj(){const t=Im("canvas");return t.style.display="block",t}const zL={};function Dp(t){t in zL||(zL[t]=!0,console.warn(t))}const BL=new Bt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),jL=new Bt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),my={[Io]:{transfer:Rm,primaries:km,toReference:t=>t,fromReference:t=>t},[cr]:{transfer:gn,primaries:km,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Eg]:{transfer:Rm,primaries:Nm,toReference:t=>t.applyMatrix3(jL),fromReference:t=>t.applyMatrix3(BL)},[j_]:{transfer:gn,primaries:Nm,toReference:t=>t.convertSRGBToLinear().applyMatrix3(jL),fromReference:t=>t.applyMatrix3(BL).convertLinearToSRGB()}},dne=new Set([Io,Eg]),un={enabled:!0,_workingColorSpace:Io,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!dne.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=my[e].toReference,i=my[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return my[t].primaries},getTransfer:function(t){return t===Hi?Rm:my[t].transfer}};function ch(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function DS(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Ju;class HC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ju===void 0&&(Ju=Im("canvas")),Ju.width=e.width,Ju.height=e.height;const r=Ju.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ju}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Im("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ch(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ch(n[r]/255)*255):n[r]=ch(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let hne=0;class Hc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hne++}),this.uuid=Xi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(OS(i[o].image)):s.push(OS(i[o]))}else s=OS(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function OS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?HC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fne=0;class $n extends Ca{constructor(e=$n.DEFAULT_IMAGE,n=$n.DEFAULT_MAPPING,r=Gr,i=Gr,s=Qn,o=Bl,a=oi,l=Ro,c=$n.DEFAULT_ANISOTROPY,u=Hi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fne++}),this.uuid=Xi(),this.name="",this.source=new Hc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Dp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Cl?cr:Hi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==U_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mm:e.x=e.x-Math.floor(e.x);break;case Gr:e.x=e.x<0?0:1;break;case Tm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mm:e.y=e.y-Math.floor(e.y);break;case Gr:e.y=e.y<0?0:1;break;case Tm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Dp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===cr?Cl:BC}set encoding(e){Dp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Cl?cr:Hi}}$n.DEFAULT_IMAGE=null;$n.DEFAULT_MAPPING=U_;$n.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,n=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(h-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(u+p)<.1&&Math.abs(h+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,M=(m+1)/2,C=(g+1)/2,P=(u+p)/4,R=(h+x)/4,O=(v+y)/4;return b>M&&b>C?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=P/r,s=R/r):M>C?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=P/i,s=O/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=O/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-v)*(y-v)+(h-x)*(h-x)+(p-u)*(p-u));return Math.abs(w)<.001&&(w=1),this.x=(y-v)/w,this.y=(h-x)/w,this.z=(p-u)/w,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class zj extends Ca{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new cn(0,0,e,n),this.scissorTest=!1,this.viewport=new cn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Dp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Cl?cr:Hi),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new $n(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Hc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ks extends zj{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class H_ extends $n{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=Gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pne extends Ks{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new H_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class WC extends $n{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=Gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mne extends Ks{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new WC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class gne extends Ks{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Xr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=x;return}if(h!==x||l!==p||c!==m||u!==v){let y=1-a;const g=l*p+c*m+u*v+h*x,w=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const C=Math.sqrt(b),P=Math.atan2(C,g*w);y=Math.sin(y*P)/C,a=Math.sin(a*P)/C}const M=a*w;if(l=l*y+p*M,c=c*y+m*M,u=u*y+v*M,h=h*y+x*M,y===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=C,c*=C,u*=C,h*=C}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+u*h+l*m-c*p,e[n+1]=l*v+u*p+c*h-a*m,e[n+2]=c*v+u*m+a*p-l*h,e[n+3]=u*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"YXZ":this._x=p*u*h+c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"ZXY":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h-p*m*v;break;case"ZYX":this._x=p*u*h-c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h+p*m*v;break;case"YZX":this._x=p*u*h+c*m*v,this._y=c*m*h+p*u*v,this._z=c*u*v-p*m*h,this._w=c*u*h-p*m*v;break;case"XZY":this._x=p*u*h-c*m*v,this._y=c*m*h-p*u*v,this._z=c*u*v+p*m*h,this._w=c*u*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(VL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(VL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),h=2*(s*r-o*n);return this.x=n+l*c+o*h-a*u,this.y=r+l*u+a*c-s*h,this.z=i+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return FS.copy(this).projectOnVector(e),this.sub(FS)}reflect(e){return this.sub(FS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const FS=new H,VL=new Xr;class ui{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ts.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ts.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ts.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ts):Ts.fromBufferAttribute(s,o),Ts.applyMatrix4(e.matrixWorld),this.expandByPoint(Ts);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),gy.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),gy.copy(r.boundingBox)),gy.applyMatrix4(e.matrixWorld),this.union(gy)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ts),Ts.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bf),vy.subVectors(this.max,Bf),Qu.subVectors(e.a,Bf),ed.subVectors(e.b,Bf),td.subVectors(e.c,Bf),ja.subVectors(ed,Qu),Va.subVectors(td,ed),pc.subVectors(Qu,td);let n=[0,-ja.z,ja.y,0,-Va.z,Va.y,0,-pc.z,pc.y,ja.z,0,-ja.x,Va.z,0,-Va.x,pc.z,0,-pc.x,-ja.y,ja.x,0,-Va.y,Va.x,0,-pc.y,pc.x,0];return!US(n,Qu,ed,td,vy)||(n=[1,0,0,0,1,0,0,0,1],!US(n,Qu,ed,td,vy))?!1:(yy.crossVectors(ja,Va),n=[yy.x,yy.y,yy.z],US(n,Qu,ed,td,vy))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ts).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ts).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xo=[new H,new H,new H,new H,new H,new H,new H,new H],Ts=new H,gy=new ui,Qu=new H,ed=new H,td=new H,ja=new H,Va=new H,pc=new H,Bf=new H,vy=new H,yy=new H,mc=new H;function US(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){mc.fromArray(t,s);const a=i.x*Math.abs(mc.x)+i.y*Math.abs(mc.y)+i.z*Math.abs(mc.z),l=e.dot(mc),c=n.dot(mc),u=r.dot(mc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const vne=new ui,jf=new H,zS=new H;class qr{constructor(e=new H,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):vne.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jf.subVectors(e,this.center);const n=jf.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(jf,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jf.copy(e.center).add(zS)),this.expandByPoint(jf.copy(e.center).sub(zS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qo=new H,BS=new H,xy=new H,Ha=new H,jS=new H,_y=new H,VS=new H;class Mu{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qo.copy(this.origin).addScaledVector(this.direction,n),qo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){BS.copy(e).add(n).multiplyScalar(.5),xy.copy(n).sub(e).normalize(),Ha.copy(this.origin).sub(BS);const s=e.distanceTo(n)*.5,o=-this.direction.dot(xy),a=Ha.dot(this.direction),l=-Ha.dot(xy),c=Ha.lengthSq(),u=Math.abs(1-o*o);let h,p,m,v;if(u>0)if(h=o*l-a,p=o*a-l,v=s*u,h>=0)if(p>=-v)if(p<=v){const x=1/u;h*=x,p*=x,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(BS).addScaledVector(xy,p),m}intersectSphere(e,n){qo.subVectors(e.center,this.origin);const r=qo.dot(this.direction),i=qo.dot(qo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,qo)!==null}intersectTriangle(e,n,r,i,s){jS.subVectors(n,e),_y.subVectors(r,e),VS.crossVectors(jS,_y);let o=this.direction.dot(VS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ha.subVectors(this.origin,e);const l=a*this.direction.dot(_y.crossVectors(Ha,_y));if(l<0)return null;const c=a*this.direction.dot(jS.cross(Ha));if(c<0||l+c>o)return null;const u=-a*Ha.dot(VS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(e,n,r,i,s,o,a,l,c,u,h,p,m,v,x,y){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,h,p,m,v,x,y)}set(e,n,r,i,s,o,a,l,c,u,h,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/nd.setFromMatrixColumn(e,0).length(),s=1/nd.setFromMatrixColumn(e,1).length(),o=1/nd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*h,v=a*u,x=a*h;n[0]=l*u,n[4]=-l*h,n[8]=c,n[1]=m+v*c,n[5]=p-x*c,n[9]=-a*l,n[2]=x-p*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*h,v=c*u,x=c*h;n[0]=p+x*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*u,n[9]=-a,n[2]=m*a-v,n[6]=x+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*h,v=c*u,x=c*h;n[0]=p-x*a,n[4]=-o*h,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*u,n[9]=x-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*h,v=a*u,x=a*h;n[0]=l*u,n[4]=v*c-m,n[8]=p*c+x,n[1]=l*h,n[5]=x*c+p,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*u,n[4]=x-p*h,n[8]=v*h+m,n[1]=h,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*h+v,n[10]=p-x*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*u,n[4]=-h,n[8]=c*u,n[1]=p*h+x,n[5]=o*u,n[9]=m*h-v,n[2]=v*h-m,n[6]=a*u,n[10]=x*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yne,e,xne)}lookAt(e,n,r){const i=this.elements;return Oi.subVectors(e,n),Oi.lengthSq()===0&&(Oi.z=1),Oi.normalize(),Wa.crossVectors(r,Oi),Wa.lengthSq()===0&&(Math.abs(r.z)===1?Oi.x+=1e-4:Oi.z+=1e-4,Oi.normalize(),Wa.crossVectors(r,Oi)),Wa.normalize(),wy.crossVectors(Oi,Wa),i[0]=Wa.x,i[4]=wy.x,i[8]=Oi.x,i[1]=Wa.y,i[5]=wy.y,i[9]=Oi.y,i[2]=Wa.z,i[6]=wy.z,i[10]=Oi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],p=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],w=r[3],b=r[7],M=r[11],C=r[15],P=i[0],R=i[4],O=i[8],k=i[12],L=i[1],z=i[5],G=i[9],te=i[13],B=i[2],Z=i[6],J=i[10],ne=i[14],F=i[3],j=i[7],U=i[11],$=i[15];return s[0]=o*P+a*L+l*B+c*F,s[4]=o*R+a*z+l*Z+c*j,s[8]=o*O+a*G+l*J+c*U,s[12]=o*k+a*te+l*ne+c*$,s[1]=u*P+h*L+p*B+m*F,s[5]=u*R+h*z+p*Z+m*j,s[9]=u*O+h*G+p*J+m*U,s[13]=u*k+h*te+p*ne+m*$,s[2]=v*P+x*L+y*B+g*F,s[6]=v*R+x*z+y*Z+g*j,s[10]=v*O+x*G+y*J+g*U,s[14]=v*k+x*te+y*ne+g*$,s[3]=w*P+b*L+M*B+C*F,s[7]=w*R+b*z+M*Z+C*j,s[11]=w*O+b*G+M*J+C*U,s[15]=w*k+b*te+M*ne+C*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*m-r*l*m)+x*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+y*(+n*c*h-n*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-n*l*h+n*a*p+i*o*h-r*o*p+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],w=h*y*c-x*p*c+x*l*m-a*y*m-h*l*g+a*p*g,b=v*p*c-u*y*c-v*l*m+o*y*m+u*l*g-o*p*g,M=u*x*c-v*h*c+v*a*m-o*x*m-u*a*g+o*h*g,C=v*h*l-u*x*l-v*a*p+o*x*p+u*a*y-o*h*y,P=n*w+r*b+i*M+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=w*R,e[1]=(x*p*s-h*y*s-x*i*m+r*y*m+h*i*g-r*p*g)*R,e[2]=(a*y*s-x*l*s+x*i*c-r*y*c-a*i*g+r*l*g)*R,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=b*R,e[5]=(u*y*s-v*p*s+v*i*m-n*y*m-u*i*g+n*p*g)*R,e[6]=(v*l*s-o*y*s-v*i*c+n*y*c+o*i*g-n*l*g)*R,e[7]=(o*p*s-u*l*s+u*i*c-n*p*c-o*i*m+n*l*m)*R,e[8]=M*R,e[9]=(v*h*s-u*x*s-v*r*m+n*x*m+u*r*g-n*h*g)*R,e[10]=(o*x*s-v*a*s+v*r*c-n*x*c-o*r*g+n*a*g)*R,e[11]=(u*a*s-o*h*s-u*r*c+n*h*c+o*r*m-n*a*m)*R,e[12]=C*R,e[13]=(u*x*i-v*h*i+v*r*p-n*x*p-u*r*y+n*h*y)*R,e[14]=(v*a*i-o*x*i-v*r*l+n*x*l+o*r*y-n*a*y)*R,e[15]=(o*h*i-u*a*i+u*r*l-n*h*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,h=a+a,p=s*c,m=s*u,v=s*h,x=o*u,y=o*h,g=a*h,w=l*c,b=l*u,M=l*h,C=r.x,P=r.y,R=r.z;return i[0]=(1-(x+g))*C,i[1]=(m+M)*C,i[2]=(v-b)*C,i[3]=0,i[4]=(m-M)*P,i[5]=(1-(p+g))*P,i[6]=(y+w)*P,i[7]=0,i[8]=(v+b)*R,i[9]=(y-w)*R,i[10]=(1-(p+x))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=nd.set(i[0],i[1],i[2]).length();const o=nd.set(i[4],i[5],i[6]).length(),a=nd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],As.copy(this);const c=1/s,u=1/o,h=1/a;return As.elements[0]*=c,As.elements[1]*=c,As.elements[2]*=c,As.elements[4]*=u,As.elements[5]*=u,As.elements[6]*=u,As.elements[8]*=h,As.elements[9]*=h,As.elements[10]*=h,n.setFromRotationMatrix(As),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Vs){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),h=(n+e)/(n-e),p=(r+i)/(r-i);let m,v;if(a===Vs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Dh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Vs){const l=this.elements,c=1/(n-e),u=1/(r-i),h=1/(o-s),p=(n+e)*c,m=(r+i)*u;let v,x;if(a===Vs)v=(o+s)*h,x=-2*h;else if(a===Dh)v=s*h,x=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const nd=new H,As=new St,yne=new H(0,0,0),xne=new H(1,1,1),Wa=new H,wy=new H,Oi=new H,HL=new St,WL=new Xr;class Mg{constructor(e=0,n=0,r=0,i=Mg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Wn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return HL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return WL.setFromEuler(this),this.setFromQuaternion(WL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mg.DEFAULT_ORDER="XYZ";class tu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _ne=0;const GL=new H,rd=new Xr,Yo=new St,by=new H,Vf=new H,wne=new H,bne=new Xr,$L=new H(1,0,0),XL=new H(0,1,0),qL=new H(0,0,1),Sne={type:"added"},Ene={type:"removed"};class sn extends Ca{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_ne++}),this.uuid=Xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sn.DEFAULT_UP.clone();const e=new H,n=new Mg,r=new Xr,i=new H(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Bt}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new tu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return rd.setFromAxisAngle(e,n),this.quaternion.multiply(rd),this}rotateOnWorldAxis(e,n){return rd.setFromAxisAngle(e,n),this.quaternion.premultiply(rd),this}rotateX(e){return this.rotateOnAxis($L,e)}rotateY(e){return this.rotateOnAxis(XL,e)}rotateZ(e){return this.rotateOnAxis(qL,e)}translateOnAxis(e,n){return GL.copy(e).applyQuaternion(this.quaternion),this.position.add(GL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis($L,e)}translateY(e){return this.translateOnAxis(XL,e)}translateZ(e){return this.translateOnAxis(qL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?by.copy(e):by.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Vf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yo.lookAt(Vf,by,this.up):Yo.lookAt(by,Vf,this.up),this.quaternion.setFromRotationMatrix(Yo),i&&(Yo.extractRotation(i.matrixWorld),rd.setFromRotationMatrix(Yo),this.quaternion.premultiply(rd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Sne)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ene)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vf,e,wne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vf,bne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}sn.DEFAULT_UP=new H(0,1,0);sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cs=new H,Ko=new H,HS=new H,Zo=new H,id=new H,sd=new H,YL=new H,WS=new H,GS=new H,$S=new H;let Sy=!1;class Si{constructor(e=new H,n=new H,r=new H){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Cs.subVectors(e,n),i.cross(Cs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Cs.subVectors(i,n),Ko.subVectors(r,n),HS.subVectors(e,n);const o=Cs.dot(Cs),a=Cs.dot(Ko),l=Cs.dot(HS),c=Ko.dot(Ko),u=Ko.dot(HS),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Zo)===null?!1:Zo.x>=0&&Zo.y>=0&&Zo.x+Zo.y<=1}static getUV(e,n,r,i,s,o,a,l){return Sy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Sy=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Zo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Zo.x),l.addScaledVector(o,Zo.y),l.addScaledVector(a,Zo.z),l)}static isFrontFacing(e,n,r,i){return Cs.subVectors(r,n),Ko.subVectors(e,n),Cs.cross(Ko).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cs.subVectors(this.c,this.b),Ko.subVectors(this.a,this.b),Cs.cross(Ko).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Si.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Si.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Sy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Sy=!0),Si.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Si.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Si.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Si.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;id.subVectors(i,r),sd.subVectors(s,r),WS.subVectors(e,r);const l=id.dot(WS),c=sd.dot(WS);if(l<=0&&c<=0)return n.copy(r);GS.subVectors(e,i);const u=id.dot(GS),h=sd.dot(GS);if(u>=0&&h<=u)return n.copy(i);const p=l*h-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(id,o);$S.subVectors(e,s);const m=id.dot($S),v=sd.dot($S);if(v>=0&&m<=v)return n.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(sd,a);const y=u*v-m*h;if(y<=0&&h-u>=0&&m-v>=0)return YL.subVectors(s,i),a=(h-u)/(h-u+(m-v)),n.copy(i).addScaledVector(YL,a);const g=1/(y+x+p);return o=x*g,a=p*g,n.copy(r).addScaledVector(id,o).addScaledVector(sd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Bj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ga={h:0,s:0,l:0},Ey={h:0,s:0,l:0};function XS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ke{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=cr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,un.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=un.workingColorSpace){return this.r=e,this.g=n,this.b=r,un.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=un.workingColorSpace){if(e=VC(e,1),n=Wn(n,0,1),r=Wn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=XS(o,s,e+1/3),this.g=XS(o,s,e),this.b=XS(o,s,e-1/3)}return un.toWorkingColorSpace(this,i),this}setStyle(e,n=cr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=cr){const r=Bj[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ch(e.r),this.g=ch(e.g),this.b=ch(e.b),this}copyLinearToSRGB(e){return this.r=DS(e.r),this.g=DS(e.g),this.b=DS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cr){return un.fromWorkingColorSpace(Br.copy(this),e),Math.round(Wn(Br.r*255,0,255))*65536+Math.round(Wn(Br.g*255,0,255))*256+Math.round(Wn(Br.b*255,0,255))}getHexString(e=cr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=un.workingColorSpace){un.fromWorkingColorSpace(Br.copy(this),n);const r=Br.r,i=Br.g,s=Br.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=un.workingColorSpace){return un.fromWorkingColorSpace(Br.copy(this),n),e.r=Br.r,e.g=Br.g,e.b=Br.b,e}getStyle(e=cr){un.fromWorkingColorSpace(Br.copy(this),e);const n=Br.r,r=Br.g,i=Br.b;return e!==cr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ga),this.setHSL(Ga.h+e,Ga.s+n,Ga.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ga),e.getHSL(Ey);const r=Ip(Ga.h,Ey.h,n),i=Ip(Ga.s,Ey.s,n),s=Ip(Ga.l,Ey.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Br=new Ke;Ke.NAMES=Bj;let Mne=0;class kr extends Ca{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Mne++}),this.uuid=Xi(),this.name="",this.type="Material",this.blending=Qc,this.side=ba,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Lx,this.blendDst=Ix,this.blendEquation=sl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ke(0,0,0),this.blendAlpha=0,this.depthFunc=bm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=KM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=kc,this.stencilZFail=kc,this.stencilZPass=kc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Qc&&(r.blending=this.blending),this.side!==ba&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Lx&&(r.blendSrc=this.blendSrc),this.blendDst!==Ix&&(r.blendDst=this.blendDst),this.blendEquation!==sl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==bm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==KM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==kc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==kc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==kc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ql extends kr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const oa=Tne();function Tne(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function xi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Wn(t,-65504,65504),oa.floatView[0]=t;const e=oa.uint32View[0],n=e>>23&511;return oa.baseTable[n]+((e&8388607)>>oa.shiftTable[n])}function dp(t){const e=t>>10;return oa.uint32View[0]=oa.mantissaTable[oa.offsetTable[e]+(t&1023)]+oa.exponentTable[e],oa.floatView[0]}const Ane={toHalfFloat:xi,fromHalfFloat:dp},rr=new H,My=new we;class hn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Lm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=js,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)My.fromBufferAttribute(this,n),My.applyMatrix3(e),this.setXY(n,My.x,My.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix3(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix4(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyNormalMatrix(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.transformDirection(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Mi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ot(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Mi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Mi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Mi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Mi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Lm&&(e.usage=this.usage),e}}class Cne extends hn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Pne extends hn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Rne extends hn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class kne extends hn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class GC extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Nne extends hn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class $C extends hn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Lne extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=dp(this.array[e*this.itemSize]);return this.normalized&&(n=Mi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize]=xi(n),this}getY(e){let n=dp(this.array[e*this.itemSize+1]);return this.normalized&&(n=Mi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+1]=xi(n),this}getZ(e){let n=dp(this.array[e*this.itemSize+2]);return this.normalized&&(n=Mi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+2]=xi(n),this}getW(e){let n=dp(this.array[e*this.itemSize+3]);return this.normalized&&(n=Mi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ot(n,this.array)),this.array[e*this.itemSize+3]=xi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array)),this.array[e+0]=xi(n),this.array[e+1]=xi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.array[e+0]=xi(n),this.array[e+1]=xi(r),this.array[e+2]=xi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.array[e+0]=xi(n),this.array[e+1]=xi(r),this.array[e+2]=xi(i),this.array[e+3]=xi(s),this}}class st extends hn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Ine extends hn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Dne=0;const ds=new St,qS=new sn,od=new H,Fi=new ui,Hf=new ui,xr=new H;class Ft extends Ca{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Dne++}),this.uuid=Xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Fj(e)?$C:GC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ds.makeRotationFromQuaternion(e),this.applyMatrix4(ds),this}rotateX(e){return ds.makeRotationX(e),this.applyMatrix4(ds),this}rotateY(e){return ds.makeRotationY(e),this.applyMatrix4(ds),this}rotateZ(e){return ds.makeRotationZ(e),this.applyMatrix4(ds),this}translate(e,n,r){return ds.makeTranslation(e,n,r),this.applyMatrix4(ds),this}scale(e,n,r){return ds.makeScale(e,n,r),this.applyMatrix4(ds),this}lookAt(e){return qS.lookAt(e),qS.updateMatrix(),this.applyMatrix4(qS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(od).negate(),this.translate(od.x,od.y,od.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new st(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ui);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Fi.setFromBufferAttribute(s),this.morphTargetsRelative?(xr.addVectors(this.boundingBox.min,Fi.min),this.boundingBox.expandByPoint(xr),xr.addVectors(this.boundingBox.max,Fi.max),this.boundingBox.expandByPoint(xr)):(this.boundingBox.expandByPoint(Fi.min),this.boundingBox.expandByPoint(Fi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(Fi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Hf.setFromBufferAttribute(a),this.morphTargetsRelative?(xr.addVectors(Fi.min,Hf.min),Fi.expandByPoint(xr),xr.addVectors(Fi.max,Hf.max),Fi.expandByPoint(xr)):(Fi.expandByPoint(Hf.min),Fi.expandByPoint(Hf.max))}Fi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)xr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(xr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)xr.fromBufferAttribute(a,c),l&&(od.fromBufferAttribute(e,c),xr.add(od)),i=Math.max(i,r.distanceToSquared(xr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new H,u[L]=new H;const h=new H,p=new H,m=new H,v=new we,x=new we,y=new we,g=new H,w=new H;function b(L,z,G){h.fromArray(i,L*3),p.fromArray(i,z*3),m.fromArray(i,G*3),v.fromArray(o,L*2),x.fromArray(o,z*2),y.fromArray(o,G*2),p.sub(h),m.sub(h),x.sub(v),y.sub(v);const te=1/(x.x*y.y-y.x*x.y);isFinite(te)&&(g.copy(p).multiplyScalar(y.y).addScaledVector(m,-x.y).multiplyScalar(te),w.copy(m).multiplyScalar(x.x).addScaledVector(p,-y.x).multiplyScalar(te),c[L].add(g),c[z].add(g),c[G].add(g),u[L].add(w),u[z].add(w),u[G].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let L=0,z=M.length;L<z;++L){const G=M[L],te=G.start,B=G.count;for(let Z=te,J=te+B;Z<J;Z+=3)b(r[Z+0],r[Z+1],r[Z+2])}const C=new H,P=new H,R=new H,O=new H;function k(L){R.fromArray(s,L*3),O.copy(R);const z=c[L];C.copy(z),C.sub(R.multiplyScalar(R.dot(z))).normalize(),P.crossVectors(O,z);const te=P.dot(u[L])<0?-1:1;l[L*4]=C.x,l[L*4+1]=C.y,l[L*4+2]=C.z,l[L*4+3]=te}for(let L=0,z=M.length;L<z;++L){const G=M[L],te=G.start,B=G.count;for(let Z=te,J=te+B;Z<J;Z+=3)k(r[Z+0]),k(r[Z+1]),k(r[Z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new hn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new H,s=new H,o=new H,a=new H,l=new H,c=new H,u=new H,h=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)xr.fromBufferAttribute(e,n),xr.normalize(),e.setXYZ(n,xr.x,xr.y,xr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new hn(p,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ft,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const p=c[u],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let p=0,m=h.length;p<m;p++)u.push(h[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KL=new St,gc=new Mu,Ty=new qr,ZL=new H,ad=new H,ld=new H,cd=new H,YS=new H,Ay=new H,Cy=new we,Py=new we,Ry=new we,JL=new H,QL=new H,eI=new H,ky=new H,Ny=new H;class dr extends sn{constructor(e=new Ft,n=new Ql){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Ay.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(YS.fromBufferAttribute(h,e),o?Ay.addScaledVector(YS,u):Ay.addScaledVector(YS.sub(n),u))}n.add(Ay)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ty.copy(r.boundingSphere),Ty.applyMatrix4(s),gc.copy(e.ray).recast(e.near),!(Ty.containsPoint(gc.origin)===!1&&(gc.intersectSphere(Ty,ZL)===null||gc.origin.distanceToSquared(ZL)>(e.far-e.near)**2))&&(KL.copy(s).invert(),gc.copy(e.ray).applyMatrix4(KL),!(r.boundingBox!==null&&gc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,gc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],w=Math.max(y.start,m.start),b=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=w,C=b;M<C;M+=3){const P=a.getX(M),R=a.getX(M+1),O=a.getX(M+2);i=Ly(this,g,e,r,c,u,h,P,R,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const w=a.getX(y),b=a.getX(y+1),M=a.getX(y+2);i=Ly(this,o,e,r,c,u,h,w,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],w=Math.max(y.start,m.start),b=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=w,C=b;M<C;M+=3){const P=M,R=M+1,O=M+2;i=Ly(this,g,e,r,c,u,h,P,R,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const w=y,b=y+1,M=y+2;i=Ly(this,o,e,r,c,u,h,w,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function One(t,e,n,r,i,s,o,a){let l;if(e.side===ci?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ba,a),l===null)return null;Ny.copy(a),Ny.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Ny);return c<n.near||c>n.far?null:{distance:c,point:Ny.clone(),object:t}}function Ly(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,ad),t.getVertexPosition(l,ld),t.getVertexPosition(c,cd);const u=One(t,e,n,r,ad,ld,cd,ky);if(u){i&&(Cy.fromBufferAttribute(i,a),Py.fromBufferAttribute(i,l),Ry.fromBufferAttribute(i,c),u.uv=Si.getInterpolation(ky,ad,ld,cd,Cy,Py,Ry,new we)),s&&(Cy.fromBufferAttribute(s,a),Py.fromBufferAttribute(s,l),Ry.fromBufferAttribute(s,c),u.uv1=Si.getInterpolation(ky,ad,ld,cd,Cy,Py,Ry,new we),u.uv2=u.uv1),o&&(JL.fromBufferAttribute(o,a),QL.fromBufferAttribute(o,l),eI.fromBufferAttribute(o,c),u.normal=Si.getInterpolation(ky,ad,ld,cd,JL,QL,eI,new H),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new H,materialIndex:0};Si.getNormal(ad,ld,cd,h.normal),u.face=h}return u}class Tu extends Ft{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new st(c,3)),this.setAttribute("normal",new st(u,3)),this.setAttribute("uv",new st(h,2));function v(x,y,g,w,b,M,C,P,R,O,k){const L=M/R,z=C/O,G=M/2,te=C/2,B=P/2,Z=R+1,J=O+1;let ne=0,F=0;const j=new H;for(let U=0;U<J;U++){const $=U*z-te;for(let re=0;re<Z;re++){const Y=re*L-G;j[x]=Y*w,j[y]=$*b,j[g]=B,c.push(j.x,j.y,j.z),j[x]=0,j[y]=0,j[g]=P>0?1:-1,u.push(j.x,j.y,j.z),h.push(re/R),h.push(1-U/O),ne+=1}}for(let U=0;U<O;U++)for(let $=0;$<R;$++){const re=p+$+Z*U,Y=p+$+Z*(U+1),ue=p+($+1)+Z*(U+1),Me=p+($+1)+Z*U;l.push(re,Y,Me),l.push(Y,ue,Me),F+=6}a.addGroup(m,F,k),m+=F,p+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ei(t){const e={};for(let n=0;n<t.length;n++){const r=Fh(t[n]);for(const i in r)e[i]=r[i]}return e}function Fne(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function jj(t){return t.getRenderTarget()===null?t.outputColorSpace:un.workingColorSpace}const XC={clone:Fh,merge:ei};var Une=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,zne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zs extends kr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Une,this.fragmentShader=zne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fh(e.uniforms),this.uniformsGroups=Fne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Tg extends sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Vs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Gn extends Tg{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Oh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(eu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Oh*2*Math.atan(Math.tan(eu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(eu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ud=-90,dd=1;class Vj extends sn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Gn(ud,dd,e,n);i.layers=this.layers,this.add(i);const s=new Gn(ud,dd,e,n);s.layers=this.layers,this.add(s);const o=new Gn(ud,dd,e,n);o.layers=this.layers,this.add(o);const a=new Gn(ud,dd,e,n);a.layers=this.layers,this.add(a);const l=new Gn(ud,dd,e,n);l.layers=this.layers,this.add(l);const c=new Gn(ud,dd,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Vs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Dh)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(h,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Ag extends $n{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Sa,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Hj extends Ks{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Dp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Cl?cr:Hi),this.texture=new Ag(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Qn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Tu(5,5,5),s=new Zs({name:"CubemapFromEquirect",uniforms:Fh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ci,blending:fa});s.uniforms.tEquirect.value=n;const o=new dr(i,s),a=n.minFilter;return n.minFilter===Bl&&(n.minFilter=Qn),new Vj(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const KS=new H,Bne=new H,jne=new Bt;class sa{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=KS.subVectors(r,n).cross(Bne.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(KS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||jne.getNormalMatrix(e),i=this.coplanarPoint(KS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vc=new qr,Iy=new H;class Cg{constructor(e=new sa,n=new sa,r=new sa,i=new sa,s=new sa,o=new sa){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Vs){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],p=i[7],m=i[8],v=i[9],x=i[10],y=i[11],g=i[12],w=i[13],b=i[14],M=i[15];if(r[0].setComponents(l-s,p-c,y-m,M-g).normalize(),r[1].setComponents(l+s,p+c,y+m,M+g).normalize(),r[2].setComponents(l+o,p+u,y+v,M+w).normalize(),r[3].setComponents(l-o,p-u,y-v,M-w).normalize(),r[4].setComponents(l-a,p-h,y-x,M-b).normalize(),n===Vs)r[5].setComponents(l+a,p+h,y+x,M+b).normalize();else if(n===Dh)r[5].setComponents(a,h,x,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),vc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vc)}intersectsSprite(e){return vc.center.set(0,0,0),vc.radius=.7071067811865476,vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Iy.x=i.normal.x>0?e.max.x:e.min.x,Iy.y=i.normal.y>0?e.max.y:e.min.y,Iy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Iy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Wj(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Vne(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,p=c.usage,m=h.byteLength,v=t.createBuffer();t.bindBuffer(u,v),t.bufferData(u,h,p),c.onUploadCallback();let x;if(h instanceof Float32Array)x=t.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)x=t.SHORT;else if(h instanceof Uint32Array)x=t.UNSIGNED_INT;else if(h instanceof Int32Array)x=t.INT;else if(h instanceof Int8Array)x=t.BYTE;else if(h instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:x,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,h){const p=u.array,m=u._updateRange,v=u.updateRanges;if(t.bindBuffer(h,c),m.count===-1&&v.length===0&&t.bufferSubData(h,0,p),v.length!==0){for(let x=0,y=v.length;x<y;x++){const g=v[x];n?t.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):t.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);if(h===void 0)r.set(c,i(c,u));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(h.buffer,c,u),h.version=c.version}}return{get:o,remove:a,update:l}}class Pg extends Ft{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,p=n/l,m=[],v=[],x=[],y=[];for(let g=0;g<u;g++){const w=g*p-o;for(let b=0;b<c;b++){const M=b*h-s;v.push(M,-w,0),x.push(0,0,1),y.push(b/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const b=w+c*g,M=w+c*(g+1),C=w+1+c*(g+1),P=w+1+c*g;m.push(b,M,P),m.push(M,C,P)}this.setIndex(m),this.setAttribute("position",new st(v,3)),this.setAttribute("normal",new st(x,3)),this.setAttribute("uv",new st(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pg(e.width,e.height,e.widthSegments,e.heightSegments)}}var Hne=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Wne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Gne=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$ne=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xne=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,qne=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yne=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kne=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Zne=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Jne=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Qne=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ere=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tre=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ire=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ore=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,are=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lre=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ure=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dre=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,hre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gre=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,vre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yre=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xre="gl_FragColor = linearToOutputTexel( gl_FragColor );",_re=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,wre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bre=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Sre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Ere=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Mre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Tre=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Are=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Cre=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Pre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kre=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Nre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Lre=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Ire=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Dre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ore=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Fre=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ure=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zre=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Bre=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jre=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Vre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Hre=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Wre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$re=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xre=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Yre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Kre=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Zre=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Jre=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qre=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eie=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tie=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nie=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rie=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,iie=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sie=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,oie=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aie=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cie=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uie=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,die=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,hie=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fie=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pie=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mie=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gie=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vie=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yie=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xie=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_ie=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wie=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bie=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Sie=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Eie=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Mie=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Tie=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Aie=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Cie=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Pie=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rie=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kie=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Nie=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Lie=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Iie=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Die=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Oie=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Fie=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Uie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bie=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,jie=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Vie=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Hie=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gie=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xie=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qie=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yie=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Kie=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zie=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Jie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qie=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ese=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tse=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nse=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rse=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ise=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sse=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ose=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ase=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lse=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cse=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,use=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hse=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fse=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pse=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mse=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,vse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yse=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_se=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,It={alphahash_fragment:Hne,alphahash_pars_fragment:Wne,alphamap_fragment:Gne,alphamap_pars_fragment:$ne,alphatest_fragment:Xne,alphatest_pars_fragment:qne,aomap_fragment:Yne,aomap_pars_fragment:Kne,batching_pars_vertex:Zne,batching_vertex:Jne,begin_vertex:Qne,beginnormal_vertex:ere,bsdfs:tre,iridescence_fragment:nre,bumpmap_pars_fragment:rre,clipping_planes_fragment:ire,clipping_planes_pars_fragment:sre,clipping_planes_pars_vertex:ore,clipping_planes_vertex:are,color_fragment:lre,color_pars_fragment:cre,color_pars_vertex:ure,color_vertex:dre,common:hre,cube_uv_reflection_fragment:fre,defaultnormal_vertex:pre,displacementmap_pars_vertex:mre,displacementmap_vertex:gre,emissivemap_fragment:vre,emissivemap_pars_fragment:yre,colorspace_fragment:xre,colorspace_pars_fragment:_re,envmap_fragment:wre,envmap_common_pars_fragment:bre,envmap_pars_fragment:Sre,envmap_pars_vertex:Ere,envmap_physical_pars_fragment:Ore,envmap_vertex:Mre,fog_vertex:Tre,fog_pars_vertex:Are,fog_fragment:Cre,fog_pars_fragment:Pre,gradientmap_pars_fragment:Rre,lightmap_fragment:kre,lightmap_pars_fragment:Nre,lights_lambert_fragment:Lre,lights_lambert_pars_fragment:Ire,lights_pars_begin:Dre,lights_toon_fragment:Fre,lights_toon_pars_fragment:Ure,lights_phong_fragment:zre,lights_phong_pars_fragment:Bre,lights_physical_fragment:jre,lights_physical_pars_fragment:Vre,lights_fragment_begin:Hre,lights_fragment_maps:Wre,lights_fragment_end:Gre,logdepthbuf_fragment:$re,logdepthbuf_pars_fragment:Xre,logdepthbuf_pars_vertex:qre,logdepthbuf_vertex:Yre,map_fragment:Kre,map_pars_fragment:Zre,map_particle_fragment:Jre,map_particle_pars_fragment:Qre,metalnessmap_fragment:eie,metalnessmap_pars_fragment:tie,morphcolor_vertex:nie,morphnormal_vertex:rie,morphtarget_pars_vertex:iie,morphtarget_vertex:sie,normal_fragment_begin:oie,normal_fragment_maps:aie,normal_pars_fragment:lie,normal_pars_vertex:cie,normal_vertex:uie,normalmap_pars_fragment:die,clearcoat_normal_fragment_begin:hie,clearcoat_normal_fragment_maps:fie,clearcoat_pars_fragment:pie,iridescence_pars_fragment:mie,opaque_fragment:gie,packing:vie,premultiplied_alpha_fragment:yie,project_vertex:xie,dithering_fragment:_ie,dithering_pars_fragment:wie,roughnessmap_fragment:bie,roughnessmap_pars_fragment:Sie,shadowmap_pars_fragment:Eie,shadowmap_pars_vertex:Mie,shadowmap_vertex:Tie,shadowmask_pars_fragment:Aie,skinbase_vertex:Cie,skinning_pars_vertex:Pie,skinning_vertex:Rie,skinnormal_vertex:kie,specularmap_fragment:Nie,specularmap_pars_fragment:Lie,tonemapping_fragment:Iie,tonemapping_pars_fragment:Die,transmission_fragment:Oie,transmission_pars_fragment:Fie,uv_pars_fragment:Uie,uv_pars_vertex:zie,uv_vertex:Bie,worldpos_vertex:jie,background_vert:Vie,background_frag:Hie,backgroundCube_vert:Wie,backgroundCube_frag:Gie,cube_vert:$ie,cube_frag:Xie,depth_vert:qie,depth_frag:Yie,distanceRGBA_vert:Kie,distanceRGBA_frag:Zie,equirect_vert:Jie,equirect_frag:Qie,linedashed_vert:ese,linedashed_frag:tse,meshbasic_vert:nse,meshbasic_frag:rse,meshlambert_vert:ise,meshlambert_frag:sse,meshmatcap_vert:ose,meshmatcap_frag:ase,meshnormal_vert:lse,meshnormal_frag:cse,meshphong_vert:use,meshphong_frag:dse,meshphysical_vert:hse,meshphysical_frag:fse,meshtoon_vert:pse,meshtoon_frag:mse,points_vert:gse,points_frag:vse,shadow_vert:yse,shadow_frag:xse,sprite_vert:_se,sprite_frag:wse},Ge={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}}},zs={basic:{uniforms:ei([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:It.meshbasic_vert,fragmentShader:It.meshbasic_frag},lambert:{uniforms:ei([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)}}]),vertexShader:It.meshlambert_vert,fragmentShader:It.meshlambert_frag},phong:{uniforms:ei([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:It.meshphong_vert,fragmentShader:It.meshphong_frag},standard:{uniforms:ei([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag},toon:{uniforms:ei([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)}}]),vertexShader:It.meshtoon_vert,fragmentShader:It.meshtoon_frag},matcap:{uniforms:ei([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:It.meshmatcap_vert,fragmentShader:It.meshmatcap_frag},points:{uniforms:ei([Ge.points,Ge.fog]),vertexShader:It.points_vert,fragmentShader:It.points_frag},dashed:{uniforms:ei([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:It.linedashed_vert,fragmentShader:It.linedashed_frag},depth:{uniforms:ei([Ge.common,Ge.displacementmap]),vertexShader:It.depth_vert,fragmentShader:It.depth_frag},normal:{uniforms:ei([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:It.meshnormal_vert,fragmentShader:It.meshnormal_frag},sprite:{uniforms:ei([Ge.sprite,Ge.fog]),vertexShader:It.sprite_vert,fragmentShader:It.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:It.background_vert,fragmentShader:It.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:It.backgroundCube_vert,fragmentShader:It.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:It.cube_vert,fragmentShader:It.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:It.equirect_vert,fragmentShader:It.equirect_frag},distanceRGBA:{uniforms:ei([Ge.common,Ge.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:It.distanceRGBA_vert,fragmentShader:It.distanceRGBA_frag},shadow:{uniforms:ei([Ge.lights,Ge.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:It.shadow_vert,fragmentShader:It.shadow_frag}};zs.physical={uniforms:ei([zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new we(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new we},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt},anisotropyVector:{value:new we},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bt}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag};const Dy={r:0,b:0,g:0};function bse(t,e,n,r,i,s,o){const a=new Ke(0);let l=s===!0?0:1,c,u,h=null,p=0,m=null;function v(y,g){let w=!1,b=g.isScene===!0?g.background:null;b&&b.isTexture&&(b=(g.backgroundBlurriness>0?n:e).get(b)),b===null?x(a,l):b&&b.isColor&&(x(b,1),w=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===ef)?(u===void 0&&(u=new dr(new Tu(1,1,1),new Zs({name:"BackgroundCubeMaterial",uniforms:Fh(zs.backgroundCube.uniforms),vertexShader:zs.backgroundCube.vertexShader,fragmentShader:zs.backgroundCube.fragmentShader,side:ci,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=un.getTransfer(b.colorSpace)!==gn,(h!==b||p!==b.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new dr(new Pg(2,2),new Zs({name:"BackgroundMaterial",uniforms:Fh(zs.background.uniforms),vertexShader:zs.background.vertexShader,fragmentShader:zs.background.fragmentShader,side:ba,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=un.getTransfer(b.colorSpace)!==gn,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=b,p=b.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function x(y,g){y.getRGB(Dy,jj(t)),r.buffers.color.setClear(Dy.r,Dy.g,Dy.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(y,g=1){a.set(y),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:v}}function Sse(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function h(B,Z,J,ne,F){let j=!1;if(o){const U=x(ne,J,Z);c!==U&&(c=U,m(c.object)),j=g(B,ne,J,F),j&&w(B,ne,J,F)}else{const U=Z.wireframe===!0;(c.geometry!==ne.id||c.program!==J.id||c.wireframe!==U)&&(c.geometry=ne.id,c.program=J.id,c.wireframe=U,j=!0)}F!==null&&n.update(F,t.ELEMENT_ARRAY_BUFFER),(j||u)&&(u=!1,O(B,Z,J,ne),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(F).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(B){return r.isWebGL2?t.bindVertexArray(B):s.bindVertexArrayOES(B)}function v(B){return r.isWebGL2?t.deleteVertexArray(B):s.deleteVertexArrayOES(B)}function x(B,Z,J){const ne=J.wireframe===!0;let F=a[B.id];F===void 0&&(F={},a[B.id]=F);let j=F[Z.id];j===void 0&&(j={},F[Z.id]=j);let U=j[ne];return U===void 0&&(U=y(p()),j[ne]=U),U}function y(B){const Z=[],J=[],ne=[];for(let F=0;F<i;F++)Z[F]=0,J[F]=0,ne[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Z,enabledAttributes:J,attributeDivisors:ne,object:B,attributes:{},index:null}}function g(B,Z,J,ne){const F=c.attributes,j=Z.attributes;let U=0;const $=J.getAttributes();for(const re in $)if($[re].location>=0){const ue=F[re];let Me=j[re];if(Me===void 0&&(re==="instanceMatrix"&&B.instanceMatrix&&(Me=B.instanceMatrix),re==="instanceColor"&&B.instanceColor&&(Me=B.instanceColor)),ue===void 0||ue.attribute!==Me||Me&&ue.data!==Me.data)return!0;U++}return c.attributesNum!==U||c.index!==ne}function w(B,Z,J,ne){const F={},j=Z.attributes;let U=0;const $=J.getAttributes();for(const re in $)if($[re].location>=0){let ue=j[re];ue===void 0&&(re==="instanceMatrix"&&B.instanceMatrix&&(ue=B.instanceMatrix),re==="instanceColor"&&B.instanceColor&&(ue=B.instanceColor));const Me={};Me.attribute=ue,ue&&ue.data&&(Me.data=ue.data),F[re]=Me,U++}c.attributes=F,c.attributesNum=U,c.index=ne}function b(){const B=c.newAttributes;for(let Z=0,J=B.length;Z<J;Z++)B[Z]=0}function M(B){C(B,0)}function C(B,Z){const J=c.newAttributes,ne=c.enabledAttributes,F=c.attributeDivisors;J[B]=1,ne[B]===0&&(t.enableVertexAttribArray(B),ne[B]=1),F[B]!==Z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,Z),F[B]=Z)}function P(){const B=c.newAttributes,Z=c.enabledAttributes;for(let J=0,ne=Z.length;J<ne;J++)Z[J]!==B[J]&&(t.disableVertexAttribArray(J),Z[J]=0)}function R(B,Z,J,ne,F,j,U){U===!0?t.vertexAttribIPointer(B,Z,J,F,j):t.vertexAttribPointer(B,Z,J,ne,F,j)}function O(B,Z,J,ne){if(r.isWebGL2===!1&&(B.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const F=ne.attributes,j=J.getAttributes(),U=Z.defaultAttributeValues;for(const $ in j){const re=j[$];if(re.location>=0){let Y=F[$];if(Y===void 0&&($==="instanceMatrix"&&B.instanceMatrix&&(Y=B.instanceMatrix),$==="instanceColor"&&B.instanceColor&&(Y=B.instanceColor)),Y!==void 0){const ue=Y.normalized,Me=Y.itemSize,be=n.get(Y);if(be===void 0)continue;const Se=be.buffer,Le=be.type,je=be.bytesPerElement,xe=r.isWebGL2===!0&&(Le===t.INT||Le===t.UNSIGNED_INT||Y.gpuType===NC);if(Y.isInterleavedBufferAttribute){const ze=Y.data,q=ze.stride,Ee=Y.offset;if(ze.isInstancedInterleavedBuffer){for(let ge=0;ge<re.locationSize;ge++)C(re.location+ge,ze.meshPerAttribute);B.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let ge=0;ge<re.locationSize;ge++)M(re.location+ge);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let ge=0;ge<re.locationSize;ge++)R(re.location+ge,Me/re.locationSize,Le,ue,q*je,(Ee+Me/re.locationSize*ge)*je,xe)}else{if(Y.isInstancedBufferAttribute){for(let ze=0;ze<re.locationSize;ze++)C(re.location+ze,Y.meshPerAttribute);B.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let ze=0;ze<re.locationSize;ze++)M(re.location+ze);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let ze=0;ze<re.locationSize;ze++)R(re.location+ze,Me/re.locationSize,Le,ue,Me*je,Me/re.locationSize*ze*je,xe)}}else if(U!==void 0){const ue=U[$];if(ue!==void 0)switch(ue.length){case 2:t.vertexAttrib2fv(re.location,ue);break;case 3:t.vertexAttrib3fv(re.location,ue);break;case 4:t.vertexAttrib4fv(re.location,ue);break;default:t.vertexAttrib1fv(re.location,ue)}}}}P()}function k(){G();for(const B in a){const Z=a[B];for(const J in Z){const ne=Z[J];for(const F in ne)v(ne[F].object),delete ne[F];delete Z[J]}delete a[B]}}function L(B){if(a[B.id]===void 0)return;const Z=a[B.id];for(const J in Z){const ne=Z[J];for(const F in ne)v(ne[F].object),delete ne[F];delete Z[J]}delete a[B.id]}function z(B){for(const Z in a){const J=a[Z];if(J[B.id]===void 0)continue;const ne=J[B.id];for(const F in ne)v(ne[F].object),delete ne[F];delete J[B.id]}}function G(){te(),u=!0,c!==l&&(c=l,m(c.object))}function te(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:G,resetDefaultState:te,dispose:k,releaseStatesOfGeometry:L,releaseStatesOfProgram:z,initAttributes:b,enableAttribute:M,disableUnusedAttributes:P}}function Ese(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){t.drawArrays(s,u,h),n.update(h,s,1)}function l(u,h,p){if(p===0)return;let m,v;if(i)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,u,h,p),n.update(h,s,p)}function c(u,h,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(u[v],h[v]);else{m.multiDrawArraysWEBGL(s,u,0,h,0,p);let v=0;for(let x=0;x<p;x++)v+=h[x];n.update(v,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function Mse(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=p>0,M=o||e.has("OES_texture_float"),C=b&&M,P=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:x,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:P}}function Tse(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new sa,a=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||r!==0||i;return i=p,r=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=u(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,x=h.clipIntersection,y=h.clipShadows,g=t.get(h);if(!i||v===null||v.length===0||s&&!y)s?u(null):c();else{const w=s?0:r,b=w*4;let M=g.clippingState||null;l.value=M,M=u(v,p,b,m);for(let C=0;C!==b;++C)M[C]=n[C];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,p,m,v){const x=h!==null?h.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,M=m;b!==x;++b,M+=4)o.copy(h[b]).applyMatrix4(w,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function Ase(t){let e=new WeakMap;function n(o,a){return a===Sm?o.mapping=Sa:a===Em&&(o.mapping=zl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Sm||a===Em)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Hj(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Pl extends Tg{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Xd=4,tI=[.125,.215,.35,.446,.526,.582],Ic=20,ZS=new Pl,nI=new Ke;let JS=null,QS=0,e1=0;const Nc=(1+Math.sqrt(5))/2,hd=1/Nc,rI=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Nc,hd),new H(0,Nc,-hd),new H(hd,0,Nc),new H(-hd,0,Nc),new H(Nc,hd,0),new H(-Nc,hd,0)];class QM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){JS=this._renderer.getRenderTarget(),QS=this._renderer.getActiveCubeFace(),e1=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=oI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(JS,QS,e1),e.scissorTest=!1,Oy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Sa||e.mapping===zl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),JS=this._renderer.getRenderTarget(),QS=this._renderer.getActiveCubeFace(),e1=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Qn,minFilter:Qn,generateMipmaps:!1,type:Ih,format:oi,colorSpace:Io,depthBuffer:!1},i=iI(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iI(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Cse(s)),this._blurMaterial=Pse(s,e,n)}return i}_compileMaterial(e){const n=new dr(this._lodPlanes[0],e);this._renderer.compile(n,ZS)}_sceneToCubeUV(e,n,r,i){const a=new Gn(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,p=u.toneMapping;u.getClearColor(nI),u.toneMapping=Po,u.autoClear=!1;const m=new Ql({name:"PMREM.Background",side:ci,depthWrite:!1,depthTest:!1}),v=new dr(new Tu,m);let x=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,x=!0):(m.color.copy(nI),x=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):w===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;Oy(i,w*b,g>2?b:0,b,b),u.setRenderTarget(i),x&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=h,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Sa||e.mapping===zl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=oI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sI());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new dr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Oy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,ZS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=rI[(i-1)%rI.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new dr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ic-1),x=s/v,y=isFinite(s)?1+Math.floor(u*x):Ic;y>Ic&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ic}`);const g=[];let w=0;for(let R=0;R<Ic;++R){const O=R/x,k=Math.exp(-O*O/2);g.push(k),R===0?w+=k:R<y&&(w+=2*k)}for(let R=0;R<g.length;R++)g[R]=g[R]/w;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-r;const M=this._sizeLods[i],C=3*M*(i>b-Xd?i-b+Xd:0),P=4*(this._cubeSize-M);Oy(n,C,P,3*M,2*M),l.setRenderTarget(n),l.render(h,ZS)}}function Cse(t){const e=[],n=[],r=[];let i=t;const s=t-Xd+1+tI.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Xd?l=tI[o-t+Xd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,p=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,v=6,x=3,y=2,g=1,w=new Float32Array(x*v*m),b=new Float32Array(y*v*m),M=new Float32Array(g*v*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,O=P>2?0:-1,k=[R,O,0,R+2/3,O,0,R+2/3,O+1,0,R,O,0,R+2/3,O+1,0,R,O+1,0];w.set(k,x*v*P),b.set(p,y*v*P);const L=[P,P,P,P,P,P];M.set(L,g*v*P)}const C=new Ft;C.setAttribute("position",new hn(w,x)),C.setAttribute("uv",new hn(b,y)),C.setAttribute("faceIndex",new hn(M,g)),e.push(C),i>Xd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function iI(t,e,n){const r=new Ks(t,e,n);return r.texture.mapping=ef,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Oy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Pse(t,e,n){const r=new Float32Array(Ic),i=new H(0,1,0);return new Zs({name:"SphericalGaussianBlur",defines:{n:Ic,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:qC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function sI(){return new Zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:qC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function oI(){return new Zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:qC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fa,depthTest:!1,depthWrite:!1})}function qC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Rse(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Sm||l===Em,u=l===Sa||l===zl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new QM(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){n===null&&(n=new QM(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function kse(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Nse(t,e,n,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const x=p.morphAttributes[v];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const v in m){const x=m[v];for(let y=0,g=x.length;y<g;y++)e.update(x[y],t.ARRAY_BUFFER)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let b=0,M=w.length;b<M;b+=3){const C=w[b+0],P=w[b+1],R=w[b+2];p.push(C,P,P,R,R,C)}}else if(v!==void 0){const w=v.array;x=v.version;for(let b=0,M=w.length/3-1;b<M;b+=3){const C=b+0,P=b+1,R=b+2;p.push(C,P,P,R,R,C)}}else return;const y=new(Fj(p)?$C:GC)(p,1);y.version=x;const g=s.get(h);g&&e.remove(g),s.set(h,y)}function u(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Lse(t,e,n,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,v){t.drawElements(s,v,a,m*l),n.update(v,s,1)}function h(m,v,x){if(x===0)return;let y,g;if(i)y=t,g="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[g](s,v,a,m*l,x),n.update(v,s,x)}function p(m,v,x){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<x;g++)this.render(m[g]/l,v[g]);else{y.multiDrawElementsWEBGL(s,v,0,a,m,0,x);let g=0;for(let w=0;w<x;w++)g+=v[w];n.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h,this.renderMultiDraw=p}function Ise(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Dse(t,e){return t[0]-e[0]}function Ose(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Fse(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new cn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let x=s.get(u);if(x===void 0||x.count!==v){let B=function(){G.dispose(),s.delete(u),u.removeEventListener("dispose",B)};x!==void 0&&x.texture.dispose();const w=u.morphAttributes.position!==void 0,b=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let O=0;w===!0&&(O=1),b===!0&&(O=2),M===!0&&(O=3);let k=u.attributes.position.count*O,L=1;k>e.maxTextureSize&&(L=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const z=new Float32Array(k*L*4*v),G=new H_(z,k,L,v);G.type=js,G.needsUpdate=!0;const te=O*4;for(let Z=0;Z<v;Z++){const J=C[Z],ne=P[Z],F=R[Z],j=k*L*4*Z;for(let U=0;U<J.count;U++){const $=U*te;w===!0&&(o.fromBufferAttribute(J,U),z[j+$+0]=o.x,z[j+$+1]=o.y,z[j+$+2]=o.z,z[j+$+3]=0),b===!0&&(o.fromBufferAttribute(ne,U),z[j+$+4]=o.x,z[j+$+5]=o.y,z[j+$+6]=o.z,z[j+$+7]=0),M===!0&&(o.fromBufferAttribute(F,U),z[j+$+8]=o.x,z[j+$+9]=o.y,z[j+$+10]=o.z,z[j+$+11]=F.itemSize===4?o.w:1)}}x={count:v,texture:G,size:new we(k,L)},s.set(u,x),u.addEventListener("dispose",B)}let y=0;for(let w=0;w<p.length;w++)y+=p[w];const g=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(t,"morphTargetBaseInfluence",g),h.getUniforms().setValue(t,"morphTargetInfluences",p),h.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const m=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==m){v=[];for(let b=0;b<m;b++)v[b]=[b,0];r[u.id]=v}for(let b=0;b<m;b++){const M=v[b];M[0]=b,M[1]=p[b]}v.sort(Ose);for(let b=0;b<8;b++)b<m&&v[b][1]?(a[b][0]=v[b][0],a[b][1]=v[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(Dse);const x=u.morphAttributes.position,y=u.morphAttributes.normal;let g=0;for(let b=0;b<8;b++){const M=a[b],C=M[0],P=M[1];C!==Number.MAX_SAFE_INTEGER&&P?(x&&u.getAttribute("morphTarget"+b)!==x[C]&&u.setAttribute("morphTarget"+b,x[C]),y&&u.getAttribute("morphNormal"+b)!==y[C]&&u.setAttribute("morphNormal"+b,y[C]),i[b]=P,g+=P):(x&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),y&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}const w=u.morphTargetsRelative?1:1-g;h.getUniforms().setValue(t,"morphTargetBaseInfluence",w),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Use(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class YC extends $n{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Al,u!==Al&&u!==du)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Al&&(r=ca),r===void 0&&u===du&&(r=Tl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Zn,this.minFilter=l!==void 0?l:Zn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Gj=new $n,$j=new YC(1,1);$j.compareFunction=jC;const Xj=new H_,qj=new WC,Yj=new Ag,aI=[],lI=[],cI=new Float32Array(16),uI=new Float32Array(9),dI=new Float32Array(4);function tf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=aI[i];if(s===void 0&&(s=new Float32Array(i),aI[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function hr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function fr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function W_(t,e){let n=lI[e];n===void 0&&(n=new Int32Array(e),lI[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function zse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Bse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hr(n,e))return;t.uniform2fv(this.addr,e),fr(n,e)}}function jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(hr(n,e))return;t.uniform3fv(this.addr,e),fr(n,e)}}function Vse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hr(n,e))return;t.uniform4fv(this.addr,e),fr(n,e)}}function Hse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),fr(n,e)}else{if(hr(n,r))return;dI.set(r),t.uniformMatrix2fv(this.addr,!1,dI),fr(n,r)}}function Wse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),fr(n,e)}else{if(hr(n,r))return;uI.set(r),t.uniformMatrix3fv(this.addr,!1,uI),fr(n,r)}}function Gse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(hr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),fr(n,e)}else{if(hr(n,r))return;cI.set(r),t.uniformMatrix4fv(this.addr,!1,cI),fr(n,r)}}function $se(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Xse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hr(n,e))return;t.uniform2iv(this.addr,e),fr(n,e)}}function qse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(hr(n,e))return;t.uniform3iv(this.addr,e),fr(n,e)}}function Yse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hr(n,e))return;t.uniform4iv(this.addr,e),fr(n,e)}}function Kse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Zse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(hr(n,e))return;t.uniform2uiv(this.addr,e),fr(n,e)}}function Jse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(hr(n,e))return;t.uniform3uiv(this.addr,e),fr(n,e)}}function Qse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(hr(n,e))return;t.uniform4uiv(this.addr,e),fr(n,e)}}function eoe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?$j:Gj;n.setTexture2D(e||s,i)}function toe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||qj,i)}function noe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Yj,i)}function roe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Xj,i)}function ioe(t){switch(t){case 5126:return zse;case 35664:return Bse;case 35665:return jse;case 35666:return Vse;case 35674:return Hse;case 35675:return Wse;case 35676:return Gse;case 5124:case 35670:return $se;case 35667:case 35671:return Xse;case 35668:case 35672:return qse;case 35669:case 35673:return Yse;case 5125:return Kse;case 36294:return Zse;case 36295:return Jse;case 36296:return Qse;case 35678:case 36198:case 36298:case 36306:case 35682:return eoe;case 35679:case 36299:case 36307:return toe;case 35680:case 36300:case 36308:case 36293:return noe;case 36289:case 36303:case 36311:case 36292:return roe}}function soe(t,e){t.uniform1fv(this.addr,e)}function ooe(t,e){const n=tf(e,this.size,2);t.uniform2fv(this.addr,n)}function aoe(t,e){const n=tf(e,this.size,3);t.uniform3fv(this.addr,n)}function loe(t,e){const n=tf(e,this.size,4);t.uniform4fv(this.addr,n)}function coe(t,e){const n=tf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function uoe(t,e){const n=tf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function doe(t,e){const n=tf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function hoe(t,e){t.uniform1iv(this.addr,e)}function foe(t,e){t.uniform2iv(this.addr,e)}function poe(t,e){t.uniform3iv(this.addr,e)}function moe(t,e){t.uniform4iv(this.addr,e)}function goe(t,e){t.uniform1uiv(this.addr,e)}function voe(t,e){t.uniform2uiv(this.addr,e)}function yoe(t,e){t.uniform3uiv(this.addr,e)}function xoe(t,e){t.uniform4uiv(this.addr,e)}function _oe(t,e,n){const r=this.cache,i=e.length,s=W_(n,i);hr(r,s)||(t.uniform1iv(this.addr,s),fr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||Gj,s[o])}function woe(t,e,n){const r=this.cache,i=e.length,s=W_(n,i);hr(r,s)||(t.uniform1iv(this.addr,s),fr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||qj,s[o])}function boe(t,e,n){const r=this.cache,i=e.length,s=W_(n,i);hr(r,s)||(t.uniform1iv(this.addr,s),fr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Yj,s[o])}function Soe(t,e,n){const r=this.cache,i=e.length,s=W_(n,i);hr(r,s)||(t.uniform1iv(this.addr,s),fr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Xj,s[o])}function Eoe(t){switch(t){case 5126:return soe;case 35664:return ooe;case 35665:return aoe;case 35666:return loe;case 35674:return coe;case 35675:return uoe;case 35676:return doe;case 5124:case 35670:return hoe;case 35667:case 35671:return foe;case 35668:case 35672:return poe;case 35669:case 35673:return moe;case 5125:return goe;case 36294:return voe;case 36295:return yoe;case 36296:return xoe;case 35678:case 36198:case 36298:case 36306:case 35682:return _oe;case 35679:case 36299:case 36307:return woe;case 35680:case 36300:case 36308:case 36293:return boe;case 36289:case 36303:case 36311:case 36292:return Soe}}class Moe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=ioe(n.type)}}class Toe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Eoe(n.type)}}class Aoe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const t1=/(\w+)(\])?(\[|\.)?/g;function hI(t,e){t.seq.push(e),t.map[e.id]=e}function Coe(t,e,n){const r=t.name,i=r.length;for(t1.lastIndex=0;;){const s=t1.exec(r),o=t1.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){hI(n,c===void 0?new Moe(a,t,e):new Toe(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new Aoe(a),hI(n,h)),n=h}}}class W0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Coe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function fI(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Poe=37297;let Roe=0;function koe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function Noe(t){const e=un.getPrimaries(un.workingColorSpace),n=un.getPrimaries(t);let r;switch(e===n?r="":e===Nm&&n===km?r="LinearDisplayP3ToLinearSRGB":e===km&&n===Nm&&(r="LinearSRGBToLinearDisplayP3"),t){case Io:case Eg:return[r,"LinearTransferOETF"];case cr:case j_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function pI(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+koe(t.getShaderSource(e),o)}else return i}function Loe(t,e){const n=Noe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Ioe(t,e){let n;switch(e){case uj:n="Linear";break;case dj:n="Reinhard";break;case hj:n="OptimizedCineon";break;case RC:n="ACESFilmic";break;case pj:n="AgX";break;case fj:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Doe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qd).join(`
`)}function Ooe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(qd).join(`
`)}function Foe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Uoe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function qd(t){return t!==""}function mI(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gI(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zoe=/^[ \t]*#include +<([\w\d./]+)>/gm;function eT(t){return t.replace(zoe,joe)}const Boe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function joe(t,e){let n=It[e];if(n===void 0){const r=Boe.get(e);if(r!==void 0)n=It[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return eT(n)}const Voe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vI(t){return t.replace(Voe,Hoe)}function Hoe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function yI(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Woe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===F_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Np?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ns&&(e="SHADOWMAP_TYPE_VSM"),e}function Goe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Sa:case zl:e="ENVMAP_TYPE_CUBE";break;case ef:e="ENVMAP_TYPE_CUBE_UV";break}return e}function $oe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case zl:e="ENVMAP_MODE_REFRACTION";break}return e}function Xoe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Sg:e="ENVMAP_BLENDING_MULTIPLY";break;case lj:e="ENVMAP_BLENDING_MIX";break;case cj:e="ENVMAP_BLENDING_ADD";break}return e}function qoe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Yoe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Woe(n),c=Goe(n),u=$oe(n),h=Xoe(n),p=qoe(n),m=n.isWebGL2?"":Doe(n),v=Ooe(n),x=Foe(s),y=i.createProgram();let g,w,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(qd).join(`
`),g.length>0&&(g+=`
`),w=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(qd).join(`
`),w.length>0&&(w+=`
`)):(g=[yI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qd).join(`
`),w=[m,yI(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Po?"#define TONE_MAPPING":"",n.toneMapping!==Po?It.tonemapping_pars_fragment:"",n.toneMapping!==Po?Ioe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",It.colorspace_pars_fragment,Loe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(qd).join(`
`)),o=eT(o),o=mI(o,n),o=gI(o,n),a=eT(a),a=mI(a,n),a=gI(a,n),o=vI(o),a=vI(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===ZM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===ZM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const M=b+g+o,C=b+w+a,P=fI(i,i.VERTEX_SHADER,M),R=fI(i,i.FRAGMENT_SHADER,C);i.attachShader(y,P),i.attachShader(y,R),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function O(G){if(t.debug.checkShaderErrors){const te=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(P).trim(),Z=i.getShaderInfoLog(R).trim();let J=!0,ne=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,P,R);else{const F=pI(i,P,"vertex"),j=pI(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+te+`
`+F+`
`+j)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(B===""||Z==="")&&(ne=!1);ne&&(G.diagnostics={runnable:J,programLog:te,vertexShader:{log:B,prefix:g},fragmentShader:{log:Z,prefix:w}})}i.deleteShader(P),i.deleteShader(R),k=new W0(i,y),L=Uoe(i,y)}let k;this.getUniforms=function(){return k===void 0&&O(this),k};let L;this.getAttributes=function(){return L===void 0&&O(this),L};let z=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=i.getProgramParameter(y,Poe)),z},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Roe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=P,this.fragmentShader=R,this}let Koe=0;class Zoe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Joe(e),n.set(e,r)),r}}class Joe{constructor(e){this.id=Koe++,this.code=e,this.usedTimes=0}}function Qoe(t,e,n,r,i,s,o){const a=new tu,l=new Zoe,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(k){return k===0?"uv":`uv${k}`}function y(k,L,z,G,te){const B=G.fog,Z=te.geometry,J=k.isMeshStandardMaterial?G.environment:null,ne=(k.isMeshStandardMaterial?n:e).get(k.envMap||J),F=ne&&ne.mapping===ef?ne.image.height:null,j=v[k.type];k.precision!==null&&(m=i.getMaxPrecision(k.precision),m!==k.precision&&console.warn("THREE.WebGLProgram.getParameters:",k.precision,"not supported, using",m,"instead."));const U=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,$=U!==void 0?U.length:0;let re=0;Z.morphAttributes.position!==void 0&&(re=1),Z.morphAttributes.normal!==void 0&&(re=2),Z.morphAttributes.color!==void 0&&(re=3);let Y,ue,Me,be;if(j){const En=zs[j];Y=En.vertexShader,ue=En.fragmentShader}else Y=k.vertexShader,ue=k.fragmentShader,l.update(k),Me=l.getVertexShaderID(k),be=l.getFragmentShaderID(k);const Se=t.getRenderTarget(),Le=te.isInstancedMesh===!0,je=te.isBatchedMesh===!0,xe=!!k.map,ze=!!k.matcap,q=!!ne,Ee=!!k.aoMap,ge=!!k.lightMap,ke=!!k.bumpMap,ve=!!k.normalMap,rt=!!k.displacementMap,W=!!k.emissiveMap,D=!!k.metalnessMap,I=!!k.roughnessMap,K=k.anisotropy>0,oe=k.clearcoat>0,ie=k.iridescence>0,le=k.sheen>0,Ne=k.transmission>0,Ie=K&&!!k.anisotropyMap,Oe=oe&&!!k.clearcoatMap,Qe=oe&&!!k.clearcoatNormalMap,dt=oe&&!!k.clearcoatRoughnessMap,Re=ie&&!!k.iridescenceMap,kt=ie&&!!k.iridescenceThicknessMap,Et=le&&!!k.sheenColorMap,ft=le&&!!k.sheenRoughnessMap,ot=!!k.specularMap,$e=!!k.specularColorMap,Q=!!k.specularIntensityMap,Te=Ne&&!!k.transmissionMap,Ae=Ne&&!!k.thicknessMap,De=!!k.gradientMap,_e=!!k.alphaMap,ee=k.alphaTest>0,Fe=!!k.alphaHash,He=!!k.extensions,ht=!!Z.attributes.uv1,it=!!Z.attributes.uv2,Wt=!!Z.attributes.uv3;let Kt=Po;return k.toneMapped&&(Se===null||Se.isXRRenderTarget===!0)&&(Kt=t.toneMapping),{isWebGL2:u,shaderID:j,shaderType:k.type,shaderName:k.name,vertexShader:Y,fragmentShader:ue,defines:k.defines,customVertexShaderID:Me,customFragmentShaderID:be,isRawShaderMaterial:k.isRawShaderMaterial===!0,glslVersion:k.glslVersion,precision:m,batching:je,instancing:Le,instancingColor:Le&&te.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Se===null?t.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:Io,map:xe,matcap:ze,envMap:q,envMapMode:q&&ne.mapping,envMapCubeUVHeight:F,aoMap:Ee,lightMap:ge,bumpMap:ke,normalMap:ve,displacementMap:p&&rt,emissiveMap:W,normalMapObjectSpace:ve&&k.normalMapType===Pj,normalMapTangentSpace:ve&&k.normalMapType===Jl,metalnessMap:D,roughnessMap:I,anisotropy:K,anisotropyMap:Ie,clearcoat:oe,clearcoatMap:Oe,clearcoatNormalMap:Qe,clearcoatRoughnessMap:dt,iridescence:ie,iridescenceMap:Re,iridescenceThicknessMap:kt,sheen:le,sheenColorMap:Et,sheenRoughnessMap:ft,specularMap:ot,specularColorMap:$e,specularIntensityMap:Q,transmission:Ne,transmissionMap:Te,thicknessMap:Ae,gradientMap:De,opaque:k.transparent===!1&&k.blending===Qc,alphaMap:_e,alphaTest:ee,alphaHash:Fe,combine:k.combine,mapUv:xe&&x(k.map.channel),aoMapUv:Ee&&x(k.aoMap.channel),lightMapUv:ge&&x(k.lightMap.channel),bumpMapUv:ke&&x(k.bumpMap.channel),normalMapUv:ve&&x(k.normalMap.channel),displacementMapUv:rt&&x(k.displacementMap.channel),emissiveMapUv:W&&x(k.emissiveMap.channel),metalnessMapUv:D&&x(k.metalnessMap.channel),roughnessMapUv:I&&x(k.roughnessMap.channel),anisotropyMapUv:Ie&&x(k.anisotropyMap.channel),clearcoatMapUv:Oe&&x(k.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&x(k.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:dt&&x(k.clearcoatRoughnessMap.channel),iridescenceMapUv:Re&&x(k.iridescenceMap.channel),iridescenceThicknessMapUv:kt&&x(k.iridescenceThicknessMap.channel),sheenColorMapUv:Et&&x(k.sheenColorMap.channel),sheenRoughnessMapUv:ft&&x(k.sheenRoughnessMap.channel),specularMapUv:ot&&x(k.specularMap.channel),specularColorMapUv:$e&&x(k.specularColorMap.channel),specularIntensityMapUv:Q&&x(k.specularIntensityMap.channel),transmissionMapUv:Te&&x(k.transmissionMap.channel),thicknessMapUv:Ae&&x(k.thicknessMap.channel),alphaMapUv:_e&&x(k.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(ve||K),vertexColors:k.vertexColors,vertexAlphas:k.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,vertexUv1s:ht,vertexUv2s:it,vertexUv3s:Wt,pointsUvs:te.isPoints===!0&&!!Z.attributes.uv&&(xe||_e),fog:!!B,useFog:k.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:k.flatShading===!0,sizeAttenuation:k.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:te.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:re,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:k.dithering,shadowMapEnabled:t.shadowMap.enabled&&z.length>0,shadowMapType:t.shadowMap.type,toneMapping:Kt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:xe&&k.map.isVideoTexture===!0&&un.getTransfer(k.map.colorSpace)===gn,premultipliedAlpha:k.premultipliedAlpha,doubleSided:k.side===wo,flipSided:k.side===ci,useDepthPacking:k.depthPacking>=0,depthPacking:k.depthPacking||0,index0AttributeName:k.index0AttributeName,extensionDerivatives:He&&k.extensions.derivatives===!0,extensionFragDepth:He&&k.extensions.fragDepth===!0,extensionDrawBuffers:He&&k.extensions.drawBuffers===!0,extensionShaderTextureLOD:He&&k.extensions.shaderTextureLOD===!0,extensionClipCullDistance:He&&k.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:k.customProgramCacheKey()}}function g(k){const L=[];if(k.shaderID?L.push(k.shaderID):(L.push(k.customVertexShaderID),L.push(k.customFragmentShaderID)),k.defines!==void 0)for(const z in k.defines)L.push(z),L.push(k.defines[z]);return k.isRawShaderMaterial===!1&&(w(L,k),b(L,k),L.push(t.outputColorSpace)),L.push(k.customProgramCacheKey),L.join()}function w(k,L){k.push(L.precision),k.push(L.outputColorSpace),k.push(L.envMapMode),k.push(L.envMapCubeUVHeight),k.push(L.mapUv),k.push(L.alphaMapUv),k.push(L.lightMapUv),k.push(L.aoMapUv),k.push(L.bumpMapUv),k.push(L.normalMapUv),k.push(L.displacementMapUv),k.push(L.emissiveMapUv),k.push(L.metalnessMapUv),k.push(L.roughnessMapUv),k.push(L.anisotropyMapUv),k.push(L.clearcoatMapUv),k.push(L.clearcoatNormalMapUv),k.push(L.clearcoatRoughnessMapUv),k.push(L.iridescenceMapUv),k.push(L.iridescenceThicknessMapUv),k.push(L.sheenColorMapUv),k.push(L.sheenRoughnessMapUv),k.push(L.specularMapUv),k.push(L.specularColorMapUv),k.push(L.specularIntensityMapUv),k.push(L.transmissionMapUv),k.push(L.thicknessMapUv),k.push(L.combine),k.push(L.fogExp2),k.push(L.sizeAttenuation),k.push(L.morphTargetsCount),k.push(L.morphAttributeCount),k.push(L.numDirLights),k.push(L.numPointLights),k.push(L.numSpotLights),k.push(L.numSpotLightMaps),k.push(L.numHemiLights),k.push(L.numRectAreaLights),k.push(L.numDirLightShadows),k.push(L.numPointLightShadows),k.push(L.numSpotLightShadows),k.push(L.numSpotLightShadowsWithMaps),k.push(L.numLightProbes),k.push(L.shadowMapType),k.push(L.toneMapping),k.push(L.numClippingPlanes),k.push(L.numClipIntersection),k.push(L.depthPacking)}function b(k,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),k.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),k.push(a.mask)}function M(k){const L=v[k.type];let z;if(L){const G=zs[L];z=XC.clone(G.uniforms)}else z=k.uniforms;return z}function C(k,L){let z;for(let G=0,te=c.length;G<te;G++){const B=c[G];if(B.cacheKey===L){z=B,++z.usedTimes;break}}return z===void 0&&(z=new Yoe(t,L,k,s),c.push(z)),z}function P(k){if(--k.usedTimes===0){const L=c.indexOf(k);c[L]=c[c.length-1],c.pop(),k.destroy()}}function R(k){l.remove(k)}function O(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:M,acquireProgram:C,releaseProgram:P,releaseShaderCache:R,programs:c,dispose:O}}function eae(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function tae(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function xI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function _I(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,p,m,v,x,y){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:x,group:y},t[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=x,g.group=y),e++,g}function a(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(h,p,m,v,x,y){const g=o(h,p,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(h,p){n.length>1&&n.sort(h||tae),r.length>1&&r.sort(p||xI),i.length>1&&i.sort(p||xI)}function u(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function nae(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new _I,t.set(r,[o])):i>=s.length?(o=new _I,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function rae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new Ke};break;case"SpotLight":n={position:new H,direction:new H,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":n={color:new Ke,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function iae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sae=0;function oae(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function aae(t,e){const n=new rae,r=iae(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new H);const s=new H,o=new St,a=new St;function l(u,h){let p=0,m=0,v=0;for(let G=0;G<9;G++)i.probe[G].set(0,0,0);let x=0,y=0,g=0,w=0,b=0,M=0,C=0,P=0,R=0,O=0,k=0;u.sort(oae);const L=h===!0?Math.PI:1;for(let G=0,te=u.length;G<te;G++){const B=u[G],Z=B.color,J=B.intensity,ne=B.distance,F=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)p+=Z.r*J*L,m+=Z.g*J*L,v+=Z.b*J*L;else if(B.isLightProbe){for(let j=0;j<9;j++)i.probe[j].addScaledVector(B.sh.coefficients[j],J);k++}else if(B.isDirectionalLight){const j=n.get(B);if(j.color.copy(B.color).multiplyScalar(B.intensity*L),B.castShadow){const U=B.shadow,$=r.get(B);$.shadowBias=U.bias,$.shadowNormalBias=U.normalBias,$.shadowRadius=U.radius,$.shadowMapSize=U.mapSize,i.directionalShadow[x]=$,i.directionalShadowMap[x]=F,i.directionalShadowMatrix[x]=B.shadow.matrix,M++}i.directional[x]=j,x++}else if(B.isSpotLight){const j=n.get(B);j.position.setFromMatrixPosition(B.matrixWorld),j.color.copy(Z).multiplyScalar(J*L),j.distance=ne,j.coneCos=Math.cos(B.angle),j.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),j.decay=B.decay,i.spot[g]=j;const U=B.shadow;if(B.map&&(i.spotLightMap[R]=B.map,R++,U.updateMatrices(B),B.castShadow&&O++),i.spotLightMatrix[g]=U.matrix,B.castShadow){const $=r.get(B);$.shadowBias=U.bias,$.shadowNormalBias=U.normalBias,$.shadowRadius=U.radius,$.shadowMapSize=U.mapSize,i.spotShadow[g]=$,i.spotShadowMap[g]=F,P++}g++}else if(B.isRectAreaLight){const j=n.get(B);j.color.copy(Z).multiplyScalar(J),j.halfWidth.set(B.width*.5,0,0),j.halfHeight.set(0,B.height*.5,0),i.rectArea[w]=j,w++}else if(B.isPointLight){const j=n.get(B);if(j.color.copy(B.color).multiplyScalar(B.intensity*L),j.distance=B.distance,j.decay=B.decay,B.castShadow){const U=B.shadow,$=r.get(B);$.shadowBias=U.bias,$.shadowNormalBias=U.normalBias,$.shadowRadius=U.radius,$.shadowMapSize=U.mapSize,$.shadowCameraNear=U.camera.near,$.shadowCameraFar=U.camera.far,i.pointShadow[y]=$,i.pointShadowMap[y]=F,i.pointShadowMatrix[y]=B.shadow.matrix,C++}i.point[y]=j,y++}else if(B.isHemisphereLight){const j=n.get(B);j.skyColor.copy(B.color).multiplyScalar(J*L),j.groundColor.copy(B.groundColor).multiplyScalar(J*L),i.hemi[b]=j,b++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const z=i.hash;(z.directionalLength!==x||z.pointLength!==y||z.spotLength!==g||z.rectAreaLength!==w||z.hemiLength!==b||z.numDirectionalShadows!==M||z.numPointShadows!==C||z.numSpotShadows!==P||z.numSpotMaps!==R||z.numLightProbes!==k)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+R-O,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=k,z.directionalLength=x,z.pointLength=y,z.spotLength=g,z.rectAreaLength=w,z.hemiLength=b,z.numDirectionalShadows=M,z.numPointShadows=C,z.numSpotShadows=P,z.numSpotMaps=R,z.numLightProbes=k,i.version=sae++)}function c(u,h){let p=0,m=0,v=0,x=0,y=0;const g=h.matrixWorldInverse;for(let w=0,b=u.length;w<b;w++){const M=u[w];if(M.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(M.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const C=i.rectArea[x];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(g),y++}}}return{setup:l,setupView:c,state:i}}function wI(t,e){const n=new aae(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function lae(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new wI(t,e),n.set(s,[l])):o>=a.length?(l=new wI(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class KC extends kr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Aj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ZC extends kr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const cae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function dae(t,e,n){let r=new Cg;const i=new we,s=new we,o=new cn,a=new KC({depthPacking:Cj}),l=new ZC,c={},u=n.maxTextureSize,h={[ba]:ci,[ci]:ba,[wo]:wo},p=new Zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new we},radius:{value:4}},vertexShader:cae,fragmentShader:uae}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Ft;v.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new dr(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=F_;let g=this.type;this.render=function(P,R,O){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||P.length===0)return;const k=t.getRenderTarget(),L=t.getActiveCubeFace(),z=t.getActiveMipmapLevel(),G=t.state;G.setBlending(fa),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const te=g!==Ns&&this.type===Ns,B=g===Ns&&this.type!==Ns;for(let Z=0,J=P.length;Z<J;Z++){const ne=P[Z],F=ne.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const j=F.getFrameExtents();if(i.multiply(j),s.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/j.x),i.x=s.x*j.x,F.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/j.y),i.y=s.y*j.y,F.mapSize.y=s.y)),F.map===null||te===!0||B===!0){const $=this.type!==Ns?{minFilter:Zn,magFilter:Zn}:{};F.map!==null&&F.map.dispose(),F.map=new Ks(i.x,i.y,$),F.map.texture.name=ne.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const U=F.getViewportCount();for(let $=0;$<U;$++){const re=F.getViewport($);o.set(s.x*re.x,s.y*re.y,s.x*re.z,s.y*re.w),G.viewport(o),F.updateMatrices(ne,$),r=F.getFrustum(),M(R,O,F.camera,ne,this.type)}F.isPointLightShadow!==!0&&this.type===Ns&&w(F,O),F.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(k,L,z)};function w(P,R){const O=e.update(x);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Ks(i.x,i.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(R,null,O,p,x,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(R,null,O,m,x,null)}function b(P,R,O,k){let L=null;const z=O.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(z!==void 0)L=z;else if(L=O.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const G=L.uuid,te=R.uuid;let B=c[G];B===void 0&&(B={},c[G]=B);let Z=B[te];Z===void 0&&(Z=L.clone(),B[te]=Z,R.addEventListener("dispose",C)),L=Z}if(L.visible=R.visible,L.wireframe=R.wireframe,k===Ns?L.side=R.shadowSide!==null?R.shadowSide:R.side:L.side=R.shadowSide!==null?R.shadowSide:h[R.side],L.alphaMap=R.alphaMap,L.alphaTest=R.alphaTest,L.map=R.map,L.clipShadows=R.clipShadows,L.clippingPlanes=R.clippingPlanes,L.clipIntersection=R.clipIntersection,L.displacementMap=R.displacementMap,L.displacementScale=R.displacementScale,L.displacementBias=R.displacementBias,L.wireframeLinewidth=R.wireframeLinewidth,L.linewidth=R.linewidth,O.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const G=t.properties.get(L);G.light=O}return L}function M(P,R,O,k,L){if(P.visible===!1)return;if(P.layers.test(R.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&L===Ns)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,P.matrixWorld);const te=e.update(P),B=P.material;if(Array.isArray(B)){const Z=te.groups;for(let J=0,ne=Z.length;J<ne;J++){const F=Z[J],j=B[F.materialIndex];if(j&&j.visible){const U=b(P,j,k,L);P.onBeforeShadow(t,P,R,O,te,U,F),t.renderBufferDirect(O,null,te,U,P,F),P.onAfterShadow(t,P,R,O,te,U,F)}}}else if(B.visible){const Z=b(P,B,k,L);P.onBeforeShadow(t,P,R,O,te,Z,null),t.renderBufferDirect(O,null,te,Z,P,null),P.onAfterShadow(t,P,R,O,te,Z,null)}}const G=P.children;for(let te=0,B=G.length;te<B;te++)M(G[te],R,O,k,L)}function C(P){P.target.removeEventListener("dispose",C);for(const O in c){const k=c[O],L=P.target.uuid;L in k&&(k[L].dispose(),delete k[L])}}}function hae(t,e,n){const r=n.isWebGL2;function i(){let ee=!1;const Fe=new cn;let He=null;const ht=new cn(0,0,0,0);return{setMask:function(it){He!==it&&!ee&&(t.colorMask(it,it,it,it),He=it)},setLocked:function(it){ee=it},setClear:function(it,Wt,Kt,fn,En){En===!0&&(it*=fn,Wt*=fn,Kt*=fn),Fe.set(it,Wt,Kt,fn),ht.equals(Fe)===!1&&(t.clearColor(it,Wt,Kt,fn),ht.copy(Fe))},reset:function(){ee=!1,He=null,ht.set(-1,0,0,0)}}}function s(){let ee=!1,Fe=null,He=null,ht=null;return{setTest:function(it){it?je(t.DEPTH_TEST):xe(t.DEPTH_TEST)},setMask:function(it){Fe!==it&&!ee&&(t.depthMask(it),Fe=it)},setFunc:function(it){if(He!==it){switch(it){case tj:t.depthFunc(t.NEVER);break;case nj:t.depthFunc(t.ALWAYS);break;case rj:t.depthFunc(t.LESS);break;case bm:t.depthFunc(t.LEQUAL);break;case ij:t.depthFunc(t.EQUAL);break;case sj:t.depthFunc(t.GEQUAL);break;case oj:t.depthFunc(t.GREATER);break;case aj:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}He=it}},setLocked:function(it){ee=it},setClear:function(it){ht!==it&&(t.clearDepth(it),ht=it)},reset:function(){ee=!1,Fe=null,He=null,ht=null}}}function o(){let ee=!1,Fe=null,He=null,ht=null,it=null,Wt=null,Kt=null,fn=null,En=null;return{setTest:function(Jt){ee||(Jt?je(t.STENCIL_TEST):xe(t.STENCIL_TEST))},setMask:function(Jt){Fe!==Jt&&!ee&&(t.stencilMask(Jt),Fe=Jt)},setFunc:function(Jt,Sr,Qi){(He!==Jt||ht!==Sr||it!==Qi)&&(t.stencilFunc(Jt,Sr,Qi),He=Jt,ht=Sr,it=Qi)},setOp:function(Jt,Sr,Qi){(Wt!==Jt||Kt!==Sr||fn!==Qi)&&(t.stencilOp(Jt,Sr,Qi),Wt=Jt,Kt=Sr,fn=Qi)},setLocked:function(Jt){ee=Jt},setClear:function(Jt){En!==Jt&&(t.clearStencil(Jt),En=Jt)},reset:function(){ee=!1,Fe=null,He=null,ht=null,it=null,Wt=null,Kt=null,fn=null,En=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,x=[],y=null,g=!1,w=null,b=null,M=null,C=null,P=null,R=null,O=null,k=new Ke(0,0,0),L=0,z=!1,G=null,te=null,B=null,Z=null,J=null;const ne=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,j=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(U)[1]),F=j>=1):U.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),F=j>=2);let $=null,re={};const Y=t.getParameter(t.SCISSOR_BOX),ue=t.getParameter(t.VIEWPORT),Me=new cn().fromArray(Y),be=new cn().fromArray(ue);function Se(ee,Fe,He,ht){const it=new Uint8Array(4),Wt=t.createTexture();t.bindTexture(ee,Wt),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Kt=0;Kt<He;Kt++)r&&(ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY)?t.texImage3D(Fe,0,t.RGBA,1,1,ht,0,t.RGBA,t.UNSIGNED_BYTE,it):t.texImage2D(Fe+Kt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,it);return Wt}const Le={};Le[t.TEXTURE_2D]=Se(t.TEXTURE_2D,t.TEXTURE_2D,1),Le[t.TEXTURE_CUBE_MAP]=Se(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Le[t.TEXTURE_2D_ARRAY]=Se(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Le[t.TEXTURE_3D]=Se(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),je(t.DEPTH_TEST),l.setFunc(bm),W(!1),D(yM),je(t.CULL_FACE),ve(fa);function je(ee){p[ee]!==!0&&(t.enable(ee),p[ee]=!0)}function xe(ee){p[ee]!==!1&&(t.disable(ee),p[ee]=!1)}function ze(ee,Fe){return m[ee]!==Fe?(t.bindFramebuffer(ee,Fe),m[ee]=Fe,r&&(ee===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Fe),ee===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Fe)),!0):!1}function q(ee,Fe){let He=x,ht=!1;if(ee)if(He=v.get(Fe),He===void 0&&(He=[],v.set(Fe,He)),ee.isWebGLMultipleRenderTargets){const it=ee.texture;if(He.length!==it.length||He[0]!==t.COLOR_ATTACHMENT0){for(let Wt=0,Kt=it.length;Wt<Kt;Wt++)He[Wt]=t.COLOR_ATTACHMENT0+Wt;He.length=it.length,ht=!0}}else He[0]!==t.COLOR_ATTACHMENT0&&(He[0]=t.COLOR_ATTACHMENT0,ht=!0);else He[0]!==t.BACK&&(He[0]=t.BACK,ht=!0);ht&&(n.isWebGL2?t.drawBuffers(He):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(He))}function Ee(ee){return y!==ee?(t.useProgram(ee),y=ee,!0):!1}const ge={[sl]:t.FUNC_ADD,[B4]:t.FUNC_SUBTRACT,[j4]:t.FUNC_REVERSE_SUBTRACT};if(r)ge[bM]=t.MIN,ge[SM]=t.MAX;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(ge[bM]=ee.MIN_EXT,ge[SM]=ee.MAX_EXT)}const ke={[V4]:t.ZERO,[H4]:t.ONE,[W4]:t.SRC_COLOR,[Lx]:t.SRC_ALPHA,[K4]:t.SRC_ALPHA_SATURATE,[q4]:t.DST_COLOR,[$4]:t.DST_ALPHA,[G4]:t.ONE_MINUS_SRC_COLOR,[Ix]:t.ONE_MINUS_SRC_ALPHA,[Y4]:t.ONE_MINUS_DST_COLOR,[X4]:t.ONE_MINUS_DST_ALPHA,[Z4]:t.CONSTANT_COLOR,[J4]:t.ONE_MINUS_CONSTANT_COLOR,[Q4]:t.CONSTANT_ALPHA,[ej]:t.ONE_MINUS_CONSTANT_ALPHA};function ve(ee,Fe,He,ht,it,Wt,Kt,fn,En,Jt){if(ee===fa){g===!0&&(xe(t.BLEND),g=!1);return}if(g===!1&&(je(t.BLEND),g=!0),ee!==z4){if(ee!==w||Jt!==z){if((b!==sl||P!==sl)&&(t.blendEquation(t.FUNC_ADD),b=sl,P=sl),Jt)switch(ee){case Qc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xM:t.blendFunc(t.ONE,t.ONE);break;case _M:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case wM:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case Qc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xM:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case _M:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case wM:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}M=null,C=null,R=null,O=null,k.set(0,0,0),L=0,w=ee,z=Jt}return}it=it||Fe,Wt=Wt||He,Kt=Kt||ht,(Fe!==b||it!==P)&&(t.blendEquationSeparate(ge[Fe],ge[it]),b=Fe,P=it),(He!==M||ht!==C||Wt!==R||Kt!==O)&&(t.blendFuncSeparate(ke[He],ke[ht],ke[Wt],ke[Kt]),M=He,C=ht,R=Wt,O=Kt),(fn.equals(k)===!1||En!==L)&&(t.blendColor(fn.r,fn.g,fn.b,En),k.copy(fn),L=En),w=ee,z=!1}function rt(ee,Fe){ee.side===wo?xe(t.CULL_FACE):je(t.CULL_FACE);let He=ee.side===ci;Fe&&(He=!He),W(He),ee.blending===Qc&&ee.transparent===!1?ve(fa):ve(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const ht=ee.stencilWrite;c.setTest(ht),ht&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),K(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?je(t.SAMPLE_ALPHA_TO_COVERAGE):xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function W(ee){G!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),G=ee)}function D(ee){ee!==O4?(je(t.CULL_FACE),ee!==te&&(ee===yM?t.cullFace(t.BACK):ee===F4?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):xe(t.CULL_FACE),te=ee}function I(ee){ee!==B&&(F&&t.lineWidth(ee),B=ee)}function K(ee,Fe,He){ee?(je(t.POLYGON_OFFSET_FILL),(Z!==Fe||J!==He)&&(t.polygonOffset(Fe,He),Z=Fe,J=He)):xe(t.POLYGON_OFFSET_FILL)}function oe(ee){ee?je(t.SCISSOR_TEST):xe(t.SCISSOR_TEST)}function ie(ee){ee===void 0&&(ee=t.TEXTURE0+ne-1),$!==ee&&(t.activeTexture(ee),$=ee)}function le(ee,Fe,He){He===void 0&&($===null?He=t.TEXTURE0+ne-1:He=$);let ht=re[He];ht===void 0&&(ht={type:void 0,texture:void 0},re[He]=ht),(ht.type!==ee||ht.texture!==Fe)&&($!==He&&(t.activeTexture(He),$=He),t.bindTexture(ee,Fe||Le[ee]),ht.type=ee,ht.texture=Fe)}function Ne(){const ee=re[$];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function Ie(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Qe(){try{t.texSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function dt(){try{t.texSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function kt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Et(){try{t.texStorage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ft(){try{t.texStorage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ot(){try{t.texImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function $e(){try{t.texImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Q(ee){Me.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),Me.copy(ee))}function Te(ee){be.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),be.copy(ee))}function Ae(ee,Fe){let He=h.get(Fe);He===void 0&&(He=new WeakMap,h.set(Fe,He));let ht=He.get(ee);ht===void 0&&(ht=t.getUniformBlockIndex(Fe,ee.name),He.set(ee,ht))}function De(ee,Fe){const ht=h.get(Fe).get(ee);u.get(Fe)!==ht&&(t.uniformBlockBinding(Fe,ht,ee.__bindingPointIndex),u.set(Fe,ht))}function _e(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},$=null,re={},m={},v=new WeakMap,x=[],y=null,g=!1,w=null,b=null,M=null,C=null,P=null,R=null,O=null,k=new Ke(0,0,0),L=0,z=!1,G=null,te=null,B=null,Z=null,J=null,Me.set(0,0,t.canvas.width,t.canvas.height),be.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:je,disable:xe,bindFramebuffer:ze,drawBuffers:q,useProgram:Ee,setBlending:ve,setMaterial:rt,setFlipSided:W,setCullFace:D,setLineWidth:I,setPolygonOffset:K,setScissorTest:oe,activeTexture:ie,bindTexture:le,unbindTexture:Ne,compressedTexImage2D:Ie,compressedTexImage3D:Oe,texImage2D:ot,texImage3D:$e,updateUBOMapping:Ae,uniformBlockBinding:De,texStorage2D:Et,texStorage3D:ft,texSubImage2D:Qe,texSubImage3D:dt,compressedTexSubImage2D:Re,compressedTexSubImage3D:kt,scissor:Q,viewport:Te,reset:_e}}function fae(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(D,I){return m?new OffscreenCanvas(D,I):Im("canvas")}function x(D,I,K,oe){let ie=1;if((D.width>oe||D.height>oe)&&(ie=oe/Math.max(D.width,D.height)),ie<1||I===!0)if(typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&D instanceof ImageBitmap){const le=I?Fx:Math.floor,Ne=le(ie*D.width),Ie=le(ie*D.height);h===void 0&&(h=v(Ne,Ie));const Oe=K?v(Ne,Ie):h;return Oe.width=Ne,Oe.height=Ie,Oe.getContext("2d").drawImage(D,0,0,Ne,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+D.width+"x"+D.height+") to ("+Ne+"x"+Ie+")."),Oe}else return"data"in D&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+D.width+"x"+D.height+")."),D;return D}function y(D){return JM(D.width)&&JM(D.height)}function g(D){return a?!1:D.wrapS!==Gr||D.wrapT!==Gr||D.minFilter!==Zn&&D.minFilter!==Qn}function w(D,I){return D.generateMipmaps&&I&&D.minFilter!==Zn&&D.minFilter!==Qn}function b(D){t.generateMipmap(D)}function M(D,I,K,oe,ie=!1){if(a===!1)return I;if(D!==null){if(t[D]!==void 0)return t[D];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+D+"'")}let le=I;if(I===t.RED&&(K===t.FLOAT&&(le=t.R32F),K===t.HALF_FLOAT&&(le=t.R16F),K===t.UNSIGNED_BYTE&&(le=t.R8)),I===t.RED_INTEGER&&(K===t.UNSIGNED_BYTE&&(le=t.R8UI),K===t.UNSIGNED_SHORT&&(le=t.R16UI),K===t.UNSIGNED_INT&&(le=t.R32UI),K===t.BYTE&&(le=t.R8I),K===t.SHORT&&(le=t.R16I),K===t.INT&&(le=t.R32I)),I===t.RG&&(K===t.FLOAT&&(le=t.RG32F),K===t.HALF_FLOAT&&(le=t.RG16F),K===t.UNSIGNED_BYTE&&(le=t.RG8)),I===t.RGBA){const Ne=ie?Rm:un.getTransfer(oe);K===t.FLOAT&&(le=t.RGBA32F),K===t.HALF_FLOAT&&(le=t.RGBA16F),K===t.UNSIGNED_BYTE&&(le=Ne===gn?t.SRGB8_ALPHA8:t.RGBA8),K===t.UNSIGNED_SHORT_4_4_4_4&&(le=t.RGBA4),K===t.UNSIGNED_SHORT_5_5_5_1&&(le=t.RGB5_A1)}return(le===t.R16F||le===t.R32F||le===t.RG16F||le===t.RG32F||le===t.RGBA16F||le===t.RGBA32F)&&e.get("EXT_color_buffer_float"),le}function C(D,I,K){return w(D,K)===!0||D.isFramebufferTexture&&D.minFilter!==Zn&&D.minFilter!==Qn?Math.log2(Math.max(I.width,I.height))+1:D.mipmaps!==void 0&&D.mipmaps.length>0?D.mipmaps.length:D.isCompressedTexture&&Array.isArray(D.image)?I.mipmaps.length:1}function P(D){return D===Zn||D===Dx||D===Lp?t.NEAREST:t.LINEAR}function R(D){const I=D.target;I.removeEventListener("dispose",R),k(I),I.isVideoTexture&&u.delete(I)}function O(D){const I=D.target;I.removeEventListener("dispose",O),z(I)}function k(D){const I=r.get(D);if(I.__webglInit===void 0)return;const K=D.source,oe=p.get(K);if(oe){const ie=oe[I.__cacheKey];ie.usedTimes--,ie.usedTimes===0&&L(D),Object.keys(oe).length===0&&p.delete(K)}r.remove(D)}function L(D){const I=r.get(D);t.deleteTexture(I.__webglTexture);const K=D.source,oe=p.get(K);delete oe[I.__cacheKey],o.memory.textures--}function z(D){const I=D.texture,K=r.get(D),oe=r.get(I);if(oe.__webglTexture!==void 0&&(t.deleteTexture(oe.__webglTexture),o.memory.textures--),D.depthTexture&&D.depthTexture.dispose(),D.isWebGLCubeRenderTarget)for(let ie=0;ie<6;ie++){if(Array.isArray(K.__webglFramebuffer[ie]))for(let le=0;le<K.__webglFramebuffer[ie].length;le++)t.deleteFramebuffer(K.__webglFramebuffer[ie][le]);else t.deleteFramebuffer(K.__webglFramebuffer[ie]);K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer[ie])}else{if(Array.isArray(K.__webglFramebuffer))for(let ie=0;ie<K.__webglFramebuffer.length;ie++)t.deleteFramebuffer(K.__webglFramebuffer[ie]);else t.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&t.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let ie=0;ie<K.__webglColorRenderbuffer.length;ie++)K.__webglColorRenderbuffer[ie]&&t.deleteRenderbuffer(K.__webglColorRenderbuffer[ie]);K.__webglDepthRenderbuffer&&t.deleteRenderbuffer(K.__webglDepthRenderbuffer)}if(D.isWebGLMultipleRenderTargets)for(let ie=0,le=I.length;ie<le;ie++){const Ne=r.get(I[ie]);Ne.__webglTexture&&(t.deleteTexture(Ne.__webglTexture),o.memory.textures--),r.remove(I[ie])}r.remove(I),r.remove(D)}let G=0;function te(){G=0}function B(){const D=G;return D>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+D+" texture units while this GPU supports only "+i.maxTextures),G+=1,D}function Z(D){const I=[];return I.push(D.wrapS),I.push(D.wrapT),I.push(D.wrapR||0),I.push(D.magFilter),I.push(D.minFilter),I.push(D.anisotropy),I.push(D.internalFormat),I.push(D.format),I.push(D.type),I.push(D.generateMipmaps),I.push(D.premultiplyAlpha),I.push(D.flipY),I.push(D.unpackAlignment),I.push(D.colorSpace),I.join()}function J(D,I){const K=r.get(D);if(D.isVideoTexture&&rt(D),D.isRenderTargetTexture===!1&&D.version>0&&K.__version!==D.version){const oe=D.image;if(oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(K,D,I);return}}n.bindTexture(t.TEXTURE_2D,K.__webglTexture,t.TEXTURE0+I)}function ne(D,I){const K=r.get(D);if(D.version>0&&K.__version!==D.version){Me(K,D,I);return}n.bindTexture(t.TEXTURE_2D_ARRAY,K.__webglTexture,t.TEXTURE0+I)}function F(D,I){const K=r.get(D);if(D.version>0&&K.__version!==D.version){Me(K,D,I);return}n.bindTexture(t.TEXTURE_3D,K.__webglTexture,t.TEXTURE0+I)}function j(D,I){const K=r.get(D);if(D.version>0&&K.__version!==D.version){be(K,D,I);return}n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+I)}const U={[Mm]:t.REPEAT,[Gr]:t.CLAMP_TO_EDGE,[Tm]:t.MIRRORED_REPEAT},$={[Zn]:t.NEAREST,[Dx]:t.NEAREST_MIPMAP_NEAREST,[Lp]:t.NEAREST_MIPMAP_LINEAR,[Qn]:t.LINEAR,[kC]:t.LINEAR_MIPMAP_NEAREST,[Bl]:t.LINEAR_MIPMAP_LINEAR},re={[Rj]:t.NEVER,[Oj]:t.ALWAYS,[kj]:t.LESS,[jC]:t.LEQUAL,[Nj]:t.EQUAL,[Dj]:t.GEQUAL,[Lj]:t.GREATER,[Ij]:t.NOTEQUAL};function Y(D,I,K){if(K?(t.texParameteri(D,t.TEXTURE_WRAP_S,U[I.wrapS]),t.texParameteri(D,t.TEXTURE_WRAP_T,U[I.wrapT]),(D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY)&&t.texParameteri(D,t.TEXTURE_WRAP_R,U[I.wrapR]),t.texParameteri(D,t.TEXTURE_MAG_FILTER,$[I.magFilter]),t.texParameteri(D,t.TEXTURE_MIN_FILTER,$[I.minFilter])):(t.texParameteri(D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY)&&t.texParameteri(D,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(I.wrapS!==Gr||I.wrapT!==Gr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(D,t.TEXTURE_MAG_FILTER,P(I.magFilter)),t.texParameteri(D,t.TEXTURE_MIN_FILTER,P(I.minFilter)),I.minFilter!==Zn&&I.minFilter!==Qn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(t.texParameteri(D,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(D,t.TEXTURE_COMPARE_FUNC,re[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const oe=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===Zn||I.minFilter!==Lp&&I.minFilter!==Bl||I.type===js&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Ih&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||r.get(I).__currentAnisotropy)&&(t.texParameterf(D,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy)}}function ue(D,I){let K=!1;D.__webglInit===void 0&&(D.__webglInit=!0,I.addEventListener("dispose",R));const oe=I.source;let ie=p.get(oe);ie===void 0&&(ie={},p.set(oe,ie));const le=Z(I);if(le!==D.__cacheKey){ie[le]===void 0&&(ie[le]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,K=!0),ie[le].usedTimes++;const Ne=ie[D.__cacheKey];Ne!==void 0&&(ie[D.__cacheKey].usedTimes--,Ne.usedTimes===0&&L(I)),D.__cacheKey=le,D.__webglTexture=ie[le].texture}return K}function Me(D,I,K){let oe=t.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(oe=t.TEXTURE_2D_ARRAY),I.isData3DTexture&&(oe=t.TEXTURE_3D);const ie=ue(D,I),le=I.source;n.bindTexture(oe,D.__webglTexture,t.TEXTURE0+K);const Ne=r.get(le);if(le.version!==Ne.__version||ie===!0){n.activeTexture(t.TEXTURE0+K);const Ie=un.getPrimaries(un.workingColorSpace),Oe=I.colorSpace===Hi?null:un.getPrimaries(I.colorSpace),Qe=I.colorSpace===Hi||Ie===Oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);const dt=g(I)&&y(I.image)===!1;let Re=x(I.image,dt,!1,i.maxTextureSize);Re=W(I,Re);const kt=y(Re)||a,Et=s.convert(I.format,I.colorSpace);let ft=s.convert(I.type),ot=M(I.internalFormat,Et,ft,I.colorSpace,I.isVideoTexture);Y(oe,I,kt);let $e;const Q=I.mipmaps,Te=a&&I.isVideoTexture!==!0&&ot!==UC,Ae=Ne.__version===void 0||ie===!0,De=C(I,Re,kt);if(I.isDepthTexture)ot=t.DEPTH_COMPONENT,a?I.type===js?ot=t.DEPTH_COMPONENT32F:I.type===ca?ot=t.DEPTH_COMPONENT24:I.type===Tl?ot=t.DEPTH24_STENCIL8:ot=t.DEPTH_COMPONENT16:I.type===js&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Al&&ot===t.DEPTH_COMPONENT&&I.type!==z_&&I.type!==ca&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=ca,ft=s.convert(I.type)),I.format===du&&ot===t.DEPTH_COMPONENT&&(ot=t.DEPTH_STENCIL,I.type!==Tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Tl,ft=s.convert(I.type))),Ae&&(Te?n.texStorage2D(t.TEXTURE_2D,1,ot,Re.width,Re.height):n.texImage2D(t.TEXTURE_2D,0,ot,Re.width,Re.height,0,Et,ft,null));else if(I.isDataTexture)if(Q.length>0&&kt){Te&&Ae&&n.texStorage2D(t.TEXTURE_2D,De,ot,Q[0].width,Q[0].height);for(let _e=0,ee=Q.length;_e<ee;_e++)$e=Q[_e],Te?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,$e.width,$e.height,Et,ft,$e.data):n.texImage2D(t.TEXTURE_2D,_e,ot,$e.width,$e.height,0,Et,ft,$e.data);I.generateMipmaps=!1}else Te?(Ae&&n.texStorage2D(t.TEXTURE_2D,De,ot,Re.width,Re.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Re.width,Re.height,Et,ft,Re.data)):n.texImage2D(t.TEXTURE_2D,0,ot,Re.width,Re.height,0,Et,ft,Re.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){Te&&Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,ot,Q[0].width,Q[0].height,Re.depth);for(let _e=0,ee=Q.length;_e<ee;_e++)$e=Q[_e],I.format!==oi?Et!==null?Te?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,$e.width,$e.height,Re.depth,Et,$e.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,_e,ot,$e.width,$e.height,Re.depth,0,$e.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?n.texSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,$e.width,$e.height,Re.depth,Et,ft,$e.data):n.texImage3D(t.TEXTURE_2D_ARRAY,_e,ot,$e.width,$e.height,Re.depth,0,Et,ft,$e.data)}else{Te&&Ae&&n.texStorage2D(t.TEXTURE_2D,De,ot,Q[0].width,Q[0].height);for(let _e=0,ee=Q.length;_e<ee;_e++)$e=Q[_e],I.format!==oi?Et!==null?Te?n.compressedTexSubImage2D(t.TEXTURE_2D,_e,0,0,$e.width,$e.height,Et,$e.data):n.compressedTexImage2D(t.TEXTURE_2D,_e,ot,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Te?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,$e.width,$e.height,Et,ft,$e.data):n.texImage2D(t.TEXTURE_2D,_e,ot,$e.width,$e.height,0,Et,ft,$e.data)}else if(I.isDataArrayTexture)Te?(Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,De,ot,Re.width,Re.height,Re.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,Et,ft,Re.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,ot,Re.width,Re.height,Re.depth,0,Et,ft,Re.data);else if(I.isData3DTexture)Te?(Ae&&n.texStorage3D(t.TEXTURE_3D,De,ot,Re.width,Re.height,Re.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,Et,ft,Re.data)):n.texImage3D(t.TEXTURE_3D,0,ot,Re.width,Re.height,Re.depth,0,Et,ft,Re.data);else if(I.isFramebufferTexture){if(Ae)if(Te)n.texStorage2D(t.TEXTURE_2D,De,ot,Re.width,Re.height);else{let _e=Re.width,ee=Re.height;for(let Fe=0;Fe<De;Fe++)n.texImage2D(t.TEXTURE_2D,Fe,ot,_e,ee,0,Et,ft,null),_e>>=1,ee>>=1}}else if(Q.length>0&&kt){Te&&Ae&&n.texStorage2D(t.TEXTURE_2D,De,ot,Q[0].width,Q[0].height);for(let _e=0,ee=Q.length;_e<ee;_e++)$e=Q[_e],Te?n.texSubImage2D(t.TEXTURE_2D,_e,0,0,Et,ft,$e):n.texImage2D(t.TEXTURE_2D,_e,ot,Et,ft,$e);I.generateMipmaps=!1}else Te?(Ae&&n.texStorage2D(t.TEXTURE_2D,De,ot,Re.width,Re.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Et,ft,Re)):n.texImage2D(t.TEXTURE_2D,0,ot,Et,ft,Re);w(I,kt)&&b(oe),Ne.__version=le.version,I.onUpdate&&I.onUpdate(I)}D.__version=I.version}function be(D,I,K){if(I.image.length!==6)return;const oe=ue(D,I),ie=I.source;n.bindTexture(t.TEXTURE_CUBE_MAP,D.__webglTexture,t.TEXTURE0+K);const le=r.get(ie);if(ie.version!==le.__version||oe===!0){n.activeTexture(t.TEXTURE0+K);const Ne=un.getPrimaries(un.workingColorSpace),Ie=I.colorSpace===Hi?null:un.getPrimaries(I.colorSpace),Oe=I.colorSpace===Hi||Ne===Ie?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const Qe=I.isCompressedTexture||I.image[0].isCompressedTexture,dt=I.image[0]&&I.image[0].isDataTexture,Re=[];for(let _e=0;_e<6;_e++)!Qe&&!dt?Re[_e]=x(I.image[_e],!1,!0,i.maxCubemapSize):Re[_e]=dt?I.image[_e].image:I.image[_e],Re[_e]=W(I,Re[_e]);const kt=Re[0],Et=y(kt)||a,ft=s.convert(I.format,I.colorSpace),ot=s.convert(I.type),$e=M(I.internalFormat,ft,ot,I.colorSpace),Q=a&&I.isVideoTexture!==!0,Te=le.__version===void 0||oe===!0;let Ae=C(I,kt,Et);Y(t.TEXTURE_CUBE_MAP,I,Et);let De;if(Qe){Q&&Te&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ae,$e,kt.width,kt.height);for(let _e=0;_e<6;_e++){De=Re[_e].mipmaps;for(let ee=0;ee<De.length;ee++){const Fe=De[ee];I.format!==oi?ft!==null?Q?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee,0,0,Fe.width,Fe.height,ft,Fe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee,$e,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Q?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee,0,0,Fe.width,Fe.height,ft,ot,Fe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee,$e,Fe.width,Fe.height,0,ft,ot,Fe.data)}}}else{De=I.mipmaps,Q&&Te&&(De.length>0&&Ae++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Ae,$e,Re[0].width,Re[0].height));for(let _e=0;_e<6;_e++)if(dt){Q?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,Re[_e].width,Re[_e].height,ft,ot,Re[_e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,$e,Re[_e].width,Re[_e].height,0,ft,ot,Re[_e].data);for(let ee=0;ee<De.length;ee++){const He=De[ee].image[_e].image;Q?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee+1,0,0,He.width,He.height,ft,ot,He.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee+1,$e,He.width,He.height,0,ft,ot,He.data)}}else{Q?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,ft,ot,Re[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,$e,ft,ot,Re[_e]);for(let ee=0;ee<De.length;ee++){const Fe=De[ee];Q?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee+1,0,0,ft,ot,Fe.image[_e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ee+1,$e,ft,ot,Fe.image[_e])}}}w(I,Et)&&b(t.TEXTURE_CUBE_MAP),le.__version=ie.version,I.onUpdate&&I.onUpdate(I)}D.__version=I.version}function Se(D,I,K,oe,ie,le){const Ne=s.convert(K.format,K.colorSpace),Ie=s.convert(K.type),Oe=M(K.internalFormat,Ne,Ie,K.colorSpace);if(!r.get(I).__hasExternalTextures){const dt=Math.max(1,I.width>>le),Re=Math.max(1,I.height>>le);ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY?n.texImage3D(ie,le,Oe,dt,Re,I.depth,0,Ne,Ie,null):n.texImage2D(ie,le,Oe,dt,Re,0,Ne,Ie,null)}n.bindFramebuffer(t.FRAMEBUFFER,D),ve(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,oe,ie,r.get(K).__webglTexture,0,ke(I)):(ie===t.TEXTURE_2D||ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,oe,ie,r.get(K).__webglTexture,le),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(D,I,K){if(t.bindRenderbuffer(t.RENDERBUFFER,D),I.depthBuffer&&!I.stencilBuffer){let oe=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(K||ve(I)){const ie=I.depthTexture;ie&&ie.isDepthTexture&&(ie.type===js?oe=t.DEPTH_COMPONENT32F:ie.type===ca&&(oe=t.DEPTH_COMPONENT24));const le=ke(I);ve(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,le,oe,I.width,I.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,le,oe,I.width,I.height)}else t.renderbufferStorage(t.RENDERBUFFER,oe,I.width,I.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,D)}else if(I.depthBuffer&&I.stencilBuffer){const oe=ke(I);K&&ve(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,oe,t.DEPTH24_STENCIL8,I.width,I.height):ve(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,oe,t.DEPTH24_STENCIL8,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,I.width,I.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,D)}else{const oe=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let ie=0;ie<oe.length;ie++){const le=oe[ie],Ne=s.convert(le.format,le.colorSpace),Ie=s.convert(le.type),Oe=M(le.internalFormat,Ne,Ie,le.colorSpace),Qe=ke(I);K&&ve(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Qe,Oe,I.width,I.height):ve(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Qe,Oe,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,Oe,I.width,I.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function je(D,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,D),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),J(I.depthTexture,0);const oe=r.get(I.depthTexture).__webglTexture,ie=ke(I);if(I.depthTexture.format===Al)ve(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,oe,0,ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,oe,0);else if(I.depthTexture.format===du)ve(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,oe,0,ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,oe,0);else throw new Error("Unknown depthTexture format")}function xe(D){const I=r.get(D),K=D.isWebGLCubeRenderTarget===!0;if(D.depthTexture&&!I.__autoAllocateDepthBuffer){if(K)throw new Error("target.depthTexture not supported in Cube render targets");je(I.__webglFramebuffer,D)}else if(K){I.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer[oe]),I.__webglDepthbuffer[oe]=t.createRenderbuffer(),Le(I.__webglDepthbuffer[oe],D,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=t.createRenderbuffer(),Le(I.__webglDepthbuffer,D,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ze(D,I,K){const oe=r.get(D);I!==void 0&&Se(oe.__webglFramebuffer,D,D.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),K!==void 0&&xe(D)}function q(D){const I=D.texture,K=r.get(D),oe=r.get(I);D.addEventListener("dispose",O),D.isWebGLMultipleRenderTargets!==!0&&(oe.__webglTexture===void 0&&(oe.__webglTexture=t.createTexture()),oe.__version=I.version,o.memory.textures++);const ie=D.isWebGLCubeRenderTarget===!0,le=D.isWebGLMultipleRenderTargets===!0,Ne=y(D)||a;if(ie){K.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0){K.__webglFramebuffer[Ie]=[];for(let Oe=0;Oe<I.mipmaps.length;Oe++)K.__webglFramebuffer[Ie][Oe]=t.createFramebuffer()}else K.__webglFramebuffer[Ie]=t.createFramebuffer()}else{if(a&&I.mipmaps&&I.mipmaps.length>0){K.__webglFramebuffer=[];for(let Ie=0;Ie<I.mipmaps.length;Ie++)K.__webglFramebuffer[Ie]=t.createFramebuffer()}else K.__webglFramebuffer=t.createFramebuffer();if(le)if(i.drawBuffers){const Ie=D.texture;for(let Oe=0,Qe=Ie.length;Oe<Qe;Oe++){const dt=r.get(Ie[Oe]);dt.__webglTexture===void 0&&(dt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&D.samples>0&&ve(D)===!1){const Ie=le?I:[I];K.__webglMultisampledFramebuffer=t.createFramebuffer(),K.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,K.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Ie.length;Oe++){const Qe=Ie[Oe];K.__webglColorRenderbuffer[Oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,K.__webglColorRenderbuffer[Oe]);const dt=s.convert(Qe.format,Qe.colorSpace),Re=s.convert(Qe.type),kt=M(Qe.internalFormat,dt,Re,Qe.colorSpace,D.isXRRenderTarget===!0),Et=ke(D);t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,kt,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,K.__webglColorRenderbuffer[Oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),D.depthBuffer&&(K.__webglDepthRenderbuffer=t.createRenderbuffer(),Le(K.__webglDepthRenderbuffer,D,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ie){n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture),Y(t.TEXTURE_CUBE_MAP,I,Ne);for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0)for(let Oe=0;Oe<I.mipmaps.length;Oe++)Se(K.__webglFramebuffer[Ie][Oe],D,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Oe);else Se(K.__webglFramebuffer[Ie],D,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);w(I,Ne)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(le){const Ie=D.texture;for(let Oe=0,Qe=Ie.length;Oe<Qe;Oe++){const dt=Ie[Oe],Re=r.get(dt);n.bindTexture(t.TEXTURE_2D,Re.__webglTexture),Y(t.TEXTURE_2D,dt,Ne),Se(K.__webglFramebuffer,D,dt,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D,0),w(dt,Ne)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let Ie=t.TEXTURE_2D;if((D.isWebGL3DRenderTarget||D.isWebGLArrayRenderTarget)&&(a?Ie=D.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ie,oe.__webglTexture),Y(Ie,I,Ne),a&&I.mipmaps&&I.mipmaps.length>0)for(let Oe=0;Oe<I.mipmaps.length;Oe++)Se(K.__webglFramebuffer[Oe],D,I,t.COLOR_ATTACHMENT0,Ie,Oe);else Se(K.__webglFramebuffer,D,I,t.COLOR_ATTACHMENT0,Ie,0);w(I,Ne)&&b(Ie),n.unbindTexture()}D.depthBuffer&&xe(D)}function Ee(D){const I=y(D)||a,K=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let oe=0,ie=K.length;oe<ie;oe++){const le=K[oe];if(w(le,I)){const Ne=D.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ie=r.get(le).__webglTexture;n.bindTexture(Ne,Ie),b(Ne),n.unbindTexture()}}}function ge(D){if(a&&D.samples>0&&ve(D)===!1){const I=D.isWebGLMultipleRenderTargets?D.texture:[D.texture],K=D.width,oe=D.height;let ie=t.COLOR_BUFFER_BIT;const le=[],Ne=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=r.get(D),Oe=D.isWebGLMultipleRenderTargets===!0;if(Oe)for(let Qe=0;Qe<I.length;Qe++)n.bindFramebuffer(t.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ie.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let Qe=0;Qe<I.length;Qe++){le.push(t.COLOR_ATTACHMENT0+Qe),D.depthBuffer&&le.push(Ne);const dt=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(dt===!1&&(D.depthBuffer&&(ie|=t.DEPTH_BUFFER_BIT),D.stencilBuffer&&(ie|=t.STENCIL_BUFFER_BIT)),Oe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ie.__webglColorRenderbuffer[Qe]),dt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ne]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ne])),Oe){const Re=r.get(I[Qe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Re,0)}t.blitFramebuffer(0,0,K,oe,0,0,K,oe,ie,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,le)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Oe)for(let Qe=0;Qe<I.length;Qe++){n.bindFramebuffer(t.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,Ie.__webglColorRenderbuffer[Qe]);const dt=r.get(I[Qe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ie.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,dt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function ke(D){return Math.min(i.maxSamples,D.samples)}function ve(D){const I=r.get(D);return a&&D.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function rt(D){const I=o.render.frame;u.get(D)!==I&&(u.set(D,I),D.update())}function W(D,I){const K=D.colorSpace,oe=D.format,ie=D.type;return D.isCompressedTexture===!0||D.isVideoTexture===!0||D.format===Ox||K!==Io&&K!==Hi&&(un.getTransfer(K)===gn?a===!1?e.has("EXT_sRGB")===!0&&oe===oi?(D.format=Ox,D.minFilter=Qn,D.generateMipmaps=!1):I=HC.sRGBToLinear(I):(oe!==oi||ie!==Ro)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",K)),I}this.allocateTextureUnit=B,this.resetTextureUnits=te,this.setTexture2D=J,this.setTexture2DArray=ne,this.setTexture3D=F,this.setTextureCube=j,this.rebindTextures=ze,this.setupRenderTarget=q,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=ge,this.setupDepthRenderbuffer=xe,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=ve}function Kj(t,e,n){const r=n.isWebGL2;function i(s,o=Hi){let a;const l=un.getTransfer(o);if(s===Ro)return t.UNSIGNED_BYTE;if(s===LC)return t.UNSIGNED_SHORT_4_4_4_4;if(s===IC)return t.UNSIGNED_SHORT_5_5_5_1;if(s===gj)return t.BYTE;if(s===vj)return t.SHORT;if(s===z_)return t.UNSIGNED_SHORT;if(s===NC)return t.INT;if(s===ca)return t.UNSIGNED_INT;if(s===js)return t.FLOAT;if(s===Ih)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===yj)return t.ALPHA;if(s===oi)return t.RGBA;if(s===xj)return t.LUMINANCE;if(s===_j)return t.LUMINANCE_ALPHA;if(s===Al)return t.DEPTH_COMPONENT;if(s===du)return t.DEPTH_STENCIL;if(s===Ox)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===wj)return t.RED;if(s===DC)return t.RED_INTEGER;if(s===bj)return t.RG;if(s===OC)return t.RG_INTEGER;if(s===FC)return t.RGBA_INTEGER;if(s===U0||s===z0||s===B0||s===j0)if(l===gn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===U0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===z0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===B0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===j0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===U0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===z0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===B0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===j0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===MM||s===TM||s===AM||s===CM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===MM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===TM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===AM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===CM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===UC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===PM||s===RM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===PM)return l===gn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===RM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===kM||s===NM||s===LM||s===IM||s===DM||s===OM||s===FM||s===UM||s===zM||s===BM||s===jM||s===VM||s===HM||s===WM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===kM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===NM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===LM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===IM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===DM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===OM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===FM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===UM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===zM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===jM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===VM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===HM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===WM)return l===gn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===V0||s===GM||s===$M)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===V0)return l===gn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===GM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===$M)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Sj||s===XM||s===qM||s===YM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===V0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===XM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===qM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===YM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Tl?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class Zj extends Gn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Yd extends sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pae={type:"move"};class n1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Yd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Yd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Yd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=u.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(pae)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Yd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class mae extends Ca{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,p=null,m=null,v=null;const x=n.getContextAttributes();let y=null,g=null;const w=[],b=[],M=new we;let C=null;const P=new Gn;P.layers.enable(1),P.viewport=new cn;const R=new Gn;R.layers.enable(2),R.viewport=new cn;const O=[P,R],k=new Zj;k.layers.enable(1),k.layers.enable(2);let L=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let ue=w[Y];return ue===void 0&&(ue=new n1,w[Y]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(Y){let ue=w[Y];return ue===void 0&&(ue=new n1,w[Y]=ue),ue.getGripSpace()},this.getHand=function(Y){let ue=w[Y];return ue===void 0&&(ue=new n1,w[Y]=ue),ue.getHandSpace()};function G(Y){const ue=b.indexOf(Y.inputSource);if(ue===-1)return;const Me=w[ue];Me!==void 0&&(Me.update(Y.inputSource,Y.frame,c||o),Me.dispatchEvent({type:Y.type,data:Y.inputSource}))}function te(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",te),i.removeEventListener("inputsourceschange",B);for(let Y=0;Y<w.length;Y++){const ue=b[Y];ue!==null&&(b[Y]=null,w[Y].disconnect(ue))}L=null,z=null,e.setRenderTarget(y),m=null,p=null,h=null,i=null,g=null,re.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",te),i.addEventListener("inputsourceschange",B),x.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ue={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,ue),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),g=new Ks(m.framebufferWidth,m.framebufferHeight,{format:oi,type:Ro,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let ue=null,Me=null,be=null;x.depth&&(be=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ue=x.stencil?du:Al,Me=x.stencil?Tl:ca);const Se={colorFormat:n.RGBA8,depthFormat:be,scaleFactor:s};h=new XRWebGLBinding(i,n),p=h.createProjectionLayer(Se),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),g=new Ks(p.textureWidth,p.textureHeight,{format:oi,type:Ro,depthTexture:new YC(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const Le=e.properties.get(g);Le.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),re.setContext(i),re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function B(Y){for(let ue=0;ue<Y.removed.length;ue++){const Me=Y.removed[ue],be=b.indexOf(Me);be>=0&&(b[be]=null,w[be].disconnect(Me))}for(let ue=0;ue<Y.added.length;ue++){const Me=Y.added[ue];let be=b.indexOf(Me);if(be===-1){for(let Le=0;Le<w.length;Le++)if(Le>=b.length){b.push(Me),be=Le;break}else if(b[Le]===null){b[Le]=Me,be=Le;break}if(be===-1)break}const Se=w[be];Se&&Se.connect(Me)}}const Z=new H,J=new H;function ne(Y,ue,Me){Z.setFromMatrixPosition(ue.matrixWorld),J.setFromMatrixPosition(Me.matrixWorld);const be=Z.distanceTo(J),Se=ue.projectionMatrix.elements,Le=Me.projectionMatrix.elements,je=Se[14]/(Se[10]-1),xe=Se[14]/(Se[10]+1),ze=(Se[9]+1)/Se[5],q=(Se[9]-1)/Se[5],Ee=(Se[8]-1)/Se[0],ge=(Le[8]+1)/Le[0],ke=je*Ee,ve=je*ge,rt=be/(-Ee+ge),W=rt*-Ee;ue.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(W),Y.translateZ(rt),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const D=je+rt,I=xe+rt,K=ke-W,oe=ve+(be-W),ie=ze*xe/I*D,le=q*xe/I*D;Y.projectionMatrix.makePerspective(K,oe,ie,le,D,I),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function F(Y,ue){ue===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(ue.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;k.near=R.near=P.near=Y.near,k.far=R.far=P.far=Y.far,(L!==k.near||z!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),L=k.near,z=k.far);const ue=Y.parent,Me=k.cameras;F(k,ue);for(let be=0;be<Me.length;be++)F(Me[be],ue);Me.length===2?ne(k,P,R):k.projectionMatrix.copy(P.projectionMatrix),j(Y,k,ue)};function j(Y,ue,Me){Me===null?Y.matrix.copy(ue.matrixWorld):(Y.matrix.copy(Me.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(ue.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(ue.projectionMatrix),Y.projectionMatrixInverse.copy(ue.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=Oh*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Y){l=Y,p!==null&&(p.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)};let U=null;function $(Y,ue){if(u=ue.getViewerPose(c||o),v=ue,u!==null){const Me=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let be=!1;Me.length!==k.cameras.length&&(k.cameras.length=0,be=!0);for(let Se=0;Se<Me.length;Se++){const Le=Me[Se];let je=null;if(m!==null)je=m.getViewport(Le);else{const ze=h.getViewSubImage(p,Le);je=ze.viewport,Se===0&&(e.setRenderTargetTextures(g,ze.colorTexture,p.ignoreDepthValues?void 0:ze.depthStencilTexture),e.setRenderTarget(g))}let xe=O[Se];xe===void 0&&(xe=new Gn,xe.layers.enable(Se),xe.viewport=new cn,O[Se]=xe),xe.matrix.fromArray(Le.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(Le.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(je.x,je.y,je.width,je.height),Se===0&&(k.matrix.copy(xe.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),be===!0&&k.cameras.push(xe)}}for(let Me=0;Me<w.length;Me++){const be=b[Me],Se=w[Me];be!==null&&Se!==void 0&&Se.update(be,ue,c||o)}U&&U(Y,ue),ue.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ue}),v=null}const re=new Wj;re.setAnimationLoop($),this.setAnimationLoop=function(Y){U=Y},this.dispose=function(){}}}function gae(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,jj(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,w,b,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),h(y,g)):g.isMeshPhongMaterial?(s(y,g),u(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,M)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,w,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===ci&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===ci&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const b=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*b,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,w,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*w,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function h(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),e.get(g).envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,w){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ci&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const w=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function vae(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,b){const M=b.program;r.uniformBlockBinding(w,M)}function c(w,b){let M=i[w.id];M===void 0&&(v(w),M=u(w),i[w.id]=M,w.addEventListener("dispose",y));const C=b.program;r.updateUBOMapping(w,C);const P=e.render.frame;s[w.id]!==P&&(p(w),s[w.id]=P)}function u(w){const b=h();w.__bindingPointIndex=b;const M=t.createBuffer(),C=w.__size,P=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,C,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,M),M}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const b=i[w.id],M=w.uniforms,C=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let P=0,R=M.length;P<R;P++){const O=Array.isArray(M[P])?M[P]:[M[P]];for(let k=0,L=O.length;k<L;k++){const z=O[k];if(m(z,P,k,C)===!0){const G=z.__offset,te=Array.isArray(z.value)?z.value:[z.value];let B=0;for(let Z=0;Z<te.length;Z++){const J=te[Z],ne=x(J);typeof J=="number"||typeof J=="boolean"?(z.__data[0]=J,t.bufferSubData(t.UNIFORM_BUFFER,G+B,z.__data)):J.isMatrix3?(z.__data[0]=J.elements[0],z.__data[1]=J.elements[1],z.__data[2]=J.elements[2],z.__data[3]=0,z.__data[4]=J.elements[3],z.__data[5]=J.elements[4],z.__data[6]=J.elements[5],z.__data[7]=0,z.__data[8]=J.elements[6],z.__data[9]=J.elements[7],z.__data[10]=J.elements[8],z.__data[11]=0):(J.toArray(z.__data,B),B+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,z.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,b,M,C){const P=w.value,R=b+"_"+M;if(C[R]===void 0)return typeof P=="number"||typeof P=="boolean"?C[R]=P:C[R]=P.clone(),!0;{const O=C[R];if(typeof P=="number"||typeof P=="boolean"){if(O!==P)return C[R]=P,!0}else if(O.equals(P)===!1)return O.copy(P),!0}return!1}function v(w){const b=w.uniforms;let M=0;const C=16;for(let R=0,O=b.length;R<O;R++){const k=Array.isArray(b[R])?b[R]:[b[R]];for(let L=0,z=k.length;L<z;L++){const G=k[L],te=Array.isArray(G.value)?G.value:[G.value];for(let B=0,Z=te.length;B<Z;B++){const J=te[B],ne=x(J),F=M%C;F!==0&&C-F<ne.boundary&&(M+=C-F),G.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=M,M+=ne.storage}}}const P=M%C;return P>0&&(M+=C-P),w.__size=M,w.__cache={},this}function x(w){const b={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function y(w){const b=w.target;b.removeEventListener("dispose",y);const M=o.indexOf(b.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function g(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class JC{constructor(e={}){const{canvas:n=Uj(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,y=null;const g=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=cr,this._useLegacyLights=!1,this.toneMapping=Po,this.toneMappingExposure=1;const b=this;let M=!1,C=0,P=0,R=null,O=-1,k=null;const L=new cn,z=new cn;let G=null;const te=new Ke(0);let B=0,Z=n.width,J=n.height,ne=1,F=null,j=null;const U=new cn(0,0,Z,J),$=new cn(0,0,Z,J);let re=!1;const Y=new Cg;let ue=!1,Me=!1,be=null;const Se=new St,Le=new we,je=new H,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return R===null?ne:1}let q=r;function Ee(V,ce){for(let fe=0;fe<V.length;fe++){const pe=V[fe],he=n.getContext(pe,ce);if(he!==null)return he}return null}try{const V={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${bg}`),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",ee,!1),n.addEventListener("webglcontextcreationerror",Fe,!1),q===null){const ce=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&ce.shift(),q=Ee(ce,V),q===null)throw Ee(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let ge,ke,ve,rt,W,D,I,K,oe,ie,le,Ne,Ie,Oe,Qe,dt,Re,kt,Et,ft,ot,$e,Q,Te;function Ae(){ge=new kse(q),ke=new Mse(q,ge,e),ge.init(ke),$e=new Kj(q,ge,ke),ve=new hae(q,ge,ke),rt=new Ise(q),W=new eae,D=new fae(q,ge,ve,W,ke,$e,rt),I=new Ase(b),K=new Rse(b),oe=new Vne(q,ke),Q=new Sse(q,ge,oe,ke),ie=new Nse(q,oe,rt,Q),le=new Use(q,ie,oe,rt),Et=new Fse(q,ke,D),dt=new Tse(W),Ne=new Qoe(b,I,K,ge,ke,Q,dt),Ie=new gae(b,W),Oe=new nae,Qe=new lae(ge,ke),kt=new bse(b,I,K,ve,le,p,l),Re=new dae(b,le,ke),Te=new vae(q,rt,ke,ve),ft=new Ese(q,ge,rt,ke),ot=new Lse(q,ge,rt,ke),rt.programs=Ne.programs,b.capabilities=ke,b.extensions=ge,b.properties=W,b.renderLists=Oe,b.shadowMap=Re,b.state=ve,b.info=rt}Ae();const De=new mae(b,q);this.xr=De,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const V=ge.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=ge.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(V){V!==void 0&&(ne=V,this.setSize(Z,J,!1))},this.getSize=function(V){return V.set(Z,J)},this.setSize=function(V,ce,fe=!0){if(De.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=V,J=ce,n.width=Math.floor(V*ne),n.height=Math.floor(ce*ne),fe===!0&&(n.style.width=V+"px",n.style.height=ce+"px"),this.setViewport(0,0,V,ce)},this.getDrawingBufferSize=function(V){return V.set(Z*ne,J*ne).floor()},this.setDrawingBufferSize=function(V,ce,fe){Z=V,J=ce,ne=fe,n.width=Math.floor(V*fe),n.height=Math.floor(ce*fe),this.setViewport(0,0,V,ce)},this.getCurrentViewport=function(V){return V.copy(L)},this.getViewport=function(V){return V.copy(U)},this.setViewport=function(V,ce,fe,pe){V.isVector4?U.set(V.x,V.y,V.z,V.w):U.set(V,ce,fe,pe),ve.viewport(L.copy(U).multiplyScalar(ne).floor())},this.getScissor=function(V){return V.copy($)},this.setScissor=function(V,ce,fe,pe){V.isVector4?$.set(V.x,V.y,V.z,V.w):$.set(V,ce,fe,pe),ve.scissor(z.copy($).multiplyScalar(ne).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(V){ve.setScissorTest(re=V)},this.setOpaqueSort=function(V){F=V},this.setTransparentSort=function(V){j=V},this.getClearColor=function(V){return V.copy(kt.getClearColor())},this.setClearColor=function(){kt.setClearColor.apply(kt,arguments)},this.getClearAlpha=function(){return kt.getClearAlpha()},this.setClearAlpha=function(){kt.setClearAlpha.apply(kt,arguments)},this.clear=function(V=!0,ce=!0,fe=!0){let pe=0;if(V){let he=!1;if(R!==null){const Ze=R.texture.format;he=Ze===FC||Ze===OC||Ze===DC}if(he){const Ze=R.texture.type,lt=Ze===Ro||Ze===ca||Ze===z_||Ze===Tl||Ze===LC||Ze===IC,gt=kt.getClearColor(),yt=kt.getClearAlpha(),At=gt.r,Mt=gt.g,Ct=gt.b;lt?(m[0]=At,m[1]=Mt,m[2]=Ct,m[3]=yt,q.clearBufferuiv(q.COLOR,0,m)):(v[0]=At,v[1]=Mt,v[2]=Ct,v[3]=yt,q.clearBufferiv(q.COLOR,0,v))}else pe|=q.COLOR_BUFFER_BIT}ce&&(pe|=q.DEPTH_BUFFER_BIT),fe&&(pe|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",ee,!1),n.removeEventListener("webglcontextcreationerror",Fe,!1),Oe.dispose(),Qe.dispose(),W.dispose(),I.dispose(),K.dispose(),le.dispose(),Q.dispose(),Te.dispose(),Ne.dispose(),De.dispose(),De.removeEventListener("sessionstart",En),De.removeEventListener("sessionend",Jt),be&&(be.dispose(),be=null),Sr.stop()};function _e(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ee(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const V=rt.autoReset,ce=Re.enabled,fe=Re.autoUpdate,pe=Re.needsUpdate,he=Re.type;Ae(),rt.autoReset=V,Re.enabled=ce,Re.autoUpdate=fe,Re.needsUpdate=pe,Re.type=he}function Fe(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function He(V){const ce=V.target;ce.removeEventListener("dispose",He),ht(ce)}function ht(V){it(V),W.remove(V)}function it(V){const ce=W.get(V).programs;ce!==void 0&&(ce.forEach(function(fe){Ne.releaseProgram(fe)}),V.isShaderMaterial&&Ne.releaseShaderCache(V))}this.renderBufferDirect=function(V,ce,fe,pe,he,Ze){ce===null&&(ce=xe);const lt=he.isMesh&&he.matrixWorld.determinant()<0,gt=Mw(V,ce,fe,pe,he);ve.setMaterial(pe,lt);let yt=fe.index,At=1;if(pe.wireframe===!0){if(yt=ie.getWireframeAttribute(fe),yt===void 0)return;At=2}const Mt=fe.drawRange,Ct=fe.attributes.position;let Pn=Mt.start*At,Er=(Mt.start+Mt.count)*At;Ze!==null&&(Pn=Math.max(Pn,Ze.start*At),Er=Math.min(Er,(Ze.start+Ze.count)*At)),yt!==null?(Pn=Math.max(Pn,0),Er=Math.min(Er,yt.count)):Ct!=null&&(Pn=Math.max(Pn,0),Er=Math.min(Er,Ct.count));const _n=Er-Pn;if(_n<0||_n===1/0)return;Q.setup(he,pe,gt,fe,yt);let pr,xt=ft;if(yt!==null&&(pr=oe.get(yt),xt=ot,xt.setIndex(pr)),he.isMesh)pe.wireframe===!0?(ve.setLineWidth(pe.wireframeLinewidth*ze()),xt.setMode(q.LINES)):xt.setMode(q.TRIANGLES);else if(he.isLine){let tt=pe.linewidth;tt===void 0&&(tt=1),ve.setLineWidth(tt*ze()),he.isLineSegments?xt.setMode(q.LINES):he.isLineLoop?xt.setMode(q.LINE_LOOP):xt.setMode(q.LINE_STRIP)}else he.isPoints?xt.setMode(q.POINTS):he.isSprite&&xt.setMode(q.TRIANGLES);if(he.isBatchedMesh)xt.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else if(he.isInstancedMesh)xt.renderInstances(Pn,_n,he.count);else if(fe.isInstancedBufferGeometry){const tt=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,es=Math.min(fe.instanceCount,tt);xt.renderInstances(Pn,_n,es)}else xt.render(Pn,_n)};function Wt(V,ce,fe){V.transparent===!0&&V.side===wo&&V.forceSinglePass===!1?(V.side=ci,V.needsUpdate=!0,Lu(V,ce,fe),V.side=ba,V.needsUpdate=!0,Lu(V,ce,fe),V.side=wo):Lu(V,ce,fe)}this.compile=function(V,ce,fe=null){fe===null&&(fe=V),y=Qe.get(fe),y.init(),w.push(y),fe.traverseVisible(function(he){he.isLight&&he.layers.test(ce.layers)&&(y.pushLight(he),he.castShadow&&y.pushShadow(he))}),V!==fe&&V.traverseVisible(function(he){he.isLight&&he.layers.test(ce.layers)&&(y.pushLight(he),he.castShadow&&y.pushShadow(he))}),y.setupLights(b._useLegacyLights);const pe=new Set;return V.traverse(function(he){const Ze=he.material;if(Ze)if(Array.isArray(Ze))for(let lt=0;lt<Ze.length;lt++){const gt=Ze[lt];Wt(gt,fe,he),pe.add(gt)}else Wt(Ze,fe,he),pe.add(Ze)}),w.pop(),y=null,pe},this.compileAsync=function(V,ce,fe=null){const pe=this.compile(V,ce,fe);return new Promise(he=>{function Ze(){if(pe.forEach(function(lt){W.get(lt).currentProgram.isReady()&&pe.delete(lt)}),pe.size===0){he(V);return}setTimeout(Ze,10)}ge.get("KHR_parallel_shader_compile")!==null?Ze():setTimeout(Ze,10)})};let Kt=null;function fn(V){Kt&&Kt(V)}function En(){Sr.stop()}function Jt(){Sr.start()}const Sr=new Wj;Sr.setAnimationLoop(fn),typeof self<"u"&&Sr.setContext(self),this.setAnimationLoop=function(V){Kt=V,De.setAnimationLoop(V),V===null?Sr.stop():Sr.start()},De.addEventListener("sessionstart",En),De.addEventListener("sessionend",Jt),this.render=function(V,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(De.cameraAutoUpdate===!0&&De.updateCamera(ce),ce=De.getCamera()),V.isScene===!0&&V.onBeforeRender(b,V,ce,R),y=Qe.get(V,w.length),y.init(),w.push(y),Se.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),Y.setFromProjectionMatrix(Se),Me=this.localClippingEnabled,ue=dt.init(this.clippingPlanes,Me),x=Oe.get(V,g.length),x.init(),g.push(x),Qi(V,ce,0,b.sortObjects),x.finish(),b.sortObjects===!0&&x.sort(F,j),this.info.render.frame++,ue===!0&&dt.beginShadows();const fe=y.state.shadowsArray;if(Re.render(fe,V,ce),ue===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset(),kt.render(x,V),y.setupLights(b._useLegacyLights),ce.isArrayCamera){const pe=ce.cameras;for(let he=0,Ze=pe.length;he<Ze;he++){const lt=pe[he];lf(x,V,lt,lt.viewport)}}else lf(x,V,ce);R!==null&&(D.updateMultisampleRenderTarget(R),D.updateRenderTargetMipmap(R)),V.isScene===!0&&V.onAfterRender(b,V,ce),Q.resetDefaultState(),O=-1,k=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function Qi(V,ce,fe,pe){if(V.visible===!1)return;if(V.layers.test(ce.layers)){if(V.isGroup)fe=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ce);else if(V.isLight)y.pushLight(V),V.castShadow&&y.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||Y.intersectsSprite(V)){pe&&je.setFromMatrixPosition(V.matrixWorld).applyMatrix4(Se);const lt=le.update(V),gt=V.material;gt.visible&&x.push(V,lt,gt,fe,je.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||Y.intersectsObject(V))){const lt=le.update(V),gt=V.material;if(pe&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),je.copy(V.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),je.copy(lt.boundingSphere.center)),je.applyMatrix4(V.matrixWorld).applyMatrix4(Se)),Array.isArray(gt)){const yt=lt.groups;for(let At=0,Mt=yt.length;At<Mt;At++){const Ct=yt[At],Pn=gt[Ct.materialIndex];Pn&&Pn.visible&&x.push(V,lt,Pn,fe,je.z,Ct)}}else gt.visible&&x.push(V,lt,gt,fe,je.z,null)}}const Ze=V.children;for(let lt=0,gt=Ze.length;lt<gt;lt++)Qi(Ze[lt],ce,fe,pe)}function lf(V,ce,fe,pe){const he=V.opaque,Ze=V.transmissive,lt=V.transparent;y.setupLightsView(fe),ue===!0&&dt.setGlobalState(b.clippingPlanes,fe),Ze.length>0&&cf(he,Ze,ce,fe),pe&&ve.viewport(L.copy(pe)),he.length>0&&Nu(he,ce,fe),Ze.length>0&&Nu(Ze,ce,fe),lt.length>0&&Nu(lt,ce,fe),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function cf(V,ce,fe,pe){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;const Ze=ke.isWebGL2;be===null&&(be=new Ks(1,1,{generateMipmaps:!0,type:ge.has("EXT_color_buffer_half_float")?Ih:Ro,minFilter:Bl,samples:Ze?4:0})),b.getDrawingBufferSize(Le),Ze?be.setSize(Le.x,Le.y):be.setSize(Fx(Le.x),Fx(Le.y));const lt=b.getRenderTarget();b.setRenderTarget(be),b.getClearColor(te),B=b.getClearAlpha(),B<1&&b.setClearColor(16777215,.5),b.clear();const gt=b.toneMapping;b.toneMapping=Po,Nu(V,fe,pe),D.updateMultisampleRenderTarget(be),D.updateRenderTargetMipmap(be);let yt=!1;for(let At=0,Mt=ce.length;At<Mt;At++){const Ct=ce[At],Pn=Ct.object,Er=Ct.geometry,_n=Ct.material,pr=Ct.group;if(_n.side===wo&&Pn.layers.test(pe.layers)){const xt=_n.side;_n.side=ci,_n.needsUpdate=!0,Pa(Pn,fe,pe,Er,_n,pr),_n.side=xt,_n.needsUpdate=!0,yt=!0}}yt===!0&&(D.updateMultisampleRenderTarget(be),D.updateRenderTargetMipmap(be)),b.setRenderTarget(lt),b.setClearColor(te,B),b.toneMapping=gt}function Nu(V,ce,fe){const pe=ce.isScene===!0?ce.overrideMaterial:null;for(let he=0,Ze=V.length;he<Ze;he++){const lt=V[he],gt=lt.object,yt=lt.geometry,At=pe===null?lt.material:pe,Mt=lt.group;gt.layers.test(fe.layers)&&Pa(gt,ce,fe,yt,At,Mt)}}function Pa(V,ce,fe,pe,he,Ze){V.onBeforeRender(b,ce,fe,pe,he,Ze),V.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),he.onBeforeRender(b,ce,fe,pe,V,Ze),he.transparent===!0&&he.side===wo&&he.forceSinglePass===!1?(he.side=ci,he.needsUpdate=!0,b.renderBufferDirect(fe,ce,pe,he,V,Ze),he.side=ba,he.needsUpdate=!0,b.renderBufferDirect(fe,ce,pe,he,V,Ze),he.side=wo):b.renderBufferDirect(fe,ce,pe,he,V,Ze),V.onAfterRender(b,ce,fe,pe,he,Ze)}function Lu(V,ce,fe){ce.isScene!==!0&&(ce=xe);const pe=W.get(V),he=y.state.lights,Ze=y.state.shadowsArray,lt=he.state.version,gt=Ne.getParameters(V,he.state,Ze,ce,fe),yt=Ne.getProgramCacheKey(gt);let At=pe.programs;pe.environment=V.isMeshStandardMaterial?ce.environment:null,pe.fog=ce.fog,pe.envMap=(V.isMeshStandardMaterial?K:I).get(V.envMap||pe.environment),At===void 0&&(V.addEventListener("dispose",He),At=new Map,pe.programs=At);let Mt=At.get(yt);if(Mt!==void 0){if(pe.currentProgram===Mt&&pe.lightsStateVersion===lt)return Hg(V,gt),Mt}else gt.uniforms=Ne.getUniforms(V),V.onBuild(fe,gt,b),V.onBeforeCompile(gt,b),Mt=Ne.acquireProgram(gt,yt),At.set(yt,Mt),pe.uniforms=gt.uniforms;const Ct=pe.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Ct.clippingPlanes=dt.uniform),Hg(V,gt),pe.needsLights=Aw(V),pe.lightsStateVersion=lt,pe.needsLights&&(Ct.ambientLightColor.value=he.state.ambient,Ct.lightProbe.value=he.state.probe,Ct.directionalLights.value=he.state.directional,Ct.directionalLightShadows.value=he.state.directionalShadow,Ct.spotLights.value=he.state.spot,Ct.spotLightShadows.value=he.state.spotShadow,Ct.rectAreaLights.value=he.state.rectArea,Ct.ltc_1.value=he.state.rectAreaLTC1,Ct.ltc_2.value=he.state.rectAreaLTC2,Ct.pointLights.value=he.state.point,Ct.pointLightShadows.value=he.state.pointShadow,Ct.hemisphereLights.value=he.state.hemi,Ct.directionalShadowMap.value=he.state.directionalShadowMap,Ct.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Ct.spotShadowMap.value=he.state.spotShadowMap,Ct.spotLightMatrix.value=he.state.spotLightMatrix,Ct.spotLightMap.value=he.state.spotLightMap,Ct.pointShadowMap.value=he.state.pointShadowMap,Ct.pointShadowMatrix.value=he.state.pointShadowMatrix),pe.currentProgram=Mt,pe.uniformsList=null,Mt}function Vg(V){if(V.uniformsList===null){const ce=V.currentProgram.getUniforms();V.uniformsList=W0.seqWithValue(ce.seq,V.uniforms)}return V.uniformsList}function Hg(V,ce){const fe=W.get(V);fe.outputColorSpace=ce.outputColorSpace,fe.batching=ce.batching,fe.instancing=ce.instancing,fe.instancingColor=ce.instancingColor,fe.skinning=ce.skinning,fe.morphTargets=ce.morphTargets,fe.morphNormals=ce.morphNormals,fe.morphColors=ce.morphColors,fe.morphTargetsCount=ce.morphTargetsCount,fe.numClippingPlanes=ce.numClippingPlanes,fe.numIntersection=ce.numClipIntersection,fe.vertexAlphas=ce.vertexAlphas,fe.vertexTangents=ce.vertexTangents,fe.toneMapping=ce.toneMapping}function Mw(V,ce,fe,pe,he){ce.isScene!==!0&&(ce=xe),D.resetTextureUnits();const Ze=ce.fog,lt=pe.isMeshStandardMaterial?ce.environment:null,gt=R===null?b.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Io,yt=(pe.isMeshStandardMaterial?K:I).get(pe.envMap||lt),At=pe.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Mt=!!fe.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),Ct=!!fe.morphAttributes.position,Pn=!!fe.morphAttributes.normal,Er=!!fe.morphAttributes.color;let _n=Po;pe.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(_n=b.toneMapping);const pr=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,xt=pr!==void 0?pr.length:0,tt=W.get(pe),es=y.state.lights;if(ue===!0&&(Me===!0||V!==k)){const Mr=V===k&&pe.id===O;dt.setState(pe,V,Mr)}let Vt=!1;pe.version===tt.__version?(tt.needsLights&&tt.lightsStateVersion!==es.state.version||tt.outputColorSpace!==gt||he.isBatchedMesh&&tt.batching===!1||!he.isBatchedMesh&&tt.batching===!0||he.isInstancedMesh&&tt.instancing===!1||!he.isInstancedMesh&&tt.instancing===!0||he.isSkinnedMesh&&tt.skinning===!1||!he.isSkinnedMesh&&tt.skinning===!0||he.isInstancedMesh&&tt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&tt.instancingColor===!1&&he.instanceColor!==null||tt.envMap!==yt||pe.fog===!0&&tt.fog!==Ze||tt.numClippingPlanes!==void 0&&(tt.numClippingPlanes!==dt.numPlanes||tt.numIntersection!==dt.numIntersection)||tt.vertexAlphas!==At||tt.vertexTangents!==Mt||tt.morphTargets!==Ct||tt.morphNormals!==Pn||tt.morphColors!==Er||tt.toneMapping!==_n||ke.isWebGL2===!0&&tt.morphTargetsCount!==xt)&&(Vt=!0):(Vt=!0,tt.__version=pe.version);let Fn=tt.currentProgram;Vt===!0&&(Fn=Lu(pe,ce,he));let ro=!1,ts=!1,mr=!1;const Xn=Fn.getUniforms(),io=tt.uniforms;if(ve.useProgram(Fn.program)&&(ro=!0,ts=!0,mr=!0),pe.id!==O&&(O=pe.id,ts=!0),ro||k!==V){Xn.setValue(q,"projectionMatrix",V.projectionMatrix),Xn.setValue(q,"viewMatrix",V.matrixWorldInverse);const Mr=Xn.map.cameraPosition;Mr!==void 0&&Mr.setValue(q,je.setFromMatrixPosition(V.matrixWorld)),ke.logarithmicDepthBuffer&&Xn.setValue(q,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&Xn.setValue(q,"isOrthographic",V.isOrthographicCamera===!0),k!==V&&(k=V,ts=!0,mr=!0)}if(he.isSkinnedMesh){Xn.setOptional(q,he,"bindMatrix"),Xn.setOptional(q,he,"bindMatrixInverse");const Mr=he.skeleton;Mr&&(ke.floatVertexTextures?(Mr.boneTexture===null&&Mr.computeBoneTexture(),Xn.setValue(q,"boneTexture",Mr.boneTexture,D)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}he.isBatchedMesh&&(Xn.setOptional(q,he,"batchingTexture"),Xn.setValue(q,"batchingTexture",he._matricesTexture,D));const Iu=fe.morphAttributes;if((Iu.position!==void 0||Iu.normal!==void 0||Iu.color!==void 0&&ke.isWebGL2===!0)&&Et.update(he,fe,Fn),(ts||tt.receiveShadow!==he.receiveShadow)&&(tt.receiveShadow=he.receiveShadow,Xn.setValue(q,"receiveShadow",he.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(io.envMap.value=yt,io.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),ts&&(Xn.setValue(q,"toneMappingExposure",b.toneMappingExposure),tt.needsLights&&Tw(io,mr),Ze&&pe.fog===!0&&Ie.refreshFogUniforms(io,Ze),Ie.refreshMaterialUniforms(io,pe,ne,J,be),W0.upload(q,Vg(tt),io,D)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(W0.upload(q,Vg(tt),io,D),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&Xn.setValue(q,"center",he.center),Xn.setValue(q,"modelViewMatrix",he.modelViewMatrix),Xn.setValue(q,"normalMatrix",he.normalMatrix),Xn.setValue(q,"modelMatrix",he.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const Mr=pe.uniformsGroups;for(let Du=0,ki=Mr.length;Du<ki;Du++)if(ke.isWebGL2){const Wg=Mr[Du];Te.update(Wg,Fn),Te.bind(Wg,Fn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Fn}function Tw(V,ce){V.ambientLightColor.needsUpdate=ce,V.lightProbe.needsUpdate=ce,V.directionalLights.needsUpdate=ce,V.directionalLightShadows.needsUpdate=ce,V.pointLights.needsUpdate=ce,V.pointLightShadows.needsUpdate=ce,V.spotLights.needsUpdate=ce,V.spotLightShadows.needsUpdate=ce,V.rectAreaLights.needsUpdate=ce,V.hemisphereLights.needsUpdate=ce}function Aw(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(V,ce,fe){W.get(V.texture).__webglTexture=ce,W.get(V.depthTexture).__webglTexture=fe;const pe=W.get(V);pe.__hasExternalTextures=!0,pe.__hasExternalTextures&&(pe.__autoAllocateDepthBuffer=fe===void 0,pe.__autoAllocateDepthBuffer||ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,ce){const fe=W.get(V);fe.__webglFramebuffer=ce,fe.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(V,ce=0,fe=0){R=V,C=ce,P=fe;let pe=!0,he=null,Ze=!1,lt=!1;if(V){const yt=W.get(V);yt.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(q.FRAMEBUFFER,null),pe=!1):yt.__webglFramebuffer===void 0?D.setupRenderTarget(V):yt.__hasExternalTextures&&D.rebindTextures(V,W.get(V.texture).__webglTexture,W.get(V.depthTexture).__webglTexture);const At=V.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(lt=!0);const Mt=W.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(Mt[ce])?he=Mt[ce][fe]:he=Mt[ce],Ze=!0):ke.isWebGL2&&V.samples>0&&D.useMultisampledRTT(V)===!1?he=W.get(V).__webglMultisampledFramebuffer:Array.isArray(Mt)?he=Mt[fe]:he=Mt,L.copy(V.viewport),z.copy(V.scissor),G=V.scissorTest}else L.copy(U).multiplyScalar(ne).floor(),z.copy($).multiplyScalar(ne).floor(),G=re;if(ve.bindFramebuffer(q.FRAMEBUFFER,he)&&ke.drawBuffers&&pe&&ve.drawBuffers(V,he),ve.viewport(L),ve.scissor(z),ve.setScissorTest(G),Ze){const yt=W.get(V.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+ce,yt.__webglTexture,fe)}else if(lt){const yt=W.get(V.texture),At=ce||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,yt.__webglTexture,fe||0,At)}O=-1},this.readRenderTargetPixels=function(V,ce,fe,pe,he,Ze,lt){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=W.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&lt!==void 0&&(gt=gt[lt]),gt){ve.bindFramebuffer(q.FRAMEBUFFER,gt);try{const yt=V.texture,At=yt.format,Mt=yt.type;if(At!==oi&&$e.convert(At)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=Mt===Ih&&(ge.has("EXT_color_buffer_half_float")||ke.isWebGL2&&ge.has("EXT_color_buffer_float"));if(Mt!==Ro&&$e.convert(Mt)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Mt===js&&(ke.isWebGL2||ge.has("OES_texture_float")||ge.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=V.width-pe&&fe>=0&&fe<=V.height-he&&q.readPixels(ce,fe,pe,he,$e.convert(At),$e.convert(Mt),Ze)}finally{const yt=R!==null?W.get(R).__webglFramebuffer:null;ve.bindFramebuffer(q.FRAMEBUFFER,yt)}}},this.copyFramebufferToTexture=function(V,ce,fe=0){const pe=Math.pow(2,-fe),he=Math.floor(ce.image.width*pe),Ze=Math.floor(ce.image.height*pe);D.setTexture2D(ce,0),q.copyTexSubImage2D(q.TEXTURE_2D,fe,0,0,V.x,V.y,he,Ze),ve.unbindTexture()},this.copyTextureToTexture=function(V,ce,fe,pe=0){const he=ce.image.width,Ze=ce.image.height,lt=$e.convert(fe.format),gt=$e.convert(fe.type);D.setTexture2D(fe,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,fe.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,fe.unpackAlignment),ce.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,pe,V.x,V.y,he,Ze,lt,gt,ce.image.data):ce.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,pe,V.x,V.y,ce.mipmaps[0].width,ce.mipmaps[0].height,lt,ce.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,pe,V.x,V.y,lt,gt,ce.image),pe===0&&fe.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),ve.unbindTexture()},this.copyTextureToTexture3D=function(V,ce,fe,pe,he=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ze=V.max.x-V.min.x+1,lt=V.max.y-V.min.y+1,gt=V.max.z-V.min.z+1,yt=$e.convert(pe.format),At=$e.convert(pe.type);let Mt;if(pe.isData3DTexture)D.setTexture3D(pe,0),Mt=q.TEXTURE_3D;else if(pe.isDataArrayTexture||pe.isCompressedArrayTexture)D.setTexture2DArray(pe,0),Mt=q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,pe.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,pe.unpackAlignment);const Ct=q.getParameter(q.UNPACK_ROW_LENGTH),Pn=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Er=q.getParameter(q.UNPACK_SKIP_PIXELS),_n=q.getParameter(q.UNPACK_SKIP_ROWS),pr=q.getParameter(q.UNPACK_SKIP_IMAGES),xt=fe.isCompressedTexture?fe.mipmaps[he]:fe.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,xt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,xt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,V.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,V.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,V.min.z),fe.isDataTexture||fe.isData3DTexture?q.texSubImage3D(Mt,he,ce.x,ce.y,ce.z,Ze,lt,gt,yt,At,xt.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Mt,he,ce.x,ce.y,ce.z,Ze,lt,gt,yt,xt.data)):q.texSubImage3D(Mt,he,ce.x,ce.y,ce.z,Ze,lt,gt,yt,At,xt),q.pixelStorei(q.UNPACK_ROW_LENGTH,Ct),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Pn),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Er),q.pixelStorei(q.UNPACK_SKIP_ROWS,_n),q.pixelStorei(q.UNPACK_SKIP_IMAGES,pr),he===0&&pe.generateMipmaps&&q.generateMipmap(Mt),ve.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?D.setTextureCube(V,0):V.isData3DTexture?D.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?D.setTexture2DArray(V,0):D.setTexture2D(V,0),ve.unbindTexture()},this.resetState=function(){C=0,P=0,R=null,ve.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===j_?"display-p3":"srgb",n.unpackColorSpace=un.workingColorSpace===Eg?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===cr?Cl:BC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Cl?cr:Io}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Jj extends JC{}Jj.prototype.isWebGL1Renderer=!0;class G_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ke(e),this.density=n}clone(){return new G_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class $_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ke(e),this.near=n,this.far=r}clone(){return new $_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ux extends sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class X_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Lm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qr=new H;class hu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyMatrix4(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyNormalMatrix(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.transformDirection(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}setX(e,n){return this.normalized&&(n=Ot(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ot(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ot(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ot(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Mi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Mi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Mi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Mi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ot(n,this.array),r=Ot(r,this.array),i=Ot(i,this.array),s=Ot(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new hn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QC extends kr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let fd;const Wf=new H,pd=new H,md=new H,gd=new we,Gf=new we,Qj=new St,Fy=new H,$f=new H,Uy=new H,bI=new we,r1=new we,SI=new we;class eV extends sn{constructor(e=new QC){if(super(),this.isSprite=!0,this.type="Sprite",fd===void 0){fd=new Ft;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new X_(n,5);fd.setIndex([0,1,2,0,2,3]),fd.setAttribute("position",new hu(r,3,0,!1)),fd.setAttribute("uv",new hu(r,2,3,!1))}this.geometry=fd,this.material=e,this.center=new we(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),pd.setFromMatrixScale(this.matrixWorld),Qj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),md.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&pd.multiplyScalar(-md.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;zy(Fy.set(-.5,-.5,0),md,o,pd,i,s),zy($f.set(.5,-.5,0),md,o,pd,i,s),zy(Uy.set(.5,.5,0),md,o,pd,i,s),bI.set(0,0),r1.set(1,0),SI.set(1,1);let a=e.ray.intersectTriangle(Fy,$f,Uy,!1,Wf);if(a===null&&(zy($f.set(-.5,.5,0),md,o,pd,i,s),r1.set(0,1),a=e.ray.intersectTriangle(Fy,Uy,$f,!1,Wf),a===null))return;const l=e.ray.origin.distanceTo(Wf);l<e.near||l>e.far||n.push({distance:l,point:Wf.clone(),uv:Si.getInterpolation(Wf,Fy,$f,Uy,bI,r1,SI,new we),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function zy(t,e,n,r,i,s){gd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Gf.x=s*gd.x-i*gd.y,Gf.y=i*gd.x+s*gd.y):Gf.copy(gd),t.copy(e),t.x+=Gf.x,t.y+=Gf.y,t.applyMatrix4(Qj)}const By=new H,EI=new H;class tV extends sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){By.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(By);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){By.setFromMatrixPosition(e.matrixWorld),EI.setFromMatrixPosition(this.matrixWorld);const r=By.distanceTo(EI)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const MI=new H,TI=new cn,AI=new cn,yae=new H,CI=new St,jy=new H,i1=new qr,PI=new St,s1=new Mu;class nV extends dr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=EM,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ui),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,jy),this.boundingBox.expandByPoint(jy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,jy),this.boundingSphere.expandByPoint(jy)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),i1.copy(this.boundingSphere),i1.applyMatrix4(i),e.ray.intersectsSphere(i1)!==!1&&(PI.copy(i).invert(),s1.copy(e.ray).applyMatrix4(PI),!(this.boundingBox!==null&&s1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,s1)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===EM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mj?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;TI.fromBufferAttribute(i.attributes.skinIndex,e),AI.fromBufferAttribute(i.attributes.skinWeight,e),MI.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=AI.getComponent(s);if(o!==0){const a=TI.getComponent(s);CI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(yae.copy(MI).applyMatrix4(CI),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class eP extends sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class nu extends $n{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Zn,u=Zn,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RI=new St,xae=new St;class q_{constructor(e=[],n=[]){this.uuid=Xi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new St;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:xae;RI.multiplyMatrices(a,n[s]),RI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new q_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new nu(n,e,e,oi,js);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new eP),this.bones.push(o),this.boneInverses.push(new St().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Uh extends hn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const vd=new St,kI=new St,Vy=[],NI=new ui,_ae=new St,Xf=new dr,qf=new qr;class rV extends dr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Uh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,_ae)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ui),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,vd),NI.copy(e.boundingBox).applyMatrix4(vd),this.boundingBox.union(NI)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new qr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,vd),qf.copy(e.boundingSphere).applyMatrix4(vd),this.boundingSphere.union(qf)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Xf.geometry=this.geometry,Xf.material=this.material,Xf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qf.copy(this.boundingSphere),qf.applyMatrix4(r),e.ray.intersectsSphere(qf)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,vd),kI.multiplyMatrices(r,vd),Xf.matrixWorld=kI,Xf.raycast(e,Vy);for(let o=0,a=Vy.length;o<a;o++){const l=Vy[o];l.instanceId=s,l.object=this,n.push(l)}Vy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Uh(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function wae(t,e){return t.z-e.z}function bae(t,e){return e.z-t.z}class Sae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const yd="batchId",$a=new St,LI=new St,Eae=new St,II=new St,o1=new Cg,Hy=new ui,yc=new qr,Yf=new H,a1=new Sae,jr=new dr,Wy=[];function Mae(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class iV extends dr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Ft,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new nu(n,e,e,oi,js);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:h}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,h);m.setUsage(l.usage),n.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new hn(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(yd,new hn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(yd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${yd}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===yd)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ui);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,$a),this.getBoundingBoxAt(i,Hy).applyMatrix4($a),n.union(Hy))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,$a),this.getBoundingSphereAt(i,yc).applyMatrix4($a),n.union(yc))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;h.push(!0),p.push(!0);const x=this._geometryCount;this._geometryCount++,Eae.toArray(v,x*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ui,sphereInitialized:!1,sphere:new qr});const y=this.geometry.getAttribute(yd);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,x);return y.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===yd)continue;const v=n.getAttribute(m),x=r.getAttribute(m);Mae(v,x,l);const y=v.itemSize;for(let g=v.count,w=c;g<w;g++){const b=l+g;for(let M=0;M<y;M++)x.setComponent(b,M,0)}x.needsUpdate=!0}if(i){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,x=a.indexCount;v<x;v++)s.setX(m+v,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const h=this._drawRanges[e],p=n.getAttribute("position");return h.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,h=c.start+c.count;u<h;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(Yf.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Hy),Hy.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let h=c.start,p=c.start+c.count;h<p;h++){let m=h;a&&(m=a.getX(m)),Yf.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(Yf))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;jr.material=this.material,jr.geometry.index=l.index,jr.geometry.attributes=l.attributes,jr.geometry.boundingBox===null&&(jr.geometry.boundingBox=new ui),jr.geometry.boundingSphere===null&&(jr.geometry.boundingSphere=new qr);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];jr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,jr.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,jr.geometry.boundingBox),this.getBoundingSphereAt(c,jr.geometry.boundingSphere),jr.raycast(e,Wy);for(let h=0,p=Wy.length;h<p;h++){const m=Wy[h];m.object=this,m.batchId=c,n.push(m)}Wy.length=0}jr.material=null,jr.geometry.index=null,jr.geometry.attributes={},jr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled;p&&(II.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),o1.setFromProjectionMatrix(II,e.isWebGPURenderer?Dh:Vs));let m=0;if(this.sortObjects){LI.copy(this.matrixWorld).invert(),Yf.setFromMatrixPosition(r.matrixWorld).applyMatrix4(LI);for(let y=0,g=l.length;y<g;y++)if(l[y]){this.getMatrixAt(y,$a),this.getBoundingSphereAt(y,yc).applyMatrix4($a);let w=!1;if(p&&(w=!o1.intersectsSphere(yc)),!w){const b=Yf.distanceTo(yc.center);a1.push(h[y],b)}}const v=a1.list,x=this.customSort;x===null?v.sort(s.transparent?bae:wae):x.call(this,v,r);for(let y=0,g=v.length;y<g;y++){const w=v[y];c[m]=w.start*a,u[m]=w.count,m++}a1.reset()}else for(let v=0,x=l.length;v<x;v++)if(l[v]){let y=!1;if(p&&(this.getMatrixAt(v,$a),this.getBoundingSphereAt(v,yc).applyMatrix4($a),y=!o1.intersectsSphere(yc)),!y){const g=h[v];c[m]=g.start*a,u[m]=g.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class pi extends kr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DI=new H,OI=new H,FI=new St,l1=new Mu,Gy=new qr;class jl extends sn{constructor(e=new Ft,n=new pi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)DI.fromBufferAttribute(n,i-1),OI.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=DI.distanceTo(OI);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Gy.copy(r.boundingSphere),Gy.applyMatrix4(i),Gy.radius+=s,e.ray.intersectsSphere(Gy)===!1)return;FI.copy(i).invert(),l1.copy(e.ray).applyMatrix4(FI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,u=new H,h=new H,p=new H,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let b=g,M=w-1;b<M;b+=m){const C=v.getX(b),P=v.getX(b+1);if(c.fromBufferAttribute(y,C),u.fromBufferAttribute(y,P),l1.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(p);O<e.near||O>e.far||n.push({distance:O,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=g,M=w-1;b<M;b+=m){if(c.fromBufferAttribute(y,b),u.fromBufferAttribute(y,b+1),l1.distanceSqToSegment(c,u,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||n.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const UI=new H,zI=new H;class Uo extends jl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)UI.fromBufferAttribute(n,i),zI.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+UI.distanceTo(zI);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sV extends jl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class tP extends kr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BI=new St,tT=new Mu,$y=new qr,Xy=new H;class oV extends sn{constructor(e=new Ft,n=new tP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$y.copy(r.boundingSphere),$y.applyMatrix4(i),$y.radius+=s,e.ray.intersectsSphere($y)===!1)return;BI.copy(i).invert(),tT.copy(e.ray).applyMatrix4(BI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const y=c.getX(v);Xy.fromBufferAttribute(h,y),jI(Xy,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,x=m;v<x;v++)Xy.fromBufferAttribute(h,v),jI(Xy,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function jI(t,e,n,r,i,s,o){const a=tT.distanceSqToPoint(t);if(a<n){const l=new H;tT.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Tae extends $n{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Qn,this.magFilter=s!==void 0?s:Qn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Aae extends $n{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Zn,this.minFilter=Zn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Y_ extends $n{constructor(e,n,r,i,s,o,a,l,c,u,h,p){super(null,o,a,l,c,u,i,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Cae extends Y_{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Gr}}class Pae extends Y_{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Sa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Rae extends $n{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class eo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new we:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new H,i=[],s=[],o=[],a=new H,l=new St;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Wn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Wn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class K_ extends eo{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new we,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*h+this.aX,c=p*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class aV extends K_{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function nP(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const qy=new H,c1=new nP,u1=new nP,d1=new nP;class lV extends eo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new H){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(qy.subVectors(i[0],i[1]).add(i[0]),c=qy);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(qy.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=qy),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),c1.initNonuniformCatmullRom(c.x,h.x,p.x,u.x,v,x,y),u1.initNonuniformCatmullRom(c.y,h.y,p.y,u.y,v,x,y),d1.initNonuniformCatmullRom(c.z,h.z,p.z,u.z,v,x,y)}else this.curveType==="catmullrom"&&(c1.initCatmullRom(c.x,h.x,p.x,u.x,this.tension),u1.initCatmullRom(c.y,h.y,p.y,u.y,this.tension),d1.initCatmullRom(c.z,h.z,p.z,u.z,this.tension));return r.set(c1.calc(l),u1.calc(l),d1.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function VI(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function kae(t,e){const n=1-t;return n*n*e}function Nae(t,e){return 2*(1-t)*t*e}function Lae(t,e){return t*t*e}function Op(t,e,n,r){return kae(t,e)+Nae(t,n)+Lae(t,r)}function Iae(t,e){const n=1-t;return n*n*n*e}function Dae(t,e){const n=1-t;return 3*n*n*t*e}function Oae(t,e){return 3*(1-t)*t*t*e}function Fae(t,e){return t*t*t*e}function Fp(t,e,n,r,i){return Iae(t,e)+Dae(t,n)+Oae(t,r)+Fae(t,i)}class rP extends eo{constructor(e=new we,n=new we,r=new we,i=new we){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new we){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Fp(e,i.x,s.x,o.x,a.x),Fp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cV extends eo{constructor(e=new H,n=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Fp(e,i.x,s.x,o.x,a.x),Fp(e,i.y,s.y,o.y,a.y),Fp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iP extends eo{constructor(e=new we,n=new we){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new we){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new we){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uV extends eo{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sP extends eo{constructor(e=new we,n=new we,r=new we){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new we){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Op(e,i.x,s.x,o.x),Op(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Z_ extends eo{constructor(e=new H,n=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Op(e,i.x,s.x,o.x),Op(e,i.y,s.y,o.y),Op(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oP extends eo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new we){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(VI(a,l.x,c.x,u.x,h.x),VI(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new we().fromArray(i))}return this}}var zx=Object.freeze({__proto__:null,ArcCurve:aV,CatmullRomCurve3:lV,CubicBezierCurve:rP,CubicBezierCurve3:cV,EllipseCurve:K_,LineCurve:iP,LineCurve3:uV,QuadraticBezierCurve:sP,QuadraticBezierCurve3:Z_,SplineCurve:oP});class dV extends eo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new zx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new zx[i.type]().fromJSON(i))}return this}}class Dm extends dV{constructor(e){super(),this.type="Path",this.currentPoint=new we,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new iP(this.currentPoint.clone(),new we(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new sP(this.currentPoint.clone(),new we(e,n),new we(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new rP(this.currentPoint.clone(),new we(e,n),new we(r,i),new we(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new oP(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new K_(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rg extends Ft{constructor(e=[new we(0,-.5),new we(.5,0),new we(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Wn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,h=new H,p=new we,m=new H,v=new H,x=new H;let y=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let w=0;w<=n;w++){const b=r+w*u*i,M=Math.sin(b),C=Math.cos(b);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*C,o.push(h.x,h.y,h.z),p.x=w/n,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*M,O=l[3*P+1],k=l[3*P+0]*C;c.push(R,O,k)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const M=b+w*e.length,C=M,P=M+e.length,R=M+e.length+1,O=M+1;s.push(C,P,O),s.push(R,O,P)}this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("uv",new st(a,2)),this.setAttribute("normal",new st(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rg(e.points,e.segments,e.phiStart,e.phiLength)}}class J_ extends Rg{constructor(e=1,n=1,r=4,i=8){const s=new Dm;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new J_(e.radius,e.length,e.capSegments,e.radialSegments)}}class Q_ extends Ft{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new H,u=new we;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=r+h/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("normal",new st(a,3)),this.setAttribute("uv",new st(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class nf extends Ft{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[];let v=0;const x=[],y=r/2;let g=0;w(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new st(h,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function w(){const M=new H,C=new H;let P=0;const R=(n-e)/r;for(let O=0;O<=s;O++){const k=[],L=O/s,z=L*(n-e)+e;for(let G=0;G<=i;G++){const te=G/i,B=te*l+a,Z=Math.sin(B),J=Math.cos(B);C.x=z*Z,C.y=-L*r+y,C.z=z*J,h.push(C.x,C.y,C.z),M.set(Z,R,J).normalize(),p.push(M.x,M.y,M.z),m.push(te,1-L),k.push(v++)}x.push(k)}for(let O=0;O<i;O++)for(let k=0;k<s;k++){const L=x[k][O],z=x[k+1][O],G=x[k+1][O+1],te=x[k][O+1];u.push(L,z,te),u.push(z,G,te),P+=6}c.addGroup(g,P,0),g+=P}function b(M){const C=v,P=new we,R=new H;let O=0;const k=M===!0?e:n,L=M===!0?1:-1;for(let G=1;G<=i;G++)h.push(0,y*L,0),p.push(0,L,0),m.push(.5,.5),v++;const z=v;for(let G=0;G<=i;G++){const B=G/i*l+a,Z=Math.cos(B),J=Math.sin(B);R.x=k*J,R.y=y*L,R.z=k*Z,h.push(R.x,R.y,R.z),p.push(0,L,0),P.x=Z*.5+.5,P.y=J*.5*L+.5,m.push(P.x,P.y),v++}for(let G=0;G<i;G++){const te=C+G,B=z+G;M===!0?u.push(B,B+1,te):u.push(B+1,B,te),O+=3}c.addGroup(g,O,M===!0?1:2),g+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ew extends nf{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ew(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ec extends Ft{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new st(s,3)),this.setAttribute("normal",new st(s.slice(),3)),this.setAttribute("uv",new st(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new H,M=new H,C=new H;for(let P=0;P<n.length;P+=3)m(n[P+0],b),m(n[P+1],M),m(n[P+2],C),l(b,M,C,w)}function l(w,b,M,C){const P=C+1,R=[];for(let O=0;O<=P;O++){R[O]=[];const k=w.clone().lerp(M,O/P),L=b.clone().lerp(M,O/P),z=P-O;for(let G=0;G<=z;G++)G===0&&O===P?R[O][G]=k:R[O][G]=k.clone().lerp(L,G/z)}for(let O=0;O<P;O++)for(let k=0;k<2*(P-O)-1;k++){const L=Math.floor(k/2);k%2===0?(p(R[O][L+1]),p(R[O+1][L]),p(R[O][L])):(p(R[O][L+1]),p(R[O+1][L+1]),p(R[O+1][L]))}}function c(w){const b=new H;for(let M=0;M<s.length;M+=3)b.x=s[M+0],b.y=s[M+1],b.z=s[M+2],b.normalize().multiplyScalar(w),s[M+0]=b.x,s[M+1]=b.y,s[M+2]=b.z}function u(){const w=new H;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const M=y(w)/2/Math.PI+.5,C=g(w)/Math.PI+.5;o.push(M,1-C)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const b=o[w+0],M=o[w+2],C=o[w+4],P=Math.max(b,M,C),R=Math.min(b,M,C);P>.9&&R<.1&&(b<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),C<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,b){const M=w*3;b.x=e[M+0],b.y=e[M+1],b.z=e[M+2]}function v(){const w=new H,b=new H,M=new H,C=new H,P=new we,R=new we,O=new we;for(let k=0,L=0;k<s.length;k+=9,L+=6){w.set(s[k+0],s[k+1],s[k+2]),b.set(s[k+3],s[k+4],s[k+5]),M.set(s[k+6],s[k+7],s[k+8]),P.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),O.set(o[L+4],o[L+5]),C.copy(w).add(b).add(M).divideScalar(3);const z=y(C);x(P,L+0,w,z),x(R,L+2,b,z),x(O,L+4,M,z)}}function x(w,b,M,C){C<0&&w.x===1&&(o[b]=w.x-1),M.x===0&&M.z===0&&(o[b]=C/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ec(e.vertices,e.indices,e.radius,e.details)}}class tw extends ec{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tw(e.radius,e.detail)}}const Yy=new H,Ky=new H,h1=new H,Zy=new Si;class hV extends Ft{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(eu*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=Zy;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Zy.getNormal(h1),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const b=(w+1)%3,M=h[w],C=h[b],P=Zy[u[w]],R=Zy[u[b]],O=`${M}_${C}`,k=`${C}_${M}`;k in p&&p[k]?(h1.dot(p[k].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[k]=null):O in p||(p[O]={index0:c[w],index1:c[b],normal:h1.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];Yy.fromBufferAttribute(a,x),Ky.fromBufferAttribute(a,y),m.push(Yy.x,Yy.y,Yy.z),m.push(Ky.x,Ky.y,Ky.z)}this.setAttribute("position",new st(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ru extends Dm{constructor(e){super(e),this.uuid=Xi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Dm().fromJSON(i))}return this}}const Uae={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=fV(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,p,m;if(r&&(s=Hae(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let v=n;v<i;v+=n)h=t[v],p=t[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Om(s,o,n,a,l,m,0),o}};function fV(t,e,n,r,i){let s,o;if(i===ele(t,e,n,r)>0)for(s=e;s<n;s+=r)o=HI(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=HI(s,t[s],t[s+1],o);return o&&nw(o,o.next)&&(Um(o),o=o.next),o}function fu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(nw(n,n.next)||In(n.prev,n,n.next)===0)){if(Um(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Om(t,e,n,r,i,s,o){if(!t)return;!o&&s&&qae(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?Bae(t,r,i,s):zae(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Um(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=jae(fu(t),e,n),Om(t,e,n,r,i,s,2)):o===2&&Vae(t,e,n,r,i,s):Om(fu(t),e,n,r,i,s,1);break}}}function zae(t){const e=t.prev,n=t,r=t.next;if(In(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=h&&v.y<=m&&Kd(i,a,s,l,o,c,v.x,v.y)&&In(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Bae(t,e,n,r){const i=t.prev,s=t,o=t.next;if(In(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<h?u<p?u:p:h<p?h:p,x=a>l?a>c?a:c:l>c?l:c,y=u>h?u>p?u:p:h>p?h:p,g=nT(m,v,e,n,r),w=nT(x,y,e,n,r);let b=t.prevZ,M=t.nextZ;for(;b&&b.z>=g&&M&&M.z<=w;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Kd(a,u,l,h,c,p,b.x,b.y)&&In(b.prev,b,b.next)>=0||(b=b.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&Kd(a,u,l,h,c,p,M.x,M.y)&&In(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;b&&b.z>=g;){if(b.x>=m&&b.x<=x&&b.y>=v&&b.y<=y&&b!==i&&b!==o&&Kd(a,u,l,h,c,p,b.x,b.y)&&In(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&Kd(a,u,l,h,c,p,M.x,M.y)&&In(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function jae(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!nw(i,s)&&pV(i,r,r.next,s)&&Fm(i,s)&&Fm(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Um(r),Um(r.next),r=t=s),r=r.next}while(r!==t);return fu(r)}function Vae(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Zae(o,a)){let l=mV(o,a);o=fu(o,o.next),l=fu(l,l.next),Om(o,e,n,r,i,s,0),Om(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Hae(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=fV(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Kae(c));for(i.sort(Wae),s=0;s<i.length;s++)n=Gae(i[s],n);return n}function Wae(t,e){return t.x-e.x}function Gae(t,e){const n=$ae(t,e);if(!n)return e;const r=mV(n,t);return fu(r,r.next),fu(n,n.next)}function $ae(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Kd(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Fm(n,t)&&(h<u||h===u&&(n.x>i.x||n.x===i.x&&Xae(i,n)))&&(i=n,u=h)),n=n.next;while(n!==a);return i}function Xae(t,e){return In(t.prev,t,e.prev)<0&&In(e.next,t,t.next)<0}function qae(t,e,n,r){let i=t;do i.z===0&&(i.z=nT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Yae(i)}function Yae(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function nT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Kae(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Kd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Zae(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Jae(t,e)&&(Fm(t,e)&&Fm(e,t)&&Qae(t,e)&&(In(t.prev,t,e.prev)||In(t,e.prev,e))||nw(t,e)&&In(t.prev,t,t.next)>0&&In(e.prev,e,e.next)>0)}function In(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function nw(t,e){return t.x===e.x&&t.y===e.y}function pV(t,e,n,r){const i=Qy(In(t,e,n)),s=Qy(In(t,e,r)),o=Qy(In(n,r,t)),a=Qy(In(n,r,e));return!!(i!==s&&o!==a||i===0&&Jy(t,n,e)||s===0&&Jy(t,r,e)||o===0&&Jy(n,t,r)||a===0&&Jy(n,e,r))}function Jy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Qy(t){return t>0?1:t<0?-1:0}function Jae(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&pV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Fm(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function Qae(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function mV(t,e){const n=new rT(t.i,t.x,t.y),r=new rT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function HI(t,e,n,r){const i=new rT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Um(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rT(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ele(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class ko{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ko.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];WI(e),GI(r,e);let o=e.length;n.forEach(WI);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,GI(r,n[l]);const a=Uae.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function WI(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function GI(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class rw extends Ft{constructor(e=new ru([new we(.5,.5),new we(-.5,.5),new we(-.5,-.5),new we(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new st(i,3)),this.setAttribute("uv",new st(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:tle;let b,M=!1,C,P,R,O;g&&(b=g.getSpacedPoints(u),M=!0,p=!1,C=g.computeFrenetFrames(u,!1),P=new H,R=new H,O=new H),p||(y=0,m=0,v=0,x=0);const k=a.extractPoints(c);let L=k.shape;const z=k.holes;if(!ko.isClockWise(L)){L=L.reverse();for(let q=0,Ee=z.length;q<Ee;q++){const ge=z[q];ko.isClockWise(ge)&&(z[q]=ge.reverse())}}const te=ko.triangulateShape(L,z),B=L;for(let q=0,Ee=z.length;q<Ee;q++){const ge=z[q];L=L.concat(ge)}function Z(q,Ee,ge){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(Ee,ge)}const J=L.length,ne=te.length;function F(q,Ee,ge){let ke,ve,rt;const W=q.x-Ee.x,D=q.y-Ee.y,I=ge.x-q.x,K=ge.y-q.y,oe=W*W+D*D,ie=W*K-D*I;if(Math.abs(ie)>Number.EPSILON){const le=Math.sqrt(oe),Ne=Math.sqrt(I*I+K*K),Ie=Ee.x-D/le,Oe=Ee.y+W/le,Qe=ge.x-K/Ne,dt=ge.y+I/Ne,Re=((Qe-Ie)*K-(dt-Oe)*I)/(W*K-D*I);ke=Ie+W*Re-q.x,ve=Oe+D*Re-q.y;const kt=ke*ke+ve*ve;if(kt<=2)return new we(ke,ve);rt=Math.sqrt(kt/2)}else{let le=!1;W>Number.EPSILON?I>Number.EPSILON&&(le=!0):W<-Number.EPSILON?I<-Number.EPSILON&&(le=!0):Math.sign(D)===Math.sign(K)&&(le=!0),le?(ke=-D,ve=W,rt=Math.sqrt(oe)):(ke=W,ve=D,rt=Math.sqrt(oe/2))}return new we(ke/rt,ve/rt)}const j=[];for(let q=0,Ee=B.length,ge=Ee-1,ke=q+1;q<Ee;q++,ge++,ke++)ge===Ee&&(ge=0),ke===Ee&&(ke=0),j[q]=F(B[q],B[ge],B[ke]);const U=[];let $,re=j.concat();for(let q=0,Ee=z.length;q<Ee;q++){const ge=z[q];$=[];for(let ke=0,ve=ge.length,rt=ve-1,W=ke+1;ke<ve;ke++,rt++,W++)rt===ve&&(rt=0),W===ve&&(W=0),$[ke]=F(ge[ke],ge[rt],ge[W]);U.push($),re=re.concat($)}for(let q=0;q<y;q++){const Ee=q/y,ge=m*Math.cos(Ee*Math.PI/2),ke=v*Math.sin(Ee*Math.PI/2)+x;for(let ve=0,rt=B.length;ve<rt;ve++){const W=Z(B[ve],j[ve],ke);Se(W.x,W.y,-ge)}for(let ve=0,rt=z.length;ve<rt;ve++){const W=z[ve];$=U[ve];for(let D=0,I=W.length;D<I;D++){const K=Z(W[D],$[D],ke);Se(K.x,K.y,-ge)}}}const Y=v+x;for(let q=0;q<J;q++){const Ee=p?Z(L[q],re[q],Y):L[q];M?(R.copy(C.normals[0]).multiplyScalar(Ee.x),P.copy(C.binormals[0]).multiplyScalar(Ee.y),O.copy(b[0]).add(R).add(P),Se(O.x,O.y,O.z)):Se(Ee.x,Ee.y,0)}for(let q=1;q<=u;q++)for(let Ee=0;Ee<J;Ee++){const ge=p?Z(L[Ee],re[Ee],Y):L[Ee];M?(R.copy(C.normals[q]).multiplyScalar(ge.x),P.copy(C.binormals[q]).multiplyScalar(ge.y),O.copy(b[q]).add(R).add(P),Se(O.x,O.y,O.z)):Se(ge.x,ge.y,h/u*q)}for(let q=y-1;q>=0;q--){const Ee=q/y,ge=m*Math.cos(Ee*Math.PI/2),ke=v*Math.sin(Ee*Math.PI/2)+x;for(let ve=0,rt=B.length;ve<rt;ve++){const W=Z(B[ve],j[ve],ke);Se(W.x,W.y,h+ge)}for(let ve=0,rt=z.length;ve<rt;ve++){const W=z[ve];$=U[ve];for(let D=0,I=W.length;D<I;D++){const K=Z(W[D],$[D],ke);M?Se(K.x,K.y+b[u-1].y,b[u-1].x+ge):Se(K.x,K.y,h+ge)}}}ue(),Me();function ue(){const q=i.length/3;if(p){let Ee=0,ge=J*Ee;for(let ke=0;ke<ne;ke++){const ve=te[ke];Le(ve[2]+ge,ve[1]+ge,ve[0]+ge)}Ee=u+y*2,ge=J*Ee;for(let ke=0;ke<ne;ke++){const ve=te[ke];Le(ve[0]+ge,ve[1]+ge,ve[2]+ge)}}else{for(let Ee=0;Ee<ne;Ee++){const ge=te[Ee];Le(ge[2],ge[1],ge[0])}for(let Ee=0;Ee<ne;Ee++){const ge=te[Ee];Le(ge[0]+J*u,ge[1]+J*u,ge[2]+J*u)}}r.addGroup(q,i.length/3-q,0)}function Me(){const q=i.length/3;let Ee=0;be(B,Ee),Ee+=B.length;for(let ge=0,ke=z.length;ge<ke;ge++){const ve=z[ge];be(ve,Ee),Ee+=ve.length}r.addGroup(q,i.length/3-q,1)}function be(q,Ee){let ge=q.length;for(;--ge>=0;){const ke=ge;let ve=ge-1;ve<0&&(ve=q.length-1);for(let rt=0,W=u+y*2;rt<W;rt++){const D=J*rt,I=J*(rt+1),K=Ee+ke+D,oe=Ee+ve+D,ie=Ee+ve+I,le=Ee+ke+I;je(K,oe,ie,le)}}}function Se(q,Ee,ge){l.push(q),l.push(Ee),l.push(ge)}function Le(q,Ee,ge){xe(q),xe(Ee),xe(ge);const ke=i.length/3,ve=w.generateTopUV(r,i,ke-3,ke-2,ke-1);ze(ve[0]),ze(ve[1]),ze(ve[2])}function je(q,Ee,ge,ke){xe(q),xe(Ee),xe(ke),xe(Ee),xe(ge),xe(ke);const ve=i.length/3,rt=w.generateSideWallUV(r,i,ve-6,ve-3,ve-2,ve-1);ze(rt[0]),ze(rt[1]),ze(rt[3]),ze(rt[1]),ze(rt[2]),ze(rt[3])}function xe(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function ze(q){s.push(q.x),s.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return nle(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zx[i.type]().fromJSON(i)),new rw(r,e.options)}}const tle={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new we(s,o),new we(a,l),new we(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new we(o,1-l),new we(c,1-h),new we(p,1-v),new we(x,1-g)]:[new we(a,1-l),new we(u,1-h),new we(m,1-v),new we(y,1-g)]}};function nle(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class iw extends ec{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iw(e.radius,e.detail)}}class kg extends ec{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new kg(e.radius,e.detail)}}class sw extends Ft{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const p=(n-e)/i,m=new H,v=new we;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=s+y/r*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,u.push(v.x,v.y)}h+=p}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const w=g+y,b=w,M=w+r+1,C=w+r+2,P=w+1;a.push(b,M,P),a.push(M,C,P)}}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ow extends Ft{constructor(e=new ru([new we(0,.5),new we(-.5,-.5),new we(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new st(i,3)),this.setAttribute("normal",new st(s,3)),this.setAttribute("uv",new st(o,2));function c(u){const h=i.length/3,p=u.extractPoints(n);let m=p.shape;const v=p.holes;ko.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const w=v[y];ko.isClockWise(w)===!0&&(v[y]=w.reverse())}const x=ko.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const w=v[y];m=m.concat(w)}for(let y=0,g=m.length;y<g;y++){const w=m[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,g=x.length;y<g;y++){const w=x[y],b=w[0]+h,M=w[1]+h,C=w[2]+h;r.push(b,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return rle(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new ow(r,e.curveSegments)}}function rle(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Ng extends Ft{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new H,p=new H,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const w=[],b=g/r;let M=0;g===0&&o===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let C=0;C<=n;C++){const P=C/n;h.x=-e*Math.cos(i+P*s)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(i+P*s)*Math.sin(o+b*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),x.push(p.x,p.y,p.z),y.push(P+M,1-b),w.push(c++)}u.push(w)}for(let g=0;g<r;g++)for(let w=0;w<n;w++){const b=u[g][w+1],M=u[g][w],C=u[g+1][w],P=u[g+1][w+1];(g!==0||o>0)&&m.push(b,M,P),(g!==r-1||l<Math.PI)&&m.push(M,C,P)}this.setIndex(m),this.setAttribute("position",new st(v,3)),this.setAttribute("normal",new st(x,3)),this.setAttribute("uv",new st(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ng(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class aw extends ec{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new aw(e.radius,e.detail)}}class lw extends Ft{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new H,h=new H,p=new H;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*s,y=m/r*Math.PI*2;h.x=(e+n*Math.cos(y))*Math.cos(x),h.y=(e+n*Math.cos(y))*Math.sin(x),h.z=n*Math.sin(y),a.push(h.x,h.y,h.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(h,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,w=(i+1)*m+v;o.push(x,y,w),o.push(y,g,w)}this.setIndex(o),this.setAttribute("position",new st(a,3)),this.setAttribute("normal",new st(l,3)),this.setAttribute("uv",new st(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cw extends Ft{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new H,p=new H,m=new H,v=new H,x=new H,y=new H,g=new H;for(let b=0;b<=r;++b){const M=b/r*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let C=0;C<=i;++C){const P=C/i*Math.PI*2,R=-n*Math.cos(P),O=n*Math.sin(P);h.x=m.x+(R*g.x+O*x.x),h.y=m.y+(R*g.y+O*x.y),h.z=m.z+(R*g.z+O*x.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(C/i)}}for(let b=1;b<=r;b++)for(let M=1;M<=i;M++){const C=(i+1)*(b-1)+(M-1),P=(i+1)*b+(M-1),R=(i+1)*b+M,O=(i+1)*(b-1)+M;a.push(C,P,O),a.push(P,R,O)}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2));function w(b,M,C,P,R){const O=Math.cos(b),k=Math.sin(b),L=C/M*b,z=Math.cos(L);R.x=P*(2+z)*.5*O,R.y=P*(2+z)*k*.5,R.z=P*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Lg extends Ft{constructor(e=new Z_(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new we;let u=new H;const h=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new st(h,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function x(){for(let b=0;b<n;b++)y(b);y(s===!1?n:0),w(),g()}function y(b){u=e.getPointAt(b/n,u);const M=o.normals[b],C=o.binormals[b];for(let P=0;P<=i;P++){const R=P/i*Math.PI*2,O=Math.sin(R),k=-Math.cos(R);l.x=k*M.x+O*C.x,l.y=k*M.y+O*C.y,l.z=k*M.z+O*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let b=1;b<=n;b++)for(let M=1;M<=i;M++){const C=(i+1)*(b-1)+(M-1),P=(i+1)*b+(M-1),R=(i+1)*b+M,O=(i+1)*(b-1)+M;v.push(C,P,O),v.push(P,R,O)}}function w(){for(let b=0;b<=n;b++)for(let M=0;M<=i;M++)c.x=b/n,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Lg(new zx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class gV extends Ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),w=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),$I(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),$I(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new st(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $I(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var XI=Object.freeze({__proto__:null,BoxGeometry:Tu,CapsuleGeometry:J_,CircleGeometry:Q_,ConeGeometry:ew,CylinderGeometry:nf,DodecahedronGeometry:tw,EdgesGeometry:hV,ExtrudeGeometry:rw,IcosahedronGeometry:iw,LatheGeometry:Rg,OctahedronGeometry:kg,PlaneGeometry:Pg,PolyhedronGeometry:ec,RingGeometry:sw,ShapeGeometry:ow,SphereGeometry:Ng,TetrahedronGeometry:aw,TorusGeometry:lw,TorusKnotGeometry:cw,TubeGeometry:Lg,WireframeGeometry:gV});class vV extends kr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class yV extends Zs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aP extends kr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xV extends aP{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new we(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _V extends kr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wV extends kr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class bV extends kr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class SV extends kr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class EV extends kr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Jl,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MV extends pi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function TV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AV(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function iT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function lP(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function ile(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){h.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}h.length!==0&&(c.times=Wc(h,c.times.constructor),c.values=Wc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function sle(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=u,w=h-u;x=a.values.slice(g,w)}else if(s>=a.times[v]){const g=v*h+u,w=g+h-u;x=a.values.slice(g,w)}else{const g=a.createInterpolant(),w=u,b=h-u;g.evaluate(s),x=g.resultBuffer.slice(w,b)}l==="quaternion"&&new Xr().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const w=g*m+p;if(l==="quaternion")Xr.multiplyQuaternionsFlat(c.values,w,x,0,c.values,w);else{const b=m-p*2;for(let M=0;M<b;++M)c.values[w+M]-=x[M]}}}return t.blendMode=zC,t}const ole={convertArray:Wc,isTypedArray:TV,getKeyframeOrder:AV,sortedArray:iT,flattenJSON:lP,subclip:ile,makeClipAdditive:sle};class Ig{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CV extends Ig{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jc,endingEnd:jc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Vc:s=e,a=2*n-r;break;case Pm:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Vc:o=e,l=2*r-n;break;case Pm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,w=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,b=(-1-m)*y+(1.5+m)*x+.5*v,M=m*y-m*x;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+w*o[c+C]+b*o[l+C]+M*o[h+C];return s}}class cP extends Ig{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),h=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*u;return s}}class PV extends Ig{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class to{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wc(n,this.TimeBufferType),this.values=Wc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wc(e.times,Array),values:Wc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new PV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Am:n=this.InterpolantFactoryMethodDiscrete;break;case Cm:n=this.InterpolantFactoryMethodLinear;break;case H0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Am;case this.InterpolantFactoryMethodLinear:return Cm;case this.InterpolantFactoryMethodSmooth:return H0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&TV(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===H0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const x=n[h+v];if(x!==n[p+v]||x!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}to.prototype.TimeBufferType=Float32Array;to.prototype.ValueBufferType=Float32Array;to.prototype.DefaultInterpolation=Cm;class Au extends to{}Au.prototype.ValueTypeName="bool";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=Am;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class uP extends to{}uP.prototype.ValueTypeName="color";class zm extends to{}zm.prototype.ValueTypeName="number";class RV extends Ig{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Xr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class rf extends to{InterpolantFactoryMethodLinear(e){return new RV(this.times,this.values,this.getValueSize(),e)}}rf.prototype.ValueTypeName="quaternion";rf.prototype.DefaultInterpolation=Cm;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class Cu extends to{}Cu.prototype.ValueTypeName="string";Cu.prototype.ValueBufferType=Array;Cu.prototype.DefaultInterpolation=Am;Cu.prototype.InterpolantFactoryMethodLinear=void 0;Cu.prototype.InterpolantFactoryMethodSmooth=void 0;class Bm extends to{}Bm.prototype.ValueTypeName="vector";class jm{constructor(e,n=-1,r,i=B_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Xi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(lle(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(to.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=AV(l);l=iT(l,1,u),c=iT(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new zm(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,x){if(m.length!==0){const y=[],g=[];lP(m,y,g,v),y.length!==0&&x.push(new h(p,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let w=0;w!==p[v].morphTargets.length;++w){const b=p[v];y.push(b.time),g.push(b.morphTarget===x?1:0)}i.push(new zm(".morphTargetInfluence["+x+"]",y,g))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(Bm,m+".position",p,"pos",i),r(rf,m+".quaternion",p,"rot",i),r(Bm,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ale(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zm;case"vector":case"vector2":case"vector3":case"vector4":return Bm;case"color":return uP;case"quaternion":return rf;case"bool":case"boolean":return Au;case"string":return Cu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function lle(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ale(t.type);if(t.times===void 0){const n=[],r=[];lP(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ua={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class dP{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const kV=new dP;class Ri{constructor(e){this.manager=e!==void 0?e:kV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ri.DEFAULT_MATERIAL_NAME="__DEFAULT";const Jo={};class cle extends Error{constructor(e,n){super(e),this.response=n}}class Ea extends Ri{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ua.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Jo[e]!==void 0){Jo[e].push({onLoad:n,onProgress:r,onError:i});return}Jo[e]=[],Jo[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Jo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){w();function w(){h.read().then(({done:b,value:M})=>{if(b)g.close();else{x+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let P=0,R=u.length;P<R;P++){const O=u[P];O.onProgress&&O.onProgress(C)}g.enqueue(M),w()}})}}});return new Response(y)}else throw new cle(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{ua.add(e,c);const u=Jo[e];delete Jo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Jo[e];if(u===void 0)throw this.manager.itemError(e),c;delete Jo[e];for(let h=0,p=u.length;h<p;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ule extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ea(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=jm.parse(e[r]);n.push(i)}return n}}class dle extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Y_,l=new Ea(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Qn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)u(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Qn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Vm extends Ri{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ua.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Im("img");function l(){u(),ua.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class hle extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=new Ag;s.colorSpace=cr;const o=new Vm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class fle extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new nu,a=new Ea(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Gr,o.wrapT=c.wrapT!==void 0?c.wrapT:Gr,o.magFilter=c.magFilter!==void 0?c.magFilter:Qn,o.minFilter=c.minFilter!==void 0?c.minFilter:Qn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Bl),c.mipmapCount===1&&(o.minFilter=Qn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class ple extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=new $n,o=new Vm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class tc extends sn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ke(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class NV extends tc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ke(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const f1=new St,qI=new H,YI=new H;class hP{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new we(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cg,this._frameExtents=new we(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;qI.setFromMatrixPosition(e.matrixWorld),n.position.copy(qI),YI.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(YI),n.updateMatrixWorld(),f1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(f1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mle extends hP{constructor(){super(new Gn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Oh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LV extends tc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mle}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const KI=new St,Kf=new H,p1=new H;class gle extends hP{constructor(){super(new Gn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new we(4,2),this._viewportCount=6,this._viewports=[new cn(2,1,1,1),new cn(0,1,1,1),new cn(3,1,1,1),new cn(1,1,1,1),new cn(3,0,1,1),new cn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Kf.setFromMatrixPosition(e.matrixWorld),r.position.copy(Kf),p1.copy(r.position),p1.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(p1),r.updateMatrixWorld(),i.makeTranslation(-Kf.x,-Kf.y,-Kf.z),KI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KI)}}class IV extends tc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vle extends hP{constructor(){super(new Pl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DV extends tc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.shadow=new vle}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class OV extends tc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class FV extends tc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class UV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class zV extends tc{constructor(e=new UV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class uw extends Ri{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ea(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=uw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new we().fromArray(o.value);break;case"v3":i.uniforms[s].value=new H().fromArray(o.value);break;case"v4":i.uniforms[s].value=new cn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Bt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new St().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new we().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new we().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:vV,SpriteMaterial:QC,RawShaderMaterial:yV,ShaderMaterial:Zs,PointsMaterial:tP,MeshPhysicalMaterial:xV,MeshStandardMaterial:aP,MeshPhongMaterial:_V,MeshToonMaterial:wV,MeshNormalMaterial:bV,MeshLambertMaterial:SV,MeshDepthMaterial:KC,MeshDistanceMaterial:ZC,MeshBasicMaterial:Ql,MeshMatcapMaterial:EV,LineDashedMaterial:MV,LineBasicMaterial:pi,Material:kr};return new n[e]}}class sT{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class BV extends Ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jV extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ea(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),w=$d(y.type,g),b=new X_(w,y.stride);return b.uuid=y.uuid,n[v]=b,b}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new BV:new Ft,a=e.data.index;if(a!==void 0){const m=$d(a.type,a.array);o.setIndex(new hn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new hu(y,v.itemSize,v.offset,v.normalized)}else{const y=$d(v.type,v.array),g=v.isInstancedBufferAttribute?Uh:hn;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const w=v[y];let b;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);b=new hu(M,w.itemSize,w.offset,w.normalized)}else{const M=$d(w.type,w.array);b=new hn(M,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),x.push(b)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const x=h[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new H;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new qr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yle extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?sT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ea(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?sT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ea(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ru().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new q_().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new jV;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in XI?a=XI[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new uw;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=jm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:$d(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new dP(n);s=new Vm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new nu(g.data,g.width,g.height)))}i[h.uuid]=new Hc(m)}else{const m=a(h.url);i[h.uuid]=new Hc(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:$d(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Vm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new nu(v.data,v.width,v.height)))}r[l.uuid]=new Hc(u)}else{const u=await s(l.url);r[l.uuid]=new Hc(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new Ag,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new nu:u=new $n,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,xle)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],ZI),u.wrapT=r(a.wrap[1],ZI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,JI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,JI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,h;switch(e.type){case"Scene":o=new Ux,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new $_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new G_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Gn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Pl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new OV(e.color,e.intensity);break;case"DirectionalLight":o=new DV(e.color,e.intensity);break;case"PointLight":o=new IV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new FV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new LV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new NV(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new zV().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new nV(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new dr(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new rV(u,h,p),o.instanceMatrix=new Uh(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Uh(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),h=l(e.material),o=new iV(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new ui;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new qr;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new tV;break;case"Line":o=new jl(a(e.geometry),l(e.material));break;case"LineLoop":o=new sV(a(e.geometry),l(e.material));break;case"LineSegments":o=new Uo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new oV(a(e.geometry),l(e.material));break;case"Sprite":o=new eV(l(e.material));break;case"Group":o=new Yd;break;case"Bone":o=new eP;break;default:o=new sn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const xle={UVMapping:U_,CubeReflectionMapping:Sa,CubeRefractionMapping:zl,EquirectangularReflectionMapping:Sm,EquirectangularRefractionMapping:Em,CubeUVReflectionMapping:ef},ZI={RepeatWrapping:Mm,ClampToEdgeWrapping:Gr,MirroredRepeatWrapping:Tm},JI={NearestFilter:Zn,NearestMipmapNearestFilter:Dx,NearestMipmapLinearFilter:Lp,LinearFilter:Qn,LinearMipmapNearestFilter:kC,LinearMipmapLinearFilter:Bl};class _le extends Ri{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ua.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return ua.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),ua.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});ua.add(e,l),s.manager.itemStart(e)}}let e0;class fP{static getContext(){return e0===void 0&&(e0=new(window.AudioContext||window.webkitAudioContext)),e0}static setContext(e){e0=e}}class wle extends Ri{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ea(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);fP.getContext().decodeAudioData(c,function(h){n(h)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const QI=new St,eD=new St,xc=new St;class ble{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,xc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(eu*n.fov*.5)/n.zoom;let a,l;eD.elements[12]=-i,QI.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,xc.elements[0]=2*n.near/(l-a),xc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(xc),a=-o*n.aspect-s,l=o*n.aspect-s,xc.elements[0]=2*n.near/(l-a),xc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(xc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(QI)}}class pP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=tD();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function tD(){return(typeof performance>"u"?Date:performance).now()}const _c=new H,nD=new Xr,Sle=new H,wc=new H;class Ele extends sn{constructor(){super(),this.type="AudioListener",this.context=fP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_c,nD,Sle),wc.set(0,0,-1).applyQuaternion(nD),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(_c.x,i),n.positionY.linearRampToValueAtTime(_c.y,i),n.positionZ.linearRampToValueAtTime(_c.z,i),n.forwardX.linearRampToValueAtTime(wc.x,i),n.forwardY.linearRampToValueAtTime(wc.y,i),n.forwardZ.linearRampToValueAtTime(wc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(_c.x,_c.y,_c.z),n.setOrientation(wc.x,wc.y,wc.z,r.x,r.y,r.z)}}class VV extends sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bc=new H,rD=new Xr,Mle=new H,Sc=new H;class Tle extends VV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bc,rD,Mle),Sc.set(0,0,1).applyQuaternion(rD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(bc.x,r),n.positionY.linearRampToValueAtTime(bc.y,r),n.positionZ.linearRampToValueAtTime(bc.z,r),n.orientationX.linearRampToValueAtTime(Sc.x,r),n.orientationY.linearRampToValueAtTime(Sc.y,r),n.orientationZ.linearRampToValueAtTime(Sc.z,r)}else n.setPosition(bc.x,bc.y,bc.z),n.setOrientation(Sc.x,Sc.y,Sc.z)}}class Ale{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class HV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Xr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Xr.multiplyQuaternionsFlat(e,o,e,n,e,r),Xr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const mP="\\[\\]\\.:\\/",Cle=new RegExp("["+mP+"]","g"),gP="[^"+mP+"]",Ple="[^"+mP.replace("\\.","")+"]",Rle=/((?:WC+[\/:])*)/.source.replace("WC",gP),kle=/(WCOD+)?/.source.replace("WCOD",Ple),Nle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gP),Lle=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gP),Ile=new RegExp("^"+Rle+kle+Nle+Lle+"$"),Dle=["material","materials","bones","map"];class Ole{constructor(e,n,r){const i=r||Qt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Qt{constructor(e,n,r){this.path=n,this.parsedPath=r||Qt.parseTrackName(n),this.node=Qt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Qt.Composite(e,n,r):new Qt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Cle,"")}static parseTrackName(e){const n=Ile.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Dle.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Qt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qt.Composite=Ole;Qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Qt.prototype.GetterByBindingType=[Qt.prototype._getValue_direct,Qt.prototype._getValue_array,Qt.prototype._getValue_arrayElement,Qt.prototype._getValue_toArray];Qt.prototype.SetterByBindingTypeAndVersioning=[[Qt.prototype._setValue_direct,Qt.prototype._setValue_direct_setNeedsUpdate,Qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_array,Qt.prototype._setValue_array_setNeedsUpdate,Qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_arrayElement,Qt.prototype._setValue_arrayElement_setNeedsUpdate,Qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_fromArray,Qt.prototype._setValue_fromArray_setNeedsUpdate,Qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Fle{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new Qt(p,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];n[y.uuid]=v,e[v]=y,n[m]=x,e[x]=p;for(let g=0,w=o;g!==w;++g){const b=s[g],M=b[x];let C=b[v];b[v]=M,C===void 0&&(C=new Qt(p,r[g],i[g])),b[x]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const h=s++,p=e[h];n[p.uuid]=u,e[u]=p,n[c]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[h],g=x[u];x[u]=y,x[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=n[u];if(h!==void 0)if(delete n[u],h<s){const p=--s,m=e[p],v=--o,x=e[v];n[m.uuid]=h,e[h]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=i;y!==g;++y){const w=r[y],b=w[p],M=w[v];w[h]=b,w[p]=M,w.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[h]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let p=u,m=l.length;p!==m;++p){const v=l[p];h[p]=new Qt(v,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class WV{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:jc,endingEnd:jc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Mj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case zC:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case B_:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Tj;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===Ej){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Vc,i.endingEnd=Vc):(e?i.endingStart=this.zeroSlopeAtStart?Vc:jc:i.endingStart=Pm,n?i.endingEnd=this.zeroSlopeAtEnd?Vc:jc:i.endingEnd=Pm)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Ule=new Float32Array(1);class zle extends Ca{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=n&&n._propertyBindings[h].binding.parsedPath;v=new HV(Qt.create(r,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new cP(new Float32Array(2),new Float32Array(2),1,Ule),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?jm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=B_),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new WV(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?jm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,n[u]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class vP{constructor(e){this.value=e}clone(){return new vP(this.value.clone===void 0?this.value:this.value.clone())}}let Ble=0;class jle extends Ca{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Ble++}),this.name="",this.usage=Lm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Vle extends X_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Hle{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class GV{constructor(e,n,r=0,i=1/0){this.ray=new Mu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new tu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return oT(e,this,r,n),r.sort(iD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)oT(e[i],this,r,n);return r.sort(iD),r}}function iD(t,e){return t.distance-e.distance}function oT(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)oT(i[s],e,n,!0)}}class aT{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Wn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Wle{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const sD=new we;class Gle{constructor(e=new we(1/0,1/0),n=new we(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=sD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const oD=new H,t0=new H;class $le{constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){oD.subVectors(e,this.start),t0.subVectors(this.end,this.start);const r=t0.dot(t0);let s=t0.dot(oD)/r;return n&&(s=Wn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const aD=new H;class Xle extends sn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ft,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new st(i,3));const s=new pi({fog:!1,toneMapped:!1});this.cone=new Uo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),aD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xa=new H,n0=new St,m1=new St;class qle extends Uo{constructor(e){const n=$V(e),r=new Ft,i=[],s=[],o=new Ke(0,0,1),a=new Ke(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new st(i,3)),r.setAttribute("color",new st(s,3));const l=new pi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");m1.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(n0.multiplyMatrices(m1,a.matrixWorld),Xa.setFromMatrixPosition(n0),i.setXYZ(o,Xa.x,Xa.y,Xa.z),n0.multiplyMatrices(m1,a.parent.matrixWorld),Xa.setFromMatrixPosition(n0),i.setXYZ(o+1,Xa.x,Xa.y,Xa.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function $V(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,$V(t.children[n]));return e}class Yle extends dr{constructor(e,n,r){const i=new Ng(n,4,2),s=new Ql({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kle=new H,lD=new Ke,cD=new Ke;class Zle extends sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new kg(n);i.rotateY(Math.PI*.5),this.material=new Ql({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new hn(o,3)),this.add(new dr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");lD.copy(this.light.color),cD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?lD:cD;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Kle.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Jle extends Uo{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ke(r),i=new Ke(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new Ft;u.setAttribute("position",new st(l,3)),u.setAttribute("color",new st(c,3));const h=new pi({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qle extends Uo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ke(s),o=new Ke(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=h&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new Ft;c.setAttribute("position",new st(a,3)),c.setAttribute("color",new st(l,3));const u=new pi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const uD=new H,r0=new H,dD=new H;class ece extends sn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ft;i.setAttribute("position",new st([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new pi({fog:!1,toneMapped:!1});this.lightPlane=new jl(i,s),this.add(this.lightPlane),i=new Ft,i.setAttribute("position",new st([0,0,0,0,0,1],3)),this.targetLine=new jl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),uD.setFromMatrixPosition(this.light.matrixWorld),r0.setFromMatrixPosition(this.light.target.matrixWorld),dD.subVectors(r0,uD),this.lightPlane.lookAt(r0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r0),this.targetLine.scale.z=dD.length()}}const i0=new H,zn=new Tg;class tce extends Uo{constructor(e){const n=new Ft,r=new pi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new st(i,3)),n.setAttribute("color",new st(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ke(16755200),u=new Ke(16711680),h=new Ke(43775),p=new Ke(16777215),m=new Ke(3355443);this.setColors(c,u,h,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;zn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Yn("c",n,e,zn,0,0,-1),Yn("t",n,e,zn,0,0,1),Yn("n1",n,e,zn,-r,-i,-1),Yn("n2",n,e,zn,r,-i,-1),Yn("n3",n,e,zn,-r,i,-1),Yn("n4",n,e,zn,r,i,-1),Yn("f1",n,e,zn,-r,-i,1),Yn("f2",n,e,zn,r,-i,1),Yn("f3",n,e,zn,-r,i,1),Yn("f4",n,e,zn,r,i,1),Yn("u1",n,e,zn,r*.7,i*1.1,-1),Yn("u2",n,e,zn,-r*.7,i*1.1,-1),Yn("u3",n,e,zn,0,i*2,-1),Yn("cf1",n,e,zn,-r,0,1),Yn("cf2",n,e,zn,r,0,1),Yn("cf3",n,e,zn,0,-i,1),Yn("cf4",n,e,zn,0,i,1),Yn("cn1",n,e,zn,-r,0,-1),Yn("cn2",n,e,zn,r,0,-1),Yn("cn3",n,e,zn,0,-i,-1),Yn("cn4",n,e,zn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yn(t,e,n,r,i,s,o){i0.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],i0.x,i0.y,i0.z)}}const s0=new ui;class nce extends Uo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ft;s.setIndex(new hn(r,1)),s.setAttribute("position",new hn(i,3)),super(s,new pi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&s0.setFromObject(this.object),s0.isEmpty())return;const n=s0.min,r=s0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rce extends Uo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ft;s.setIndex(new hn(r,1)),s.setAttribute("position",new st(i,3)),super(s,new pi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ice extends jl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ft;o.setAttribute("position",new st(s,3)),o.computeBoundingSphere(),super(o,new pi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ft;l.setAttribute("position",new st(a,3)),l.computeBoundingSphere(),this.add(new dr(l,new Ql({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hD=new H;let o0,g1;class sce extends sn{constructor(e=new H(0,0,1),n=new H(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",o0===void 0&&(o0=new Ft,o0.setAttribute("position",new st([0,0,0,0,1,0],3)),g1=new nf(0,.5,1,5,1),g1.translate(0,-.5,0)),this.position.copy(n),this.line=new jl(o0,new pi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dr(g1,new Ql({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class oce extends Uo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ft;i.setAttribute("position",new st(n,3)),i.setAttribute("color",new st(r,3));const s=new pi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ke,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ace{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Dm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const w=[];for(let b=0,M=g.length;b<M;b++){const C=g[b],P=new ru;P.curves=C.curves,w.push(P)}return w}function r(g,w){const b=w.length;let M=!1;for(let C=b-1,P=0;P<b;C=P++){let R=w[C],O=w[P],k=O.x-R.x,L=O.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=w[P],k=-k,O=w[C],L=-L),g.y<R.y||g.y>O.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const z=L*(g.x-R.x)-k*(g.y-R.y);if(z===0)return!0;if(z<0)continue;M=!M}}else{if(g.y!==R.y)continue;if(O.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=O.x)return!0}}return M}const i=ko.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ru,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new ru,p:x},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,w=0;for(let b=0,M=p.length;b<M;b++)h[b]=[];for(let b=0,M=p.length;b<M;b++){const C=m[b];for(let P=0;P<C.length;P++){const R=C[P];let O=!0;for(let k=0;k<p.length;k++)r(R.p,p[k].p)&&(b!==k&&w++,O?(O=!1,h[k].push(R)):g=!0);O&&h[b].push(R)}}w>0&&g===!1&&(m=h)}let y;for(let g=0,w=p.length;g<w;g++){l=p[g].s,c.push(l),y=m[g];for(let b=0,M=y.length;b<M;b++)l.holes.push(y[b].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bg);const lce=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:RC,AddEquation:sl,AddOperation:cj,AdditiveAnimationBlendMode:zC,AdditiveBlending:xM,AgXToneMapping:pj,AlphaFormat:yj,AlwaysCompare:Oj,AlwaysDepth:nj,AlwaysStencilFunc:KM,AmbientLight:OV,AnimationAction:WV,AnimationClip:jm,AnimationLoader:ule,AnimationMixer:zle,AnimationObjectGroup:Fle,AnimationUtils:ole,ArcCurve:aV,ArrayCamera:Zj,ArrowHelper:sce,AttachedBindMode:EM,Audio:VV,AudioAnalyser:Ale,AudioContext:fP,AudioListener:Ele,AudioLoader:wle,AxesHelper:oce,BackSide:ci,BasicDepthPacking:Aj,BasicShadowMap:U4,BatchedMesh:iV,Bone:eP,BooleanKeyframeTrack:Au,Box2:Gle,Box3:ui,Box3Helper:rce,BoxGeometry:Tu,BoxHelper:nce,BufferAttribute:hn,BufferGeometry:Ft,BufferGeometryLoader:jV,ByteType:gj,Cache:ua,Camera:Tg,CameraHelper:tce,CanvasTexture:Rae,CapsuleGeometry:J_,CatmullRomCurve3:lV,CineonToneMapping:hj,CircleGeometry:Q_,ClampToEdgeWrapping:Gr,Clock:pP,Color:Ke,ColorKeyframeTrack:uP,ColorManagement:un,CompressedArrayTexture:Cae,CompressedCubeTexture:Pae,CompressedTexture:Y_,CompressedTextureLoader:dle,ConeGeometry:ew,ConstantAlphaFactor:Q4,ConstantColorFactor:Z4,CubeCamera:Vj,CubeReflectionMapping:Sa,CubeRefractionMapping:zl,CubeTexture:Ag,CubeTextureLoader:hle,CubeUVReflectionMapping:ef,CubicBezierCurve:rP,CubicBezierCurve3:cV,CubicInterpolant:CV,CullFaceBack:yM,CullFaceFront:F4,CullFaceFrontBack:yte,CullFaceNone:O4,Curve:eo,CurvePath:dV,CustomBlending:z4,CustomToneMapping:fj,CylinderGeometry:nf,Cylindrical:Wle,Data3DTexture:WC,DataArrayTexture:H_,DataTexture:nu,DataTextureLoader:fle,DataUtils:Ane,DecrementStencilOp:Rte,DecrementWrapStencilOp:Nte,DefaultLoadingManager:kV,DepthFormat:Al,DepthStencilFormat:du,DepthTexture:YC,DetachedBindMode:mj,DirectionalLight:DV,DirectionalLightHelper:ece,DiscreteInterpolant:PV,DisplayP3ColorSpace:j_,DodecahedronGeometry:tw,DoubleSide:wo,DstAlphaFactor:$4,DstColorFactor:q4,DynamicCopyUsage:Xte,DynamicDrawUsage:jte,DynamicReadUsage:Wte,EdgesGeometry:hV,EllipseCurve:K_,EqualCompare:Nj,EqualDepth:ij,EqualStencilFunc:Ote,EquirectangularReflectionMapping:Sm,EquirectangularRefractionMapping:Em,Euler:Mg,EventDispatcher:Ca,ExtrudeGeometry:rw,FileLoader:Ea,Float16BufferAttribute:Lne,Float32BufferAttribute:st,Float64BufferAttribute:Ine,FloatType:js,Fog:$_,FogExp2:G_,FramebufferTexture:Aae,FrontSide:ba,Frustum:Cg,GLBufferAttribute:Hle,GLSL1:Yte,GLSL3:ZM,GreaterCompare:Lj,GreaterDepth:oj,GreaterEqualCompare:Dj,GreaterEqualDepth:sj,GreaterEqualStencilFunc:Bte,GreaterStencilFunc:Ute,GridHelper:Jle,Group:Yd,HalfFloatType:Ih,HemisphereLight:NV,HemisphereLightHelper:Zle,IcosahedronGeometry:iw,ImageBitmapLoader:_le,ImageLoader:Vm,ImageUtils:HC,IncrementStencilOp:Pte,IncrementWrapStencilOp:kte,InstancedBufferAttribute:Uh,InstancedBufferGeometry:BV,InstancedInterleavedBuffer:Vle,InstancedMesh:rV,Int16BufferAttribute:kne,Int32BufferAttribute:Nne,Int8BufferAttribute:Cne,IntType:NC,InterleavedBuffer:X_,InterleavedBufferAttribute:hu,Interpolant:Ig,InterpolateDiscrete:Am,InterpolateLinear:Cm,InterpolateSmooth:H0,InvertStencilOp:Lte,KeepStencilOp:kc,KeyframeTrack:to,LOD:tV,LatheGeometry:Rg,Layers:tu,LessCompare:kj,LessDepth:rj,LessEqualCompare:jC,LessEqualDepth:bm,LessEqualStencilFunc:Fte,LessStencilFunc:Dte,Light:tc,LightProbe:zV,Line:jl,Line3:$le,LineBasicMaterial:pi,LineCurve:iP,LineCurve3:uV,LineDashedMaterial:MV,LineLoop:sV,LineSegments:Uo,LinearDisplayP3ColorSpace:Eg,LinearEncoding:BC,LinearFilter:Qn,LinearInterpolant:cP,LinearMipMapLinearFilter:Ste,LinearMipMapNearestFilter:bte,LinearMipmapLinearFilter:Bl,LinearMipmapNearestFilter:kC,LinearSRGBColorSpace:Io,LinearToneMapping:uj,LinearTransfer:Rm,Loader:Ri,LoaderUtils:sT,LoadingManager:dP,LoopOnce:Ej,LoopPingPong:Tj,LoopRepeat:Mj,LuminanceAlphaFormat:_j,LuminanceFormat:xj,MOUSE:Pc,Material:kr,MaterialLoader:uw,MathUtils:V_,Matrix3:Bt,Matrix4:St,MaxEquation:SM,Mesh:dr,MeshBasicMaterial:Ql,MeshDepthMaterial:KC,MeshDistanceMaterial:ZC,MeshLambertMaterial:SV,MeshMatcapMaterial:EV,MeshNormalMaterial:bV,MeshPhongMaterial:_V,MeshPhysicalMaterial:xV,MeshStandardMaterial:aP,MeshToonMaterial:wV,MinEquation:bM,MirroredRepeatWrapping:Tm,MixOperation:lj,MultiplyBlending:wM,MultiplyOperation:Sg,NearestFilter:Zn,NearestMipMapLinearFilter:wte,NearestMipMapNearestFilter:_te,NearestMipmapLinearFilter:Lp,NearestMipmapNearestFilter:Dx,NeverCompare:Rj,NeverDepth:tj,NeverStencilFunc:Ite,NoBlending:fa,NoColorSpace:Hi,NoToneMapping:Po,NormalAnimationBlendMode:B_,NormalBlending:Qc,NotEqualCompare:Ij,NotEqualDepth:aj,NotEqualStencilFunc:zte,NumberKeyframeTrack:zm,Object3D:sn,ObjectLoader:yle,ObjectSpaceNormalMap:Pj,OctahedronGeometry:kg,OneFactor:H4,OneMinusConstantAlphaFactor:ej,OneMinusConstantColorFactor:J4,OneMinusDstAlphaFactor:X4,OneMinusDstColorFactor:Y4,OneMinusSrcAlphaFactor:Ix,OneMinusSrcColorFactor:G4,OrthographicCamera:Pl,P3Primaries:Nm,PCFShadowMap:F_,PCFSoftShadowMap:Np,PMREMGenerator:QM,Path:Dm,PerspectiveCamera:Gn,Plane:sa,PlaneGeometry:Pg,PlaneHelper:ice,PointLight:IV,PointLightHelper:Yle,Points:oV,PointsMaterial:tP,PolarGridHelper:Qle,PolyhedronGeometry:ec,PositionalAudio:Tle,PropertyBinding:Qt,PropertyMixer:HV,QuadraticBezierCurve:sP,QuadraticBezierCurve3:Z_,Quaternion:Xr,QuaternionKeyframeTrack:rf,QuaternionLinearInterpolant:RV,RED_GREEN_RGTC2_Format:qM,RED_RGTC1_Format:Sj,REVISION:bg,RGBADepthPacking:Cj,RGBAFormat:oi,RGBAIntegerFormat:FC,RGBA_ASTC_10x10_Format:VM,RGBA_ASTC_10x5_Format:zM,RGBA_ASTC_10x6_Format:BM,RGBA_ASTC_10x8_Format:jM,RGBA_ASTC_12x10_Format:HM,RGBA_ASTC_12x12_Format:WM,RGBA_ASTC_4x4_Format:kM,RGBA_ASTC_5x4_Format:NM,RGBA_ASTC_5x5_Format:LM,RGBA_ASTC_6x5_Format:IM,RGBA_ASTC_6x6_Format:DM,RGBA_ASTC_8x5_Format:OM,RGBA_ASTC_8x6_Format:FM,RGBA_ASTC_8x8_Format:UM,RGBA_BPTC_Format:V0,RGBA_ETC2_EAC_Format:RM,RGBA_PVRTC_2BPPV1_Format:CM,RGBA_PVRTC_4BPPV1_Format:AM,RGBA_S3TC_DXT1_Format:z0,RGBA_S3TC_DXT3_Format:B0,RGBA_S3TC_DXT5_Format:j0,RGB_BPTC_SIGNED_Format:GM,RGB_BPTC_UNSIGNED_Format:$M,RGB_ETC1_Format:UC,RGB_ETC2_Format:PM,RGB_PVRTC_2BPPV1_Format:TM,RGB_PVRTC_4BPPV1_Format:MM,RGB_S3TC_DXT1_Format:U0,RGFormat:bj,RGIntegerFormat:OC,RawShaderMaterial:yV,Ray:Mu,Raycaster:GV,Rec709Primaries:km,RectAreaLight:FV,RedFormat:wj,RedIntegerFormat:DC,ReinhardToneMapping:dj,RenderTarget:zj,RepeatWrapping:Mm,ReplaceStencilOp:Cte,ReverseSubtractEquation:j4,RingGeometry:sw,SIGNED_RED_GREEN_RGTC2_Format:YM,SIGNED_RED_RGTC1_Format:XM,SRGBColorSpace:cr,SRGBTransfer:gn,Scene:Ux,ShaderChunk:It,ShaderLib:zs,ShaderMaterial:Zs,ShadowMaterial:vV,Shape:ru,ShapeGeometry:ow,ShapePath:ace,ShapeUtils:ko,ShortType:vj,Skeleton:q_,SkeletonHelper:qle,SkinnedMesh:nV,Source:Hc,Sphere:qr,SphereGeometry:Ng,Spherical:aT,SphericalHarmonics3:UV,SplineCurve:oP,SpotLight:LV,SpotLightHelper:Xle,Sprite:eV,SpriteMaterial:QC,SrcAlphaFactor:Lx,SrcAlphaSaturateFactor:K4,SrcColorFactor:W4,StaticCopyUsage:$te,StaticDrawUsage:Lm,StaticReadUsage:Hte,StereoCamera:ble,StreamCopyUsage:qte,StreamDrawUsage:Vte,StreamReadUsage:Gte,StringKeyframeTrack:Cu,SubtractEquation:B4,SubtractiveBlending:_M,TOUCH:Rc,TangentSpaceNormalMap:Jl,TetrahedronGeometry:aw,Texture:$n,TextureLoader:ple,TorusGeometry:lw,TorusKnotGeometry:cw,Triangle:Si,TriangleFanDrawMode:Tte,TriangleStripDrawMode:Mte,TrianglesDrawMode:Ete,TubeGeometry:Lg,TwoPassDoubleSide:xte,UVMapping:U_,Uint16BufferAttribute:GC,Uint32BufferAttribute:$C,Uint8BufferAttribute:Pne,Uint8ClampedBufferAttribute:Rne,Uniform:vP,UniformsGroup:jle,UniformsLib:Ge,UniformsUtils:XC,UnsignedByteType:Ro,UnsignedInt248Type:Tl,UnsignedIntType:ca,UnsignedShort4444Type:LC,UnsignedShort5551Type:IC,UnsignedShortType:z_,VSMShadowMap:Ns,Vector2:we,Vector3:H,Vector4:cn,VectorKeyframeTrack:Bm,VideoTexture:Tae,WebGL1Renderer:Jj,WebGL3DRenderTarget:mne,WebGLArrayRenderTarget:pne,WebGLCoordinateSystem:Vs,WebGLCubeRenderTarget:Hj,WebGLMultipleRenderTargets:gne,WebGLRenderTarget:Ks,WebGLRenderer:JC,WebGLUtils:Kj,WebGPUCoordinateSystem:Dh,WireframeGeometry:gV,WrapAroundEnding:Pm,ZeroCurvatureEnding:jc,ZeroFactor:V4,ZeroSlopeEnding:Vc,ZeroStencilOp:Ate,_SRGBAFormat:Ox,createCanvasElement:Uj,sRGBEncoding:Cl},Symbol.toStringTag,{value:"Module"}));var XV={exports:{}},Pu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Pu.ConcurrentRoot=1;Pu.ContinuousEventPriority=4;Pu.DefaultEventPriority=16;Pu.DiscreteEventPriority=1;Pu.IdleEventPriority=536870912;Pu.LegacyRoot=0;XV.exports=Pu;var Zd=XV.exports;function cce(t){let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=u?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!h(p,v)){const x=p;c(p=v,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const uce=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fD=uce?T.useEffect:T.useLayoutEffect;function dce(t){const e=typeof t=="function"?cce(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(y=>y+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),c=T.useRef(i),u=T.useRef(!1),h=T.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(h.current,p)),fD(()=>{m&&(h.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=T.useRef(o);fD(()=>{const y=()=>{try{const w=e.getState(),b=l.current(w);c.current(h.current,b)||(a.current=w,h.current=b,s())}catch{u.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:h.current;return T.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var qV={exports:{}},v1={exports:{}},y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function hce(){return pD||(pD=1,function(t){function e(F,j){var U=F.length;F.push(j);e:for(;0<U;){var $=U-1>>>1,re=F[$];if(0<i(re,j))F[$]=j,F[U]=re,U=$;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],U=F.pop();if(U!==j){F[0]=U;e:for(var $=0,re=F.length,Y=re>>>1;$<Y;){var ue=2*($+1)-1,Me=F[ue],be=ue+1,Se=F[be];if(0>i(Me,U))be<re&&0>i(Se,Me)?(F[$]=Se,F[be]=U,$=be):(F[$]=Me,F[ue]=U,$=ue);else if(be<re&&0>i(Se,U))F[$]=Se,F[be]=U,$=be;else break e}}return j}function i(F,j){var U=F.sortIndex-j.sortIndex;return U!==0?U:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function M(F){if(x=!1,b(F),!v)if(n(l)!==null)v=!0,J(C);else{var j=n(c);j!==null&&ne(M,j.startTime-F)}}function C(F,j){v=!1,x&&(x=!1,g(O),O=-1),m=!0;var U=p;try{for(b(j),h=n(l);h!==null&&(!(h.expirationTime>j)||F&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var re=$(h.expirationTime<=j);j=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),b(j)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var ue=n(c);ue!==null&&ne(M,ue.startTime-j),Y=!1}return Y}finally{h=null,p=U,m=!1}}var P=!1,R=null,O=-1,k=5,L=-1;function z(){return!(t.unstable_now()-L<k)}function G(){if(R!==null){var F=t.unstable_now();L=F;var j=!0;try{j=R(!0,F)}finally{j?te():(P=!1,R=null)}}else P=!1}var te;if(typeof w=="function")te=function(){w(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=G,te=function(){Z.postMessage(null)}}else te=function(){y(G,0)};function J(F){R=F,P||(P=!0,te())}function ne(F,j){O=y(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var U=p;p=j;try{return F()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=p;p=F;try{return j()}finally{p=U}},t.unstable_scheduleCallback=function(F,j,U){var $=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,F={id:u++,callback:j,priorityLevel:F,startTime:U,expirationTime:re,sortIndex:-1},U>$?(F.sortIndex=U,e(c,F),n(l)===null&&F===n(c)&&(x?(g(O),O=-1):x=!0,ne(M,U-$))):(F.sortIndex=re,e(l,F),v||m||(v=!0,J(C))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var U=p;p=j;try{return F.apply(this,arguments)}finally{p=U}}}}(y1)),y1}var mD;function fce(){return mD||(mD=1,v1.exports=hce()),v1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pce=function(e){var n={},r=T,i=fce(),s=Object.assign;function o(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)f+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=C&&d[C]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case x:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case w:return f=d.displayName||null,f!==null?f:R(d.type)||"Memo";case b:f=d._payload,d=d._init;try{return R(d(f))}catch{}}return null}function O(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function k(d){var f=d,_=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(_=f.return),d=f.return;while(d)}return f.tag===3?_:null}function L(d){if(k(d)!==d)throw Error(o(188))}function z(d){var f=d.alternate;if(!f){if(f=k(d),f===null)throw Error(o(188));return f!==d?null:d}for(var _=d,E=f;;){var A=_.return;if(A===null)break;var N=A.alternate;if(N===null){if(E=A.return,E!==null){_=E;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===_)return L(A),d;if(N===E)return L(A),f;N=N.sibling}throw Error(o(188))}if(_.return!==E.return)_=A,E=N;else{for(var X=!1,se=A.child;se;){if(se===_){X=!0,_=A,E=N;break}if(se===E){X=!0,E=A,_=N;break}se=se.sibling}if(!X){for(se=N.child;se;){if(se===_){X=!0,_=N,E=A;break}if(se===E){X=!0,E=N,_=A;break}se=se.sibling}if(!X)throw Error(o(189))}}if(_.alternate!==E)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?d:f}function G(d){return d=z(d),d!==null?te(d):null}function te(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=te(d);if(f!==null)return f;d=d.sibling}return null}function B(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=B(d);if(f!==null)return f}d=d.sibling}return null}var Z=Array.isArray,J=e.getPublicInstance,ne=e.getRootHostContext,F=e.getChildHostContext,j=e.prepareForCommit,U=e.resetAfterCommit,$=e.createInstance,re=e.appendInitialChild,Y=e.finalizeInitialChildren,ue=e.prepareUpdate,Me=e.shouldSetTextContent,be=e.createTextInstance,Se=e.scheduleTimeout,Le=e.cancelTimeout,je=e.noTimeout,xe=e.isPrimaryRenderer,ze=e.supportsMutation,q=e.supportsPersistence,Ee=e.supportsHydration,ge=e.getInstanceFromNode,ke=e.preparePortalMount,ve=e.getCurrentEventPriority,rt=e.detachDeletedInstance,W=e.supportsMicrotasks,D=e.scheduleMicrotask,I=e.supportsTestSelectors,K=e.findFiberRoot,oe=e.getBoundingRect,ie=e.getTextContent,le=e.isHiddenSubtree,Ne=e.matchAccessibilityRole,Ie=e.setFocusIfFocusable,Oe=e.setupIntersectionObserver,Qe=e.appendChild,dt=e.appendChildToContainer,Re=e.commitTextUpdate,kt=e.commitMount,Et=e.commitUpdate,ft=e.insertBefore,ot=e.insertInContainerBefore,$e=e.removeChild,Q=e.removeChildFromContainer,Te=e.resetTextContent,Ae=e.hideInstance,De=e.hideTextInstance,_e=e.unhideInstance,ee=e.unhideTextInstance,Fe=e.clearContainer,He=e.cloneInstance,ht=e.createContainerChildSet,it=e.appendChildToContainerChildSet,Wt=e.finalizeContainerChildren,Kt=e.replaceContainerChildren,fn=e.cloneHiddenInstance,En=e.cloneHiddenTextInstance,Jt=e.canHydrateInstance,Sr=e.canHydrateTextInstance,Qi=e.canHydrateSuspenseInstance,lf=e.isSuspenseInstancePending,cf=e.isSuspenseInstanceFallback,Nu=e.registerSuspenseInstanceRetry,Pa=e.getNextHydratableSibling,Lu=e.getFirstHydratableChild,Vg=e.getFirstHydratableChildWithinContainer,Hg=e.getFirstHydratableChildWithinSuspenseInstance,Mw=e.hydrateInstance,Tw=e.hydrateTextInstance,Aw=e.hydrateSuspenseInstance,V=e.getNextHydratableInstanceAfterSuspenseInstance,ce=e.commitHydratedContainer,fe=e.commitHydratedSuspenseInstance,pe=e.clearSuspenseBoundary,he=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,lt=e.didNotMatchHydratedContainerTextInstance,gt=e.didNotMatchHydratedTextInstance,yt;function At(d){if(yt===void 0)try{throw Error()}catch(_){var f=_.stack.trim().match(/\n( *(at )?)/);yt=f&&f[1]||""}return`
`+yt+d}var Mt=!1;function Ct(d,f){if(!d||Mt)return"";Mt=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ve){var E=Ve}Reflect.construct(d,[],f)}else{try{f.call()}catch(Ve){E=Ve}d.call(f.prototype)}else{try{throw Error()}catch(Ve){E=Ve}d()}}catch(Ve){if(Ve&&E&&typeof Ve.stack=="string"){for(var A=Ve.stack.split(`
`),N=E.stack.split(`
`),X=A.length-1,se=N.length-1;1<=X&&0<=se&&A[X]!==N[se];)se--;for(;1<=X&&0<=se;X--,se--)if(A[X]!==N[se]){if(X!==1||se!==1)do if(X--,se--,0>se||A[X]!==N[se]){var ye=`
`+A[X].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=X&&0<=se);break}}}finally{Mt=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?At(d):""}var Pn=Object.prototype.hasOwnProperty,Er=[],_n=-1;function pr(d){return{current:d}}function xt(d){0>_n||(d.current=Er[_n],Er[_n]=null,_n--)}function tt(d,f){_n++,Er[_n]=d.current,d.current=f}var es={},Vt=pr(es),Fn=pr(!1),ro=es;function ts(d,f){var _=d.type.contextTypes;if(!_)return es;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var A={},N;for(N in _)A[N]=f[N];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=A),A}function mr(d){return d=d.childContextTypes,d!=null}function Xn(){xt(Fn),xt(Vt)}function io(d,f,_){if(Vt.current!==es)throw Error(o(168));tt(Vt,f),tt(Fn,_)}function Iu(d,f,_){var E=d.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return _;E=E.getChildContext();for(var A in E)if(!(A in f))throw Error(o(108,O(d)||"Unknown",A));return s({},_,E)}function Mr(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||es,ro=Vt.current,tt(Vt,d),tt(Fn,Fn.current),!0}function Du(d,f,_){var E=d.stateNode;if(!E)throw Error(o(169));_?(d=Iu(d,f,ro),E.__reactInternalMemoizedMergedChildContext=d,xt(Fn),xt(Vt),tt(Vt,d)):xt(Fn),tt(Fn,_)}var ki=Math.clz32?Math.clz32:m8,Wg=Math.log,p8=Math.LN2;function m8(d){return d>>>=0,d===0?32:31-(Wg(d)/p8|0)|0}var Gg=64,$g=4194304;function uf(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Xg(d,f){var _=d.pendingLanes;if(_===0)return 0;var E=0,A=d.suspendedLanes,N=d.pingedLanes,X=_&268435455;if(X!==0){var se=X&~A;se!==0?E=uf(se):(N&=X,N!==0&&(E=uf(N)))}else X=_&~A,X!==0?E=uf(X):N!==0&&(E=uf(N));if(E===0)return 0;if(f!==0&&f!==E&&!(f&A)&&(A=E&-E,N=f&-f,A>=N||A===16&&(N&4194240)!==0))return f;if(E&4&&(E|=_&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=E;0<f;)_=31-ki(f),A=1<<_,E|=d[_],f&=~A;return E}function g8(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v8(d,f){for(var _=d.suspendedLanes,E=d.pingedLanes,A=d.expirationTimes,N=d.pendingLanes;0<N;){var X=31-ki(N),se=1<<X,ye=A[X];ye===-1?(!(se&_)||se&E)&&(A[X]=g8(se,f)):ye<=f&&(d.expiredLanes|=se),N&=~se}}function Cw(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Pw(d){for(var f=[],_=0;31>_;_++)f.push(d);return f}function df(d,f,_){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-ki(f),d[f]=_}function y8(d,f){var _=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<_;){var A=31-ki(_),N=1<<A;f[A]=0,E[A]=-1,d[A]=-1,_&=~N}}function Rw(d,f){var _=d.entangledLanes|=f;for(d=d.entanglements;_;){var E=31-ki(_),A=1<<E;A&f|d[E]&f&&(d[E]|=f),_&=~A}}var tn=0;function FP(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var kw=i.unstable_scheduleCallback,UP=i.unstable_cancelCallback,x8=i.unstable_shouldYield,_8=i.unstable_requestPaint,gr=i.unstable_now,Nw=i.unstable_ImmediatePriority,w8=i.unstable_UserBlockingPriority,Lw=i.unstable_NormalPriority,b8=i.unstable_IdlePriority,qg=null,so=null;function S8(d){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(qg,d,void 0,(d.current.flags&128)===128)}catch{}}function E8(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var oo=typeof Object.is=="function"?Object.is:E8,Bo=null,Yg=!1,Iw=!1;function zP(d){Bo===null?Bo=[d]:Bo.push(d)}function M8(d){Yg=!0,zP(d)}function ao(){if(!Iw&&Bo!==null){Iw=!0;var d=0,f=tn;try{var _=Bo;for(tn=1;d<_.length;d++){var E=_[d];do E=E(!0);while(E!==null)}Bo=null,Yg=!1}catch(A){throw Bo!==null&&(Bo=Bo.slice(d+1)),kw(Nw,ao),A}finally{tn=f,Iw=!1}}return null}var T8=a.ReactCurrentBatchConfig;function Kg(d,f){if(oo(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var _=Object.keys(d),E=Object.keys(f);if(_.length!==E.length)return!1;for(E=0;E<_.length;E++){var A=_[E];if(!Pn.call(f,A)||!oo(d[A],f[A]))return!1}return!0}function A8(d){switch(d.tag){case 5:return At(d.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return d=Ct(d.type,!1),d;case 11:return d=Ct(d.type.render,!1),d;case 1:return d=Ct(d.type,!0),d;default:return""}}function Ss(d,f){if(d&&d.defaultProps){f=s({},f),d=d.defaultProps;for(var _ in d)f[_]===void 0&&(f[_]=d[_]);return f}return f}var Zg=pr(null),Jg=null,Ou=null,Dw=null;function Ow(){Dw=Ou=Jg=null}function BP(d,f,_){xe?(tt(Zg,f._currentValue),f._currentValue=_):(tt(Zg,f._currentValue2),f._currentValue2=_)}function Fw(d){var f=Zg.current;xt(Zg),xe?d._currentValue=f:d._currentValue2=f}function Uw(d,f,_){for(;d!==null;){var E=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),d===_)break;d=d.return}}function Fu(d,f){Jg=d,Dw=Ou=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(Ii=!0),d.firstContext=null)}function ns(d){var f=xe?d._currentValue:d._currentValue2;if(Dw!==d)if(d={context:d,memoizedValue:f,next:null},Ou===null){if(Jg===null)throw Error(o(308));Ou=d,Jg.dependencies={lanes:0,firstContext:d}}else Ou=Ou.next=d;return f}var lo=null,Ra=!1;function zw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jP(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function jo(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function ka(d,f){var _=d.updateQueue;_!==null&&(_=_.shared,tr!==null&&d.mode&1&&!(Ht&2)?(d=_.interleaved,d===null?(f.next=f,lo===null?lo=[_]:lo.push(_)):(f.next=d.next,d.next=f),_.interleaved=f):(d=_.pending,d===null?f.next=f:(f.next=d.next,d.next=f),_.pending=f))}function Qg(d,f,_){if(f=f.updateQueue,f!==null&&(f=f.shared,(_&4194240)!==0)){var E=f.lanes;E&=d.pendingLanes,_|=E,f.lanes=_,Rw(d,_)}}function VP(d,f){var _=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,_===E)){var A=null,N=null;if(_=_.firstBaseUpdate,_!==null){do{var X={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};N===null?A=N=X:N=N.next=X,_=_.next}while(_!==null);N===null?A=N=f:N=N.next=f}else A=N=f;_={baseState:E.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:E.shared,effects:E.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=f:d.next=f,_.lastBaseUpdate=f}function ev(d,f,_,E){var A=d.updateQueue;Ra=!1;var N=A.firstBaseUpdate,X=A.lastBaseUpdate,se=A.shared.pending;if(se!==null){A.shared.pending=null;var ye=se,Ve=ye.next;ye.next=null,X===null?N=Ve:X.next=Ve,X=ye;var nt=d.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==X&&(se===null?nt.firstBaseUpdate=Ve:se.next=Ve,nt.lastBaseUpdate=ye))}if(N!==null){var Pt=A.baseState;X=0,nt=Ve=ye=null,se=N;do{var pt=se.lane,pn=se.eventTime;if((E&pt)===pt){nt!==null&&(nt=nt.next={eventTime:pn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var ct=d,Dr=se;switch(pt=f,pn=_,Dr.tag){case 1:if(ct=Dr.payload,typeof ct=="function"){Pt=ct.call(pn,Pt,pt);break e}Pt=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Dr.payload,pt=typeof ct=="function"?ct.call(pn,Pt,pt):ct,pt==null)break e;Pt=s({},Pt,pt);break e;case 2:Ra=!0}}se.callback!==null&&se.lane!==0&&(d.flags|=64,pt=A.effects,pt===null?A.effects=[se]:pt.push(se))}else pn={eventTime:pn,lane:pt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Ve=nt=pn,ye=Pt):nt=nt.next=pn,X|=pt;if(se=se.next,se===null){if(se=A.shared.pending,se===null)break;pt=se,se=pt.next,pt.next=null,A.lastBaseUpdate=pt,A.shared.pending=null}}while(!0);if(nt===null&&(ye=Pt),A.baseState=ye,A.firstBaseUpdate=Ve,A.lastBaseUpdate=nt,f=A.shared.interleaved,f!==null){A=f;do X|=A.lane,A=A.next;while(A!==f)}else N===null&&(A.shared.lanes=0);$u|=X,d.lanes=X,d.memoizedState=Pt}}function HP(d,f,_){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var E=d[f],A=E.callback;if(A!==null){if(E.callback=null,E=_,typeof A!="function")throw Error(o(191,A));A.call(E)}}}var WP=new r.Component().refs;function Bw(d,f,_,E){f=d.memoizedState,_=_(E,f),_=_==null?f:s({},f,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var tv={isMounted:function(d){return(d=d._reactInternals)?k(d)===d:!1},enqueueSetState:function(d,f,_){d=d._reactInternals;var E=Jr(),A=Ia(d),N=jo(E,A);N.payload=f,_!=null&&(N.callback=_),ka(d,N),f=as(d,A,E),f!==null&&Qg(f,d,A)},enqueueReplaceState:function(d,f,_){d=d._reactInternals;var E=Jr(),A=Ia(d),N=jo(E,A);N.tag=1,N.payload=f,_!=null&&(N.callback=_),ka(d,N),f=as(d,A,E),f!==null&&Qg(f,d,A)},enqueueForceUpdate:function(d,f){d=d._reactInternals;var _=Jr(),E=Ia(d),A=jo(_,E);A.tag=2,f!=null&&(A.callback=f),ka(d,A),f=as(d,E,_),f!==null&&Qg(f,d,E)}};function GP(d,f,_,E,A,N,X){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,N,X):f.prototype&&f.prototype.isPureReactComponent?!Kg(_,E)||!Kg(A,N):!0}function $P(d,f,_){var E=!1,A=es,N=f.contextType;return typeof N=="object"&&N!==null?N=ns(N):(A=mr(f)?ro:Vt.current,E=f.contextTypes,N=(E=E!=null)?ts(d,A):es),f=new f(_,N),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tv,d.stateNode=f,f._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=A,d.__reactInternalMemoizedMaskedChildContext=N),f}function XP(d,f,_,E){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(_,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(_,E),f.state!==d&&tv.enqueueReplaceState(f,f.state,null)}function jw(d,f,_,E){var A=d.stateNode;A.props=_,A.state=d.memoizedState,A.refs=WP,zw(d);var N=f.contextType;typeof N=="object"&&N!==null?A.context=ns(N):(N=mr(f)?ro:Vt.current,A.context=ts(d,N)),A.state=d.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Bw(d,f,N,_),A.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(f=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),f!==A.state&&tv.enqueueReplaceState(A,A.state,null),ev(d,_,A,E),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308)}var Uu=[],zu=0,nv=null,rv=0,rs=[],is=0,rc=null,Vo=1,Ho="";function ic(d,f){Uu[zu++]=rv,Uu[zu++]=nv,nv=d,rv=f}function qP(d,f,_){rs[is++]=Vo,rs[is++]=Ho,rs[is++]=rc,rc=d;var E=Vo;d=Ho;var A=32-ki(E)-1;E&=~(1<<A),_+=1;var N=32-ki(f)+A;if(30<N){var X=A-A%5;N=(E&(1<<X)-1).toString(32),E>>=X,A-=X,Vo=1<<32-ki(f)+A|_<<A|E,Ho=N+d}else Vo=1<<N|_<<A|E,Ho=d}function Vw(d){d.return!==null&&(ic(d,1),qP(d,1,0))}function Hw(d){for(;d===nv;)nv=Uu[--zu],Uu[zu]=null,rv=Uu[--zu],Uu[zu]=null;for(;d===rc;)rc=rs[--is],rs[is]=null,Ho=rs[--is],rs[is]=null,Vo=rs[--is],rs[is]=null}var Ni=null,Li=null,Mn=!1,hf=!1,Es=null;function YP(d,f){var _=ls(5,null,null,0);_.elementType="DELETED",_.stateNode=f,_.return=d,f=d.deletions,f===null?(d.deletions=[_],d.flags|=16):f.push(_)}function KP(d,f){switch(d.tag){case 5:return f=Jt(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Ni=d,Li=Lu(f),!0):!1;case 6:return f=Sr(f,d.pendingProps),f!==null?(d.stateNode=f,Ni=d,Li=null,!0):!1;case 13:if(f=Qi(f),f!==null){var _=rc!==null?{id:Vo,overflow:Ho}:null;return d.memoizedState={dehydrated:f,treeContext:_,retryLane:1073741824},_=ls(18,null,null,0),_.stateNode=f,_.return=d,d.child=_,Ni=d,Li=null,!0}return!1;default:return!1}}function Ww(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Gw(d){if(Mn){var f=Li;if(f){var _=f;if(!KP(d,f)){if(Ww(d))throw Error(o(418));f=Pa(_);var E=Ni;f&&KP(d,f)?YP(E,_):(d.flags=d.flags&-4097|2,Mn=!1,Ni=d)}}else{if(Ww(d))throw Error(o(418));d.flags=d.flags&-4097|2,Mn=!1,Ni=d}}}function ZP(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ni=d}function ff(d){if(!Ee||d!==Ni)return!1;if(!Mn)return ZP(d),Mn=!0,!1;if(d.tag!==3&&(d.tag!==5||Ze(d.type)&&!Me(d.type,d.memoizedProps))){var f=Li;if(f){if(Ww(d)){for(d=Li;d;)d=Pa(d);throw Error(o(418))}for(;f;)YP(d,f),f=Pa(f)}}if(ZP(d),d.tag===13){if(!Ee)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Li=V(d)}else Li=Ni?Pa(d.stateNode):null;return!0}function Bu(){Ee&&(Li=Ni=null,hf=Mn=!1)}function $w(d){Es===null?Es=[d]:Es.push(d)}function pf(d,f,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var E=_.stateNode}if(!E)throw Error(o(147,d));var A=E,N=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===N?f.ref:(f=function(X){var se=A.refs;se===WP&&(se=A.refs={}),X===null?delete se[N]:se[N]=X},f._stringRef=N,f)}if(typeof d!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,d))}return d}function iv(d,f){throw d=Object.prototype.toString.call(f),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function JP(d){var f=d._init;return f(d._payload)}function QP(d){function f(de,ae){if(d){var me=de.deletions;me===null?(de.deletions=[ae],de.flags|=16):me.push(ae)}}function _(de,ae){if(!d)return null;for(;ae!==null;)f(de,ae),ae=ae.sibling;return null}function E(de,ae){for(de=new Map;ae!==null;)ae.key!==null?de.set(ae.key,ae):de.set(ae.index,ae),ae=ae.sibling;return de}function A(de,ae){return de=Oa(de,ae),de.index=0,de.sibling=null,de}function N(de,ae,me){return de.index=me,d?(me=de.alternate,me!==null?(me=me.index,me<ae?(de.flags|=2,ae):me):(de.flags|=2,ae)):(de.flags|=1048576,ae)}function X(de){return d&&de.alternate===null&&(de.flags|=2),de}function se(de,ae,me,qe){return ae===null||ae.tag!==6?(ae=Pb(me,de.mode,qe),ae.return=de,ae):(ae=A(ae,me),ae.return=de,ae)}function ye(de,ae,me,qe){var at=me.type;return at===u?nt(de,ae,me.props.children,qe,me.key):ae!==null&&(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&JP(at)===ae.type)?(qe=A(ae,me.props),qe.ref=pf(de,ae,me),qe.return=de,qe):(qe=Dv(me.type,me.key,me.props,null,de.mode,qe),qe.ref=pf(de,ae,me),qe.return=de,qe)}function Ve(de,ae,me,qe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=Rb(me,de.mode,qe),ae.return=de,ae):(ae=A(ae,me.children||[]),ae.return=de,ae)}function nt(de,ae,me,qe,at){return ae===null||ae.tag!==7?(ae=dc(me,de.mode,qe,at),ae.return=de,ae):(ae=A(ae,me),ae.return=de,ae)}function Pt(de,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Pb(""+ae,de.mode,me),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return me=Dv(ae.type,ae.key,ae.props,null,de.mode,me),me.ref=pf(de,null,ae),me.return=de,me;case c:return ae=Rb(ae,de.mode,me),ae.return=de,ae;case b:var qe=ae._init;return Pt(de,qe(ae._payload),me)}if(Z(ae)||P(ae))return ae=dc(ae,de.mode,me,null),ae.return=de,ae;iv(de,ae)}return null}function pt(de,ae,me,qe){var at=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return at!==null?null:se(de,ae,""+me,qe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===at?ye(de,ae,me,qe):null;case c:return me.key===at?Ve(de,ae,me,qe):null;case b:return at=me._init,pt(de,ae,at(me._payload),qe)}if(Z(me)||P(me))return at!==null?null:nt(de,ae,me,qe,null);iv(de,me)}return null}function pn(de,ae,me,qe,at){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return de=de.get(me)||null,se(ae,de,""+qe,at);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return de=de.get(qe.key===null?me:qe.key)||null,ye(ae,de,qe,at);case c:return de=de.get(qe.key===null?me:qe.key)||null,Ve(ae,de,qe,at);case b:var Ut=qe._init;return pn(de,ae,me,Ut(qe._payload),at)}if(Z(qe)||P(qe))return de=de.get(me)||null,nt(ae,de,qe,at,null);iv(ae,qe)}return null}function ct(de,ae,me,qe){for(var at=null,Ut=null,Rt=ae,nn=ae=0,yr=null;Rt!==null&&nn<me.length;nn++){Rt.index>nn?(yr=Rt,Rt=null):yr=Rt.sibling;var rn=pt(de,Rt,me[nn],qe);if(rn===null){Rt===null&&(Rt=yr);break}d&&Rt&&rn.alternate===null&&f(de,Rt),ae=N(rn,ae,nn),Ut===null?at=rn:Ut.sibling=rn,Ut=rn,Rt=yr}if(nn===me.length)return _(de,Rt),Mn&&ic(de,nn),at;if(Rt===null){for(;nn<me.length;nn++)Rt=Pt(de,me[nn],qe),Rt!==null&&(ae=N(Rt,ae,nn),Ut===null?at=Rt:Ut.sibling=Rt,Ut=Rt);return Mn&&ic(de,nn),at}for(Rt=E(de,Rt);nn<me.length;nn++)yr=pn(Rt,de,nn,me[nn],qe),yr!==null&&(d&&yr.alternate!==null&&Rt.delete(yr.key===null?nn:yr.key),ae=N(yr,ae,nn),Ut===null?at=yr:Ut.sibling=yr,Ut=yr);return d&&Rt.forEach(function(Fa){return f(de,Fa)}),Mn&&ic(de,nn),at}function Dr(de,ae,me,qe){var at=P(me);if(typeof at!="function")throw Error(o(150));if(me=at.call(me),me==null)throw Error(o(151));for(var Ut=at=null,Rt=ae,nn=ae=0,yr=null,rn=me.next();Rt!==null&&!rn.done;nn++,rn=me.next()){Rt.index>nn?(yr=Rt,Rt=null):yr=Rt.sibling;var Fa=pt(de,Rt,rn.value,qe);if(Fa===null){Rt===null&&(Rt=yr);break}d&&Rt&&Fa.alternate===null&&f(de,Rt),ae=N(Fa,ae,nn),Ut===null?at=Fa:Ut.sibling=Fa,Ut=Fa,Rt=yr}if(rn.done)return _(de,Rt),Mn&&ic(de,nn),at;if(Rt===null){for(;!rn.done;nn++,rn=me.next())rn=Pt(de,rn.value,qe),rn!==null&&(ae=N(rn,ae,nn),Ut===null?at=rn:Ut.sibling=rn,Ut=rn);return Mn&&ic(de,nn),at}for(Rt=E(de,Rt);!rn.done;nn++,rn=me.next())rn=pn(Rt,de,nn,rn.value,qe),rn!==null&&(d&&rn.alternate!==null&&Rt.delete(rn.key===null?nn:rn.key),ae=N(rn,ae,nn),Ut===null?at=rn:Ut.sibling=rn,Ut=rn);return d&&Rt.forEach(function(r6){return f(de,r6)}),Mn&&ic(de,nn),at}function cs(de,ae,me,qe){if(typeof me=="object"&&me!==null&&me.type===u&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var at=me.key,Ut=ae;Ut!==null;){if(Ut.key===at){if(at=me.type,at===u){if(Ut.tag===7){_(de,Ut.sibling),ae=A(Ut,me.props.children),ae.return=de,de=ae;break e}}else if(Ut.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&JP(at)===Ut.type){_(de,Ut.sibling),ae=A(Ut,me.props),ae.ref=pf(de,Ut,me),ae.return=de,de=ae;break e}_(de,Ut);break}else f(de,Ut);Ut=Ut.sibling}me.type===u?(ae=dc(me.props.children,de.mode,qe,me.key),ae.return=de,de=ae):(qe=Dv(me.type,me.key,me.props,null,de.mode,qe),qe.ref=pf(de,ae,me),qe.return=de,de=qe)}return X(de);case c:e:{for(Ut=me.key;ae!==null;){if(ae.key===Ut)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){_(de,ae.sibling),ae=A(ae,me.children||[]),ae.return=de,de=ae;break e}else{_(de,ae);break}else f(de,ae);ae=ae.sibling}ae=Rb(me,de.mode,qe),ae.return=de,de=ae}return X(de);case b:return Ut=me._init,cs(de,ae,Ut(me._payload),qe)}if(Z(me))return ct(de,ae,me,qe);if(P(me))return Dr(de,ae,me,qe);iv(de,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ae!==null&&ae.tag===6?(_(de,ae.sibling),ae=A(ae,me),ae.return=de,de=ae):(_(de,ae),ae=Pb(me,de.mode,qe),ae.return=de,de=ae),X(de)):_(de,ae)}return cs}var ju=QP(!0),eR=QP(!1),mf={},ss=pr(mf),gf=pr(mf),Vu=pr(mf);function co(d){if(d===mf)throw Error(o(174));return d}function Xw(d,f){tt(Vu,f),tt(gf,d),tt(ss,mf),d=ne(f),xt(ss),tt(ss,d)}function Hu(){xt(ss),xt(gf),xt(Vu)}function tR(d){var f=co(Vu.current),_=co(ss.current);f=F(_,d.type,f),_!==f&&(tt(gf,d),tt(ss,f))}function qw(d){gf.current===d&&(xt(ss),xt(gf))}var Rn=pr(0);function sv(d){for(var f=d;f!==null;){if(f.tag===13){var _=f.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||lf(_)||cf(_)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Yw=[];function Kw(){for(var d=0;d<Yw.length;d++){var f=Yw[d];xe?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Yw.length=0}var ov=a.ReactCurrentDispatcher,os=a.ReactCurrentBatchConfig,Wu=0,Un=null,Nr=null,vr=null,av=!1,vf=!1,yf=0,C8=0;function Lr(){throw Error(o(321))}function Zw(d,f){if(f===null)return!1;for(var _=0;_<f.length&&_<d.length;_++)if(!oo(d[_],f[_]))return!1;return!0}function Jw(d,f,_,E,A,N){if(Wu=N,Un=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ov.current=d===null||d.memoizedState===null?N8:L8,d=_(E,A),vf){N=0;do{if(vf=!1,yf=0,25<=N)throw Error(o(301));N+=1,vr=Nr=null,f.updateQueue=null,ov.current=I8,d=_(E,A)}while(vf)}if(ov.current=hv,f=Nr!==null&&Nr.next!==null,Wu=0,vr=Nr=Un=null,av=!1,f)throw Error(o(300));return d}function Qw(){var d=yf!==0;return yf=0,d}function Wo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Un.memoizedState=vr=d:vr=vr.next=d,vr}function uo(){if(Nr===null){var d=Un.alternate;d=d!==null?d.memoizedState:null}else d=Nr.next;var f=vr===null?Un.memoizedState:vr.next;if(f!==null)vr=f,Nr=d;else{if(d===null)throw Error(o(310));Nr=d,d={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},vr===null?Un.memoizedState=vr=d:vr=vr.next=d}return vr}function sc(d,f){return typeof f=="function"?f(d):f}function lv(d){var f=uo(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var E=Nr,A=E.baseQueue,N=_.pending;if(N!==null){if(A!==null){var X=A.next;A.next=N.next,N.next=X}E.baseQueue=A=N,_.pending=null}if(A!==null){N=A.next,E=E.baseState;var se=X=null,ye=null,Ve=N;do{var nt=Ve.lane;if((Wu&nt)===nt)ye!==null&&(ye=ye.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),E=Ve.hasEagerState?Ve.eagerState:d(E,Ve.action);else{var Pt={lane:nt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};ye===null?(se=ye=Pt,X=E):ye=ye.next=Pt,Un.lanes|=nt,$u|=nt}Ve=Ve.next}while(Ve!==null&&Ve!==N);ye===null?X=E:ye.next=se,oo(E,f.memoizedState)||(Ii=!0),f.memoizedState=E,f.baseState=X,f.baseQueue=ye,_.lastRenderedState=E}if(d=_.interleaved,d!==null){A=d;do N=A.lane,Un.lanes|=N,$u|=N,A=A.next;while(A!==d)}else A===null&&(_.lanes=0);return[f.memoizedState,_.dispatch]}function cv(d){var f=uo(),_=f.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var E=_.dispatch,A=_.pending,N=f.memoizedState;if(A!==null){_.pending=null;var X=A=A.next;do N=d(N,X.action),X=X.next;while(X!==A);oo(N,f.memoizedState)||(Ii=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),_.lastRenderedState=N}return[N,E]}function nR(){}function rR(d,f){var _=Un,E=uo(),A=f(),N=!oo(E.memoizedState,A);if(N&&(E.memoizedState=A,Ii=!0),E=E.queue,_f(oR.bind(null,_,E,d),[d]),E.getSnapshot!==f||N||vr!==null&&vr.memoizedState.tag&1){if(_.flags|=2048,xf(9,sR.bind(null,_,E,A,f),void 0,null),tr===null)throw Error(o(349));Wu&30||iR(_,f,A)}return A}function iR(d,f,_){d.flags|=16384,d={getSnapshot:f,value:_},f=Un.updateQueue,f===null?(f={lastEffect:null,stores:null},Un.updateQueue=f,f.stores=[d]):(_=f.stores,_===null?f.stores=[d]:_.push(d))}function sR(d,f,_,E){f.value=_,f.getSnapshot=E,aR(f)&&as(d,1,-1)}function oR(d,f,_){return _(function(){aR(f)&&as(d,1,-1)})}function aR(d){var f=d.getSnapshot;d=d.value;try{var _=f();return!oo(d,_)}catch{return!0}}function eb(d){var f=Wo();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:d},f.queue=d,d=d.dispatch=k8.bind(null,Un,d),[f.memoizedState,d]}function xf(d,f,_,E){return d={tag:d,create:f,destroy:_,deps:E,next:null},f=Un.updateQueue,f===null?(f={lastEffect:null,stores:null},Un.updateQueue=f,f.lastEffect=d.next=d):(_=f.lastEffect,_===null?f.lastEffect=d.next=d:(E=_.next,_.next=d,d.next=E,f.lastEffect=d)),d}function lR(){return uo().memoizedState}function uv(d,f,_,E){var A=Wo();Un.flags|=d,A.memoizedState=xf(1|f,_,void 0,E===void 0?null:E)}function dv(d,f,_,E){var A=uo();E=E===void 0?null:E;var N=void 0;if(Nr!==null){var X=Nr.memoizedState;if(N=X.destroy,E!==null&&Zw(E,X.deps)){A.memoizedState=xf(f,_,N,E);return}}Un.flags|=d,A.memoizedState=xf(1|f,_,N,E)}function tb(d,f){return uv(8390656,8,d,f)}function _f(d,f){return dv(2048,8,d,f)}function cR(d,f){return dv(4,2,d,f)}function uR(d,f){return dv(4,4,d,f)}function dR(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function hR(d,f,_){return _=_!=null?_.concat([d]):null,dv(4,4,dR.bind(null,f,d),_)}function nb(){}function fR(d,f){var _=uo();f=f===void 0?null:f;var E=_.memoizedState;return E!==null&&f!==null&&Zw(f,E[1])?E[0]:(_.memoizedState=[d,f],d)}function pR(d,f){var _=uo();f=f===void 0?null:f;var E=_.memoizedState;return E!==null&&f!==null&&Zw(f,E[1])?E[0]:(d=d(),_.memoizedState=[d,f],d)}function P8(d,f){var _=tn;tn=_!==0&&4>_?_:4,d(!0);var E=os.transition;os.transition={};try{d(!1),f()}finally{tn=_,os.transition=E}}function mR(){return uo().memoizedState}function R8(d,f,_){var E=Ia(d);_={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null},gR(d)?vR(f,_):(yR(d,f,_),_=Jr(),d=as(d,E,_),d!==null&&xR(d,f,E))}function k8(d,f,_){var E=Ia(d),A={lane:E,action:_,hasEagerState:!1,eagerState:null,next:null};if(gR(d))vR(f,A);else{yR(d,f,A);var N=d.alternate;if(d.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var X=f.lastRenderedState,se=N(X,_);if(A.hasEagerState=!0,A.eagerState=se,oo(se,X))return}catch{}finally{}_=Jr(),d=as(d,E,_),d!==null&&xR(d,f,E)}}function gR(d){var f=d.alternate;return d===Un||f!==null&&f===Un}function vR(d,f){vf=av=!0;var _=d.pending;_===null?f.next=f:(f.next=_.next,_.next=f),d.pending=f}function yR(d,f,_){tr!==null&&d.mode&1&&!(Ht&2)?(d=f.interleaved,d===null?(_.next=_,lo===null?lo=[f]:lo.push(f)):(_.next=d.next,d.next=_),f.interleaved=_):(d=f.pending,d===null?_.next=_:(_.next=d.next,d.next=_),f.pending=_)}function xR(d,f,_){if(_&4194240){var E=f.lanes;E&=d.pendingLanes,_|=E,f.lanes=_,Rw(d,_)}}var hv={readContext:ns,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},N8={readContext:ns,useCallback:function(d,f){return Wo().memoizedState=[d,f===void 0?null:f],d},useContext:ns,useEffect:tb,useImperativeHandle:function(d,f,_){return _=_!=null?_.concat([d]):null,uv(4194308,4,dR.bind(null,f,d),_)},useLayoutEffect:function(d,f){return uv(4194308,4,d,f)},useInsertionEffect:function(d,f){return uv(4,2,d,f)},useMemo:function(d,f){var _=Wo();return f=f===void 0?null:f,d=d(),_.memoizedState=[d,f],d},useReducer:function(d,f,_){var E=Wo();return f=_!==void 0?_(f):f,E.memoizedState=E.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},E.queue=d,d=d.dispatch=R8.bind(null,Un,d),[E.memoizedState,d]},useRef:function(d){var f=Wo();return d={current:d},f.memoizedState=d},useState:eb,useDebugValue:nb,useDeferredValue:function(d){var f=eb(d),_=f[0],E=f[1];return tb(function(){var A=os.transition;os.transition={};try{E(d)}finally{os.transition=A}},[d]),_},useTransition:function(){var d=eb(!1),f=d[0];return d=P8.bind(null,d[1]),Wo().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,_){var E=Un,A=Wo();if(Mn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=f(),tr===null)throw Error(o(349));Wu&30||iR(E,f,_)}A.memoizedState=_;var N={value:_,getSnapshot:f};return A.queue=N,tb(oR.bind(null,E,N,d),[d]),E.flags|=2048,xf(9,sR.bind(null,E,N,_,f),void 0,null),_},useId:function(){var d=Wo(),f=tr.identifierPrefix;if(Mn){var _=Ho,E=Vo;_=(E&~(1<<32-ki(E)-1)).toString(32)+_,f=":"+f+"R"+_,_=yf++,0<_&&(f+="H"+_.toString(32)),f+=":"}else _=C8++,f=":"+f+"r"+_.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},L8={readContext:ns,useCallback:fR,useContext:ns,useEffect:_f,useImperativeHandle:hR,useInsertionEffect:cR,useLayoutEffect:uR,useMemo:pR,useReducer:lv,useRef:lR,useState:function(){return lv(sc)},useDebugValue:nb,useDeferredValue:function(d){var f=lv(sc),_=f[0],E=f[1];return _f(function(){var A=os.transition;os.transition={};try{E(d)}finally{os.transition=A}},[d]),_},useTransition:function(){var d=lv(sc)[0],f=uo().memoizedState;return[d,f]},useMutableSource:nR,useSyncExternalStore:rR,useId:mR,unstable_isNewReconciler:!1},I8={readContext:ns,useCallback:fR,useContext:ns,useEffect:_f,useImperativeHandle:hR,useInsertionEffect:cR,useLayoutEffect:uR,useMemo:pR,useReducer:cv,useRef:lR,useState:function(){return cv(sc)},useDebugValue:nb,useDeferredValue:function(d){var f=cv(sc),_=f[0],E=f[1];return _f(function(){var A=os.transition;os.transition={};try{E(d)}finally{os.transition=A}},[d]),_},useTransition:function(){var d=cv(sc)[0],f=uo().memoizedState;return[d,f]},useMutableSource:nR,useSyncExternalStore:rR,useId:mR,unstable_isNewReconciler:!1};function rb(d,f){try{var _="",E=f;do _+=A8(E),E=E.return;while(E);var A=_}catch(N){A=`
Error generating stack: `+N.message+`
`+N.stack}return{value:d,source:f,stack:A}}function ib(d,f){try{console.error(f.value)}catch(_){setTimeout(function(){throw _})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function _R(d,f,_){_=jo(-1,_),_.tag=3,_.payload={element:null};var E=f.value;return _.callback=function(){Cv||(Cv=!0,bb=E),ib(d,f)},_}function wR(d,f,_){_=jo(-1,_),_.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var A=f.value;_.payload=function(){return E(A)},_.callback=function(){ib(d,f)}}var N=d.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(_.callback=function(){ib(d,f),typeof E!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),_}function bR(d,f,_){var E=d.pingCache;if(E===null){E=d.pingCache=new D8;var A=new Set;E.set(f,A)}else A=E.get(f),A===void 0&&(A=new Set,E.set(f,A));A.has(_)||(A.add(_),d=Y8.bind(null,d,f,_),f.then(d,d))}function SR(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function ER(d,f,_,E,A){return d.mode&1?(d.flags|=65536,d.lanes=A,d):(d===f?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(f=jo(-1,1),f.tag=2,ka(_,f))),_.lanes|=1),d)}function ho(d){d.flags|=4}function MR(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var wf,bf,fv,pv;if(ze)wf=function(d,f){for(var _=f.child;_!==null;){if(_.tag===5||_.tag===6)re(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},bf=function(){},fv=function(d,f,_,E,A){if(d=d.memoizedProps,d!==E){var N=f.stateNode,X=co(ss.current);_=ue(N,_,d,E,A,X),(f.updateQueue=_)&&ho(f)}},pv=function(d,f,_,E){_!==E&&ho(f)};else if(q){wf=function(d,f,_,E){for(var A=f.child;A!==null;){if(A.tag===5){var N=A.stateNode;_&&E&&(N=fn(N,A.type,A.memoizedProps,A)),re(d,N)}else if(A.tag===6)N=A.stateNode,_&&E&&(N=En(N,A.memoizedProps,A)),re(d,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),wf(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var TR=function(d,f,_,E){for(var A=f.child;A!==null;){if(A.tag===5){var N=A.stateNode;_&&E&&(N=fn(N,A.type,A.memoizedProps,A)),it(d,N)}else if(A.tag===6)N=A.stateNode,_&&E&&(N=En(N,A.memoizedProps,A)),it(d,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),TR(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};bf=function(d,f){var _=f.stateNode;if(!MR(d,f)){d=_.containerInfo;var E=ht(d);TR(E,f,!1,!1),_.pendingChildren=E,ho(f),Wt(d,E)}},fv=function(d,f,_,E,A){var N=d.stateNode,X=d.memoizedProps;if((d=MR(d,f))&&X===E)f.stateNode=N;else{var se=f.stateNode,ye=co(ss.current),Ve=null;X!==E&&(Ve=ue(se,_,X,E,A,ye)),d&&Ve===null?f.stateNode=N:(N=He(N,Ve,_,X,E,f,d,se),Y(N,_,E,A,ye)&&ho(f),f.stateNode=N,d?ho(f):wf(N,f,!1,!1))}},pv=function(d,f,_,E){_!==E?(d=co(Vu.current),_=co(ss.current),f.stateNode=be(E,d,_,f),ho(f)):f.stateNode=d.stateNode}}else bf=function(){},fv=function(){},pv=function(){};function Sf(d,f){if(!Mn)switch(d.tailMode){case"hidden":f=d.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var E=null;_!==null;)_.alternate!==null&&(E=_),_=_.sibling;E===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function Ir(d){var f=d.alternate!==null&&d.alternate.child===d.child,_=0,E=0;if(f)for(var A=d.child;A!==null;)_|=A.lanes|A.childLanes,E|=A.subtreeFlags&14680064,E|=A.flags&14680064,A.return=d,A=A.sibling;else for(A=d.child;A!==null;)_|=A.lanes|A.childLanes,E|=A.subtreeFlags,E|=A.flags,A.return=d,A=A.sibling;return d.subtreeFlags|=E,d.childLanes=_,f}function O8(d,f,_){var E=f.pendingProps;switch(Hw(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(f),null;case 1:return mr(f.type)&&Xn(),Ir(f),null;case 3:return E=f.stateNode,Hu(),xt(Fn),xt(Vt),Kw(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(ff(f)?ho(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Es!==null&&(Mb(Es),Es=null))),bf(d,f),Ir(f),null;case 5:qw(f),_=co(Vu.current);var A=f.type;if(d!==null&&f.stateNode!=null)fv(d,f,A,E,_),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(o(166));return Ir(f),null}if(d=co(ss.current),ff(f)){if(!Ee)throw Error(o(175));d=Mw(f.stateNode,f.type,f.memoizedProps,_,d,f,!hf),f.updateQueue=d,d!==null&&ho(f)}else{var N=$(A,E,_,d,f);wf(N,f,!1,!1),f.stateNode=N,Y(N,A,E,_,d)&&ho(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ir(f),null;case 6:if(d&&f.stateNode!=null)pv(d,f,d.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(o(166));if(d=co(Vu.current),_=co(ss.current),ff(f)){if(!Ee)throw Error(o(176));if(d=f.stateNode,E=f.memoizedProps,(_=Tw(d,E,f,!hf))&&(A=Ni,A!==null))switch(N=(A.mode&1)!==0,A.tag){case 3:lt(A.stateNode.containerInfo,d,E,N);break;case 5:gt(A.type,A.memoizedProps,A.stateNode,d,E,N)}_&&ho(f)}else f.stateNode=be(E,d,_,f)}return Ir(f),null;case 13:if(xt(Rn),E=f.memoizedState,Mn&&Li!==null&&f.mode&1&&!(f.flags&128)){for(d=Li;d;)d=Pa(d);return Bu(),f.flags|=98560,f}if(E!==null&&E.dehydrated!==null){if(E=ff(f),d===null){if(!E)throw Error(o(318));if(!Ee)throw Error(o(344));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Aw(d,f)}else Bu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Ir(f),null}return Es!==null&&(Mb(Es),Es=null),f.flags&128?(f.lanes=_,f):(E=E!==null,_=!1,d===null?ff(f):_=d.memoizedState!==null,E&&!_&&(f.child.flags|=8192,f.mode&1&&(d===null||Rn.current&1?or===0&&(or=3):Ab())),f.updateQueue!==null&&(f.flags|=4),Ir(f),null);case 4:return Hu(),bf(d,f),d===null&&ke(f.stateNode.containerInfo),Ir(f),null;case 10:return Fw(f.type._context),Ir(f),null;case 17:return mr(f.type)&&Xn(),Ir(f),null;case 19:if(xt(Rn),A=f.memoizedState,A===null)return Ir(f),null;if(E=(f.flags&128)!==0,N=A.rendering,N===null)if(E)Sf(A,!1);else{if(or!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(N=sv(d),N!==null){for(f.flags|=128,Sf(A,!1),d=N.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=_,E=f.child;E!==null;)_=E,A=d,_.flags&=14680066,N=_.alternate,N===null?(_.childLanes=0,_.lanes=A,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,A=N.dependencies,_.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),E=E.sibling;return tt(Rn,Rn.current&1|2),f.child}d=d.sibling}A.tail!==null&&gr()>wb&&(f.flags|=128,E=!0,Sf(A,!1),f.lanes=4194304)}else{if(!E)if(d=sv(N),d!==null){if(f.flags|=128,E=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),Sf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!Mn)return Ir(f),null}else 2*gr()-A.renderingStartTime>wb&&_!==1073741824&&(f.flags|=128,E=!0,Sf(A,!1),f.lanes=4194304);A.isBackwards?(N.sibling=f.child,f.child=N):(d=A.last,d!==null?d.sibling=N:f.child=N,A.last=N)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=gr(),f.sibling=null,d=Rn.current,tt(Rn,E?d&1|2:d&1),f):(Ir(f),null);case 22:case 23:return Tb(),E=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(f.flags|=8192),E&&f.mode&1?Di&1073741824&&(Ir(f),ze&&f.subtreeFlags&6&&(f.flags|=8192)):Ir(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var F8=a.ReactCurrentOwner,Ii=!1;function Zr(d,f,_,E){f.child=d===null?eR(f,null,_,E):ju(f,d.child,_,E)}function AR(d,f,_,E,A){_=_.render;var N=f.ref;return Fu(f,A),E=Jw(d,f,_,E,N,A),_=Qw(),d!==null&&!Ii?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~A,Go(d,f,A)):(Mn&&_&&Vw(f),f.flags|=1,Zr(d,f,E,A),f.child)}function CR(d,f,_,E,A){if(d===null){var N=_.type;return typeof N=="function"&&!Cb(N)&&N.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(f.tag=15,f.type=N,PR(d,f,N,E,A)):(d=Dv(_.type,null,E,f,f.mode,A),d.ref=f.ref,d.return=f,f.child=d)}if(N=d.child,!(d.lanes&A)){var X=N.memoizedProps;if(_=_.compare,_=_!==null?_:Kg,_(X,E)&&d.ref===f.ref)return Go(d,f,A)}return f.flags|=1,d=Oa(N,E),d.ref=f.ref,d.return=f,f.child=d}function PR(d,f,_,E,A){if(d!==null&&Kg(d.memoizedProps,E)&&d.ref===f.ref)if(Ii=!1,(d.lanes&A)!==0)d.flags&131072&&(Ii=!0);else return f.lanes=d.lanes,Go(d,f,A);return sb(d,f,_,E,A)}function RR(d,f,_){var E=f.pendingProps,A=E.children,N=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},tt(Gu,Di),Di|=_;else if(_&1073741824)f.memoizedState={baseLanes:0,cachePool:null},E=N!==null?N.baseLanes:_,tt(Gu,Di),Di|=E;else return d=N!==null?N.baseLanes|_:_,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null},f.updateQueue=null,tt(Gu,Di),Di|=d,null;else N!==null?(E=N.baseLanes|_,f.memoizedState=null):E=_,tt(Gu,Di),Di|=E;return Zr(d,f,A,_),f.child}function kR(d,f){var _=f.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(f.flags|=512,f.flags|=2097152)}function sb(d,f,_,E,A){var N=mr(_)?ro:Vt.current;return N=ts(f,N),Fu(f,A),_=Jw(d,f,_,E,N,A),E=Qw(),d!==null&&!Ii?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~A,Go(d,f,A)):(Mn&&E&&Vw(f),f.flags|=1,Zr(d,f,_,A),f.child)}function NR(d,f,_,E,A){if(mr(_)){var N=!0;Mr(f)}else N=!1;if(Fu(f,A),f.stateNode===null)d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),$P(f,_,E),jw(f,_,E,A),E=!0;else if(d===null){var X=f.stateNode,se=f.memoizedProps;X.props=se;var ye=X.context,Ve=_.contextType;typeof Ve=="object"&&Ve!==null?Ve=ns(Ve):(Ve=mr(_)?ro:Vt.current,Ve=ts(f,Ve));var nt=_.getDerivedStateFromProps,Pt=typeof nt=="function"||typeof X.getSnapshotBeforeUpdate=="function";Pt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==E||ye!==Ve)&&XP(f,X,E,Ve),Ra=!1;var pt=f.memoizedState;X.state=pt,ev(f,E,X,A),ye=f.memoizedState,se!==E||pt!==ye||Fn.current||Ra?(typeof nt=="function"&&(Bw(f,_,nt,E),ye=f.memoizedState),(se=Ra||GP(f,_,se,E,pt,ye,Ve))?(Pt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=ye),X.props=E,X.state=ye,X.context=Ve,E=se):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{X=f.stateNode,jP(d,f),se=f.memoizedProps,Ve=f.type===f.elementType?se:Ss(f.type,se),X.props=Ve,Pt=f.pendingProps,pt=X.context,ye=_.contextType,typeof ye=="object"&&ye!==null?ye=ns(ye):(ye=mr(_)?ro:Vt.current,ye=ts(f,ye));var pn=_.getDerivedStateFromProps;(nt=typeof pn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(se!==Pt||pt!==ye)&&XP(f,X,E,ye),Ra=!1,pt=f.memoizedState,X.state=pt,ev(f,E,X,A);var ct=f.memoizedState;se!==Pt||pt!==ct||Fn.current||Ra?(typeof pn=="function"&&(Bw(f,_,pn,E),ct=f.memoizedState),(Ve=Ra||GP(f,_,Ve,E,pt,ct,ye)||!1)?(nt||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(E,ct,ye),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(E,ct,ye)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||se===d.memoizedProps&&pt===d.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&pt===d.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=ct),X.props=E,X.state=ct,X.context=ye,E=Ve):(typeof X.componentDidUpdate!="function"||se===d.memoizedProps&&pt===d.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&pt===d.memoizedState||(f.flags|=1024),E=!1)}return ob(d,f,_,E,N,A)}function ob(d,f,_,E,A,N){kR(d,f);var X=(f.flags&128)!==0;if(!E&&!X)return A&&Du(f,_,!1),Go(d,f,N);E=f.stateNode,F8.current=f;var se=X&&typeof _.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,d!==null&&X?(f.child=ju(f,d.child,null,N),f.child=ju(f,null,se,N)):Zr(d,f,se,N),f.memoizedState=E.state,A&&Du(f,_,!0),f.child}function LR(d){var f=d.stateNode;f.pendingContext?io(d,f.pendingContext,f.pendingContext!==f.context):f.context&&io(d,f.context,!1),Xw(d,f.containerInfo)}function IR(d,f,_,E,A){return Bu(),$w(A),f.flags|=256,Zr(d,f,_,E),f.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function gv(d){return{baseLanes:d,cachePool:null}}function DR(d,f,_){var E=f.pendingProps,A=Rn.current,N=!1,X=(f.flags&128)!==0,se;if((se=X)||(se=d!==null&&d.memoizedState===null?!1:(A&2)!==0),se?(N=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(A|=1),tt(Rn,A&1),d===null)return Gw(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?cf(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(A=E.children,d=E.fallback,N?(E=f.mode,N=f.child,A={mode:"hidden",children:A},!(E&1)&&N!==null?(N.childLanes=0,N.pendingProps=A):N=Ov(A,E,0,null),d=dc(d,E,_,null),N.return=f,d.return=f,N.sibling=d,f.child=N,f.child.memoizedState=gv(_),f.memoizedState=mv,d):ab(f,A));if(A=d.memoizedState,A!==null){if(se=A.dehydrated,se!==null){if(X)return f.flags&256?(f.flags&=-257,vv(d,f,_,Error(o(422)))):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(N=E.fallback,A=f.mode,E=Ov({mode:"visible",children:E.children},A,0,null),N=dc(N,A,_,null),N.flags|=2,E.return=f,N.return=f,E.sibling=N,f.child=E,f.mode&1&&ju(f,d.child,null,_),f.child.memoizedState=gv(_),f.memoizedState=mv,N);if(!(f.mode&1))f=vv(d,f,_,null);else if(cf(se))f=vv(d,f,_,Error(o(419)));else if(E=(_&d.childLanes)!==0,Ii||E){if(E=tr,E!==null){switch(_&-_){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}E=N&(E.suspendedLanes|_)?0:N,E!==0&&E!==A.retryLane&&(A.retryLane=E,as(d,E,-1))}Ab(),f=vv(d,f,_,Error(o(421)))}else lf(se)?(f.flags|=128,f.child=d.child,f=K8.bind(null,d),Nu(se,f),f=null):(_=A.treeContext,Ee&&(Li=Hg(se),Ni=f,Mn=!0,Es=null,hf=!1,_!==null&&(rs[is++]=Vo,rs[is++]=Ho,rs[is++]=rc,Vo=_.id,Ho=_.overflow,rc=f)),f=ab(f,f.pendingProps.children),f.flags|=4096);return f}return N?(E=FR(d,f,E.children,E.fallback,_),N=f.child,A=d.child.memoizedState,N.memoizedState=A===null?gv(_):{baseLanes:A.baseLanes|_,cachePool:null},N.childLanes=d.childLanes&~_,f.memoizedState=mv,E):(_=OR(d,f,E.children,_),f.memoizedState=null,_)}return N?(E=FR(d,f,E.children,E.fallback,_),N=f.child,A=d.child.memoizedState,N.memoizedState=A===null?gv(_):{baseLanes:A.baseLanes|_,cachePool:null},N.childLanes=d.childLanes&~_,f.memoizedState=mv,E):(_=OR(d,f,E.children,_),f.memoizedState=null,_)}function ab(d,f){return f=Ov({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function OR(d,f,_,E){var A=d.child;return d=A.sibling,_=Oa(A,{mode:"visible",children:_}),!(f.mode&1)&&(_.lanes=E),_.return=f,_.sibling=null,d!==null&&(E=f.deletions,E===null?(f.deletions=[d],f.flags|=16):E.push(d)),f.child=_}function FR(d,f,_,E,A){var N=f.mode;d=d.child;var X=d.sibling,se={mode:"hidden",children:_};return!(N&1)&&f.child!==d?(_=f.child,_.childLanes=0,_.pendingProps=se,f.deletions=null):(_=Oa(d,se),_.subtreeFlags=d.subtreeFlags&14680064),X!==null?E=Oa(X,E):(E=dc(E,N,A,null),E.flags|=2),E.return=f,_.return=f,_.sibling=E,f.child=_,E}function vv(d,f,_,E){return E!==null&&$w(E),ju(f,d.child,null,_),d=ab(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function UR(d,f,_){d.lanes|=f;var E=d.alternate;E!==null&&(E.lanes|=f),Uw(d.return,f,_)}function lb(d,f,_,E,A){var N=d.memoizedState;N===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:_,tailMode:A}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=E,N.tail=_,N.tailMode=A)}function zR(d,f,_){var E=f.pendingProps,A=E.revealOrder,N=E.tail;if(Zr(d,f,E.children,_),E=Rn.current,E&2)E=E&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&UR(d,_,f);else if(d.tag===19)UR(d,_,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(tt(Rn,E),!(f.mode&1))f.memoizedState=null;else switch(A){case"forwards":for(_=f.child,A=null;_!==null;)d=_.alternate,d!==null&&sv(d)===null&&(A=_),_=_.sibling;_=A,_===null?(A=f.child,f.child=null):(A=_.sibling,_.sibling=null),lb(f,!1,A,_,N);break;case"backwards":for(_=null,A=f.child,f.child=null;A!==null;){if(d=A.alternate,d!==null&&sv(d)===null){f.child=A;break}d=A.sibling,A.sibling=_,_=A,A=d}lb(f,!0,_,null,N);break;case"together":lb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Go(d,f,_){if(d!==null&&(f.dependencies=d.dependencies),$u|=f.lanes,!(_&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(o(153));if(f.child!==null){for(d=f.child,_=Oa(d,d.pendingProps),f.child=_,_.return=f;d.sibling!==null;)d=d.sibling,_=_.sibling=Oa(d,d.pendingProps),_.return=f;_.sibling=null}return f.child}function U8(d,f,_){switch(f.tag){case 3:LR(f),Bu();break;case 5:tR(f);break;case 1:mr(f.type)&&Mr(f);break;case 4:Xw(f,f.stateNode.containerInfo);break;case 10:BP(f,f.type._context,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(tt(Rn,Rn.current&1),f.flags|=128,null):_&f.child.childLanes?DR(d,f,_):(tt(Rn,Rn.current&1),d=Go(d,f,_),d!==null?d.sibling:null);tt(Rn,Rn.current&1);break;case 19:if(E=(_&f.childLanes)!==0,d.flags&128){if(E)return zR(d,f,_);f.flags|=128}var A=f.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),tt(Rn,Rn.current),E)break;return null;case 22:case 23:return f.lanes=0,RR(d,f,_)}return Go(d,f,_)}function z8(d,f){switch(Hw(f),f.tag){case 1:return mr(f.type)&&Xn(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Hu(),xt(Fn),xt(Vt),Kw(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return qw(f),null;case 13:if(xt(Rn),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Bu()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return xt(Rn),null;case 4:return Hu(),null;case 10:return Fw(f.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var yv=!1,oc=!1,B8=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function xv(d,f){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(E){vi(d,f,E)}else _.current=null}function cb(d,f,_){try{_()}catch(E){vi(d,f,E)}}var BR=!1;function j8(d,f){for(j(d.containerInfo),Xe=f;Xe!==null;)if(d=Xe,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,Xe=f;else for(;Xe!==null;){d=Xe;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,A=_.memoizedState,N=d.stateNode,X=N.getSnapshotBeforeUpdate(d.elementType===d.type?E:Ss(d.type,E),A);N.__reactInternalSnapshotBeforeUpdate=X}break;case 3:ze&&Fe(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){vi(d,d.return,se)}if(f=d.sibling,f!==null){f.return=d.return,Xe=f;break}Xe=d.return}return _=BR,BR=!1,_}function ac(d,f,_){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var A=E=E.next;do{if((A.tag&d)===d){var N=A.destroy;A.destroy=void 0,N!==void 0&&cb(f,_,N)}A=A.next}while(A!==E)}}function Ef(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var _=f=f.next;do{if((_.tag&d)===d){var E=_.create;_.destroy=E()}_=_.next}while(_!==f)}}function ub(d){var f=d.ref;if(f!==null){var _=d.stateNode;switch(d.tag){case 5:d=J(_);break;default:d=_}typeof f=="function"?f(d):f.current=d}}function jR(d,f,_){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(qg,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(d=f.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var E=d=d.next;do{var A=E,N=A.destroy;A=A.tag,N!==void 0&&(A&2||A&4)&&cb(f,_,N),E=E.next}while(E!==d)}break;case 1:if(xv(f,_),d=f.stateNode,typeof d.componentWillUnmount=="function")try{d.props=f.memoizedProps,d.state=f.memoizedState,d.componentWillUnmount()}catch(X){vi(f,_,X)}break;case 5:xv(f,_);break;case 4:ze?XR(d,f,_):q&&q&&(f=f.stateNode.containerInfo,_=ht(f),Kt(f,_))}}function VR(d,f,_){for(var E=f;;)if(jR(d,E,_),E.child===null||ze&&E.tag===4){if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function HR(d){var f=d.alternate;f!==null&&(d.alternate=null,HR(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&rt(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function WR(d){return d.tag===5||d.tag===3||d.tag===4}function GR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||WR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function $R(d){if(ze){e:{for(var f=d.return;f!==null;){if(WR(f))break e;f=f.return}throw Error(o(160))}var _=f;switch(_.tag){case 5:f=_.stateNode,_.flags&32&&(Te(f),_.flags&=-33),_=GR(d),hb(d,_,f);break;case 3:case 4:f=_.stateNode.containerInfo,_=GR(d),db(d,_,f);break;default:throw Error(o(161))}}}function db(d,f,_){var E=d.tag;if(E===5||E===6)d=d.stateNode,f?ot(_,d,f):dt(_,d);else if(E!==4&&(d=d.child,d!==null))for(db(d,f,_),d=d.sibling;d!==null;)db(d,f,_),d=d.sibling}function hb(d,f,_){var E=d.tag;if(E===5||E===6)d=d.stateNode,f?ft(_,d,f):Qe(_,d);else if(E!==4&&(d=d.child,d!==null))for(hb(d,f,_),d=d.sibling;d!==null;)hb(d,f,_),d=d.sibling}function XR(d,f,_){for(var E=f,A=!1,N,X;;){if(!A){A=E.return;e:for(;;){if(A===null)throw Error(o(160));switch(N=A.stateNode,A.tag){case 5:X=!1;break e;case 3:N=N.containerInfo,X=!0;break e;case 4:N=N.containerInfo,X=!0;break e}A=A.return}A=!0}if(E.tag===5||E.tag===6)VR(d,E,_),X?Q(N,E.stateNode):$e(N,E.stateNode);else if(E.tag===18)X?he(N,E.stateNode):pe(N,E.stateNode);else if(E.tag===4){if(E.child!==null){N=E.stateNode.containerInfo,X=!0,E.child.return=E,E=E.child;continue}}else if(jR(d,E,_),E.child!==null){E.child.return=E,E=E.child;continue}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return,E.tag===4&&(A=!1)}E.sibling.return=E.return,E=E.sibling}}function fb(d,f){if(ze){switch(f.tag){case 0:case 11:case 14:case 15:ac(3,f,f.return),Ef(3,f),ac(5,f,f.return);return;case 1:return;case 5:var _=f.stateNode;if(_!=null){var E=f.memoizedProps;d=d!==null?d.memoizedProps:E;var A=f.type,N=f.updateQueue;f.updateQueue=null,N!==null&&Et(_,N,A,d,E,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));_=f.memoizedProps,Re(f.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&ce(f.stateNode.containerInfo);return;case 12:return;case 13:_v(f);return;case 19:_v(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ac(3,f,f.return),Ef(3,f),ac(5,f,f.return);return;case 12:return;case 13:_v(f);return;case 19:_v(f);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&ce(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(q){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Kt(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function _v(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new B8),f.forEach(function(E){var A=Z8.bind(null,d,E);_.has(E)||(_.add(E),E.then(A,A))})}}function V8(d,f){for(Xe=f;Xe!==null;){f=Xe;var _=f.deletions;if(_!==null)for(var E=0;E<_.length;E++){var A=_[E];try{var N=d;ze?XR(N,A,f):VR(N,A,f);var X=A.alternate;X!==null&&(X.return=null),A.return=null}catch(at){vi(A,f,at)}}if(_=f.child,f.subtreeFlags&12854&&_!==null)_.return=f,Xe=_;else for(;Xe!==null;){f=Xe;try{var se=f.flags;if(se&32&&ze&&Te(f.stateNode),se&512){var ye=f.alternate;if(ye!==null){var Ve=ye.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(se&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var nt=f.alternate;(nt===null||nt.memoizedState===null)&&(_b=gr())}break;case 22:var Pt=f.memoizedState!==null,pt=f.alternate,pn=pt!==null&&pt.memoizedState!==null;if(_=f,ze){e:if(E=_,A=Pt,N=null,ze)for(var ct=E;;){if(ct.tag===5){if(N===null){N=ct;var Dr=ct.stateNode;A?Ae(Dr):_e(ct.stateNode,ct.memoizedProps)}}else if(ct.tag===6){if(N===null){var cs=ct.stateNode;A?De(cs):ee(cs,ct.memoizedProps)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===E)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===E)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===E)break e;N===ct&&(N=null),ct=ct.return}N===ct&&(N=null),ct.sibling.return=ct.return,ct=ct.sibling}}if(Pt&&!pn&&_.mode&1){Xe=_;for(var de=_.child;de!==null;){for(_=Xe=de;Xe!==null;){E=Xe;var ae=E.child;switch(E.tag){case 0:case 11:case 14:case 15:ac(4,E,E.return);break;case 1:xv(E,E.return);var me=E.stateNode;if(typeof me.componentWillUnmount=="function"){var qe=E.return;try{me.props=E.memoizedProps,me.state=E.memoizedState,me.componentWillUnmount()}catch(at){vi(E,qe,at)}}break;case 5:xv(E,E.return);break;case 22:if(E.memoizedState!==null){KR(_);continue}}ae!==null?(ae.return=E,Xe=ae):KR(_)}de=de.sibling}}}switch(se&4102){case 2:$R(f),f.flags&=-3;break;case 6:$R(f),f.flags&=-3,fb(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,fb(f.alternate,f);break;case 4:fb(f.alternate,f)}}catch(at){vi(f,f.return,at)}if(_=f.sibling,_!==null){_.return=f.return,Xe=_;break}Xe=f.return}}}function H8(d,f,_){Xe=d,qR(d)}function qR(d,f,_){for(var E=(d.mode&1)!==0;Xe!==null;){var A=Xe,N=A.child;if(A.tag===22&&E){var X=A.memoizedState!==null||yv;if(!X){var se=A.alternate,ye=se!==null&&se.memoizedState!==null||oc;se=yv;var Ve=oc;if(yv=X,(oc=ye)&&!Ve)for(Xe=A;Xe!==null;)X=Xe,ye=X.child,X.tag===22&&X.memoizedState!==null?ZR(A):ye!==null?(ye.return=X,Xe=ye):ZR(A);for(;N!==null;)Xe=N,qR(N),N=N.sibling;Xe=A,yv=se,oc=Ve}YR(d)}else A.subtreeFlags&8772&&N!==null?(N.return=A,Xe=N):YR(d)}}function YR(d){for(;Xe!==null;){var f=Xe;if(f.flags&8772){var _=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:oc||Ef(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!oc)if(_===null)E.componentDidMount();else{var A=f.elementType===f.type?_.memoizedProps:Ss(f.type,_.memoizedProps);E.componentDidUpdate(A,_.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var N=f.updateQueue;N!==null&&HP(f,N,E);break;case 3:var X=f.updateQueue;if(X!==null){if(_=null,f.child!==null)switch(f.child.tag){case 5:_=J(f.child.stateNode);break;case 1:_=f.child.stateNode}HP(f,X,_)}break;case 5:var se=f.stateNode;_===null&&f.flags&4&&kt(se,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&f.memoizedState===null){var ye=f.alternate;if(ye!==null){var Ve=ye.memoizedState;if(Ve!==null){var nt=Ve.dehydrated;nt!==null&&fe(nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}oc||f.flags&512&&ub(f)}catch(Pt){vi(f,f.return,Pt)}}if(f===d){Xe=null;break}if(_=f.sibling,_!==null){_.return=f.return,Xe=_;break}Xe=f.return}}function KR(d){for(;Xe!==null;){var f=Xe;if(f===d){Xe=null;break}var _=f.sibling;if(_!==null){_.return=f.return,Xe=_;break}Xe=f.return}}function ZR(d){for(;Xe!==null;){var f=Xe;try{switch(f.tag){case 0:case 11:case 15:var _=f.return;try{Ef(4,f)}catch(ye){vi(f,_,ye)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var A=f.return;try{E.componentDidMount()}catch(ye){vi(f,A,ye)}}var N=f.return;try{ub(f)}catch(ye){vi(f,N,ye)}break;case 5:var X=f.return;try{ub(f)}catch(ye){vi(f,X,ye)}}}catch(ye){vi(f,f.return,ye)}if(f===d){Xe=null;break}var se=f.sibling;if(se!==null){se.return=f.return,Xe=se;break}Xe=f.return}}var wv=0,bv=1,Sv=2,Ev=3,Mv=4;if(typeof Symbol=="function"&&Symbol.for){var Mf=Symbol.for;wv=Mf("selector.component"),bv=Mf("selector.has_pseudo_class"),Sv=Mf("selector.role"),Ev=Mf("selector.test_id"),Mv=Mf("selector.text")}function pb(d){var f=ge(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(d=K(d),d===null)throw Error(o(362));return d.stateNode.current}function mb(d,f){switch(f.$$typeof){case wv:if(d.type===f.value)return!0;break;case bv:e:{f=f.value,d=[d,0];for(var _=0;_<d.length;){var E=d[_++],A=d[_++],N=f[A];if(E.tag!==5||!le(E)){for(;N!=null&&mb(E,N);)A++,N=f[A];if(A===f.length){f=!0;break e}else for(E=E.child;E!==null;)d.push(E,A),E=E.sibling}}f=!1}return f;case Sv:if(d.tag===5&&Ne(d.stateNode,f.value))return!0;break;case Mv:if((d.tag===5||d.tag===6)&&(d=ie(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case Ev:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function gb(d){switch(d.$$typeof){case wv:return"<"+(R(d.value)||"Unknown")+">";case bv:return":has("+(gb(d)||"")+")";case Sv:return'[role="'+d.value+'"]';case Mv:return'"'+d.value+'"';case Ev:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function JR(d,f){var _=[];d=[d,0];for(var E=0;E<d.length;){var A=d[E++],N=d[E++],X=f[N];if(A.tag!==5||!le(A)){for(;X!=null&&mb(A,X);)N++,X=f[N];if(N===f.length)_.push(A);else for(A=A.child;A!==null;)d.push(A,N),A=A.sibling}}return _}function vb(d,f){if(!I)throw Error(o(363));d=pb(d),d=JR(d,f),f=[],d=Array.from(d);for(var _=0;_<d.length;){var E=d[_++];if(E.tag===5)le(E)||f.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return f}var W8=Math.ceil,Tv=a.ReactCurrentDispatcher,yb=a.ReactCurrentOwner,qn=a.ReactCurrentBatchConfig,Ht=0,tr=null,nr=null,Tr=0,Di=0,Gu=pr(0),or=0,Tf=null,$u=0,Av=0,xb=0,Af=null,mi=null,_b=0,wb=1/0;function Xu(){wb=gr()+500}var Cv=!1,bb=null,Na=null,Pv=!1,La=null,Rv=0,Cf=0,Sb=null,kv=-1,Nv=0;function Jr(){return Ht&6?gr():kv!==-1?kv:kv=gr()}function Ia(d){return d.mode&1?Ht&2&&Tr!==0?Tr&-Tr:T8.transition!==null?(Nv===0&&(d=Gg,Gg<<=1,!(Gg&4194240)&&(Gg=64),Nv=d),Nv):(d=tn,d!==0?d:ve()):1}function as(d,f,_){if(50<Cf)throw Cf=0,Sb=null,Error(o(185));var E=Lv(d,f);return E===null?null:(df(E,f,_),(!(Ht&2)||E!==tr)&&(E===tr&&(!(Ht&2)&&(Av|=f),or===4&&Da(E,Tr)),gi(E,_),f===1&&Ht===0&&!(d.mode&1)&&(Xu(),Yg&&ao())),E)}function Lv(d,f){d.lanes|=f;var _=d.alternate;for(_!==null&&(_.lanes|=f),_=d,d=d.return;d!==null;)d.childLanes|=f,_=d.alternate,_!==null&&(_.childLanes|=f),_=d,d=d.return;return _.tag===3?_.stateNode:null}function gi(d,f){var _=d.callbackNode;v8(d,f);var E=Xg(d,d===tr?Tr:0);if(E===0)_!==null&&UP(_),d.callbackNode=null,d.callbackPriority=0;else if(f=E&-E,d.callbackPriority!==f){if(_!=null&&UP(_),f===1)d.tag===0?M8(e2.bind(null,d)):zP(e2.bind(null,d)),W?D(function(){Ht===0&&ao()}):kw(Nw,ao),_=null;else{switch(FP(E)){case 1:_=Nw;break;case 4:_=w8;break;case 16:_=Lw;break;case 536870912:_=b8;break;default:_=Lw}_=c2(_,QR.bind(null,d))}d.callbackPriority=f,d.callbackNode=_}}function QR(d,f){if(kv=-1,Nv=0,Ht&6)throw Error(o(327));var _=d.callbackNode;if(uc()&&d.callbackNode!==_)return null;var E=Xg(d,d===tr?Tr:0);if(E===0)return null;if(E&30||E&d.expiredLanes||f)f=Iv(d,E);else{f=E;var A=Ht;Ht|=2;var N=r2();(tr!==d||Tr!==f)&&(Xu(),lc(d,f));do try{X8();break}catch(se){n2(d,se)}while(!0);Ow(),Tv.current=N,Ht=A,nr!==null?f=0:(tr=null,Tr=0,f=or)}if(f!==0){if(f===2&&(A=Cw(d),A!==0&&(E=A,f=Eb(d,A))),f===1)throw _=Tf,lc(d,0),Da(d,E),gi(d,gr()),_;if(f===6)Da(d,E);else{if(A=d.current.alternate,!(E&30)&&!G8(A)&&(f=Iv(d,E),f===2&&(N=Cw(d),N!==0&&(E=N,f=Eb(d,N))),f===1))throw _=Tf,lc(d,0),Da(d,E),gi(d,gr()),_;switch(d.finishedWork=A,d.finishedLanes=E,f){case 0:case 1:throw Error(o(345));case 2:cc(d,mi);break;case 3:if(Da(d,E),(E&130023424)===E&&(f=_b+500-gr(),10<f)){if(Xg(d,0)!==0)break;if(A=d.suspendedLanes,(A&E)!==E){Jr(),d.pingedLanes|=d.suspendedLanes&A;break}d.timeoutHandle=Se(cc.bind(null,d,mi),f);break}cc(d,mi);break;case 4:if(Da(d,E),(E&4194240)===E)break;for(f=d.eventTimes,A=-1;0<E;){var X=31-ki(E);N=1<<X,X=f[X],X>A&&(A=X),E&=~N}if(E=A,E=gr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*W8(E/1960))-E,10<E){d.timeoutHandle=Se(cc.bind(null,d,mi),E);break}cc(d,mi);break;case 5:cc(d,mi);break;default:throw Error(o(329))}}}return gi(d,gr()),d.callbackNode===_?QR.bind(null,d):null}function Eb(d,f){var _=Af;return d.current.memoizedState.isDehydrated&&(lc(d,f).flags|=256),d=Iv(d,f),d!==2&&(f=mi,mi=_,f!==null&&Mb(f)),d}function Mb(d){mi===null?mi=d:mi.push.apply(mi,d)}function G8(d){for(var f=d;;){if(f.flags&16384){var _=f.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var E=0;E<_.length;E++){var A=_[E],N=A.getSnapshot;A=A.value;try{if(!oo(N(),A))return!1}catch{return!1}}}if(_=f.child,f.subtreeFlags&16384&&_!==null)_.return=f,f=_;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Da(d,f){for(f&=~xb,f&=~Av,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var _=31-ki(f),E=1<<_;d[_]=-1,f&=~E}}function e2(d){if(Ht&6)throw Error(o(327));uc();var f=Xg(d,0);if(!(f&1))return gi(d,gr()),null;var _=Iv(d,f);if(d.tag!==0&&_===2){var E=Cw(d);E!==0&&(f=E,_=Eb(d,E))}if(_===1)throw _=Tf,lc(d,0),Da(d,f),gi(d,gr()),_;if(_===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,cc(d,mi),gi(d,gr()),null}function t2(d){La!==null&&La.tag===0&&!(Ht&6)&&uc();var f=Ht;Ht|=1;var _=qn.transition,E=tn;try{if(qn.transition=null,tn=1,d)return d()}finally{tn=E,qn.transition=_,Ht=f,!(Ht&6)&&ao()}}function Tb(){Di=Gu.current,xt(Gu)}function lc(d,f){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==je&&(d.timeoutHandle=je,Le(_)),nr!==null)for(_=nr.return;_!==null;){var E=_;switch(Hw(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Xn();break;case 3:Hu(),xt(Fn),xt(Vt),Kw();break;case 5:qw(E);break;case 4:Hu();break;case 13:xt(Rn);break;case 19:xt(Rn);break;case 10:Fw(E.type._context);break;case 22:case 23:Tb()}_=_.return}if(tr=d,nr=d=Oa(d.current,null),Tr=Di=f,or=0,Tf=null,xb=Av=$u=0,mi=Af=null,lo!==null){for(f=0;f<lo.length;f++)if(_=lo[f],E=_.interleaved,E!==null){_.interleaved=null;var A=E.next,N=_.pending;if(N!==null){var X=N.next;N.next=A,E.next=X}_.pending=E}lo=null}return d}function n2(d,f){do{var _=nr;try{if(Ow(),ov.current=hv,av){for(var E=Un.memoizedState;E!==null;){var A=E.queue;A!==null&&(A.pending=null),E=E.next}av=!1}if(Wu=0,vr=Nr=Un=null,vf=!1,yf=0,yb.current=null,_===null||_.return===null){or=1,Tf=f,nr=null;break}e:{var N=d,X=_.return,se=_,ye=f;if(f=Tr,se.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ve=ye,nt=se,Pt=nt.tag;if(!(nt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var pt=nt.alternate;pt?(nt.updateQueue=pt.updateQueue,nt.memoizedState=pt.memoizedState,nt.lanes=pt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var pn=SR(X);if(pn!==null){pn.flags&=-257,ER(pn,X,se,N,f),pn.mode&1&&bR(N,Ve,f),f=pn,ye=Ve;var ct=f.updateQueue;if(ct===null){var Dr=new Set;Dr.add(ye),f.updateQueue=Dr}else ct.add(ye);break e}else{if(!(f&1)){bR(N,Ve,f),Ab();break e}ye=Error(o(426))}}else if(Mn&&se.mode&1){var cs=SR(X);if(cs!==null){!(cs.flags&65536)&&(cs.flags|=256),ER(cs,X,se,N,f),$w(ye);break e}}N=ye,or!==4&&(or=2),Af===null?Af=[N]:Af.push(N),ye=rb(ye,se),se=X;do{switch(se.tag){case 3:se.flags|=65536,f&=-f,se.lanes|=f;var de=_R(se,ye,f);VP(se,de);break e;case 1:N=ye;var ae=se.type,me=se.stateNode;if(!(se.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Na===null||!Na.has(me)))){se.flags|=65536,f&=-f,se.lanes|=f;var qe=wR(se,N,f);VP(se,qe);break e}}se=se.return}while(se!==null)}s2(_)}catch(at){f=at,nr===_&&_!==null&&(nr=_=_.return);continue}break}while(!0)}function r2(){var d=Tv.current;return Tv.current=hv,d===null?hv:d}function Ab(){(or===0||or===3||or===2)&&(or=4),tr===null||!($u&268435455)&&!(Av&268435455)||Da(tr,Tr)}function Iv(d,f){var _=Ht;Ht|=2;var E=r2();tr===d&&Tr===f||lc(d,f);do try{$8();break}catch(A){n2(d,A)}while(!0);if(Ow(),Ht=_,Tv.current=E,nr!==null)throw Error(o(261));return tr=null,Tr=0,or}function $8(){for(;nr!==null;)i2(nr)}function X8(){for(;nr!==null&&!x8();)i2(nr)}function i2(d){var f=l2(d.alternate,d,Di);d.memoizedProps=d.pendingProps,f===null?s2(d):nr=f,yb.current=null}function s2(d){var f=d;do{var _=f.alternate;if(d=f.return,f.flags&32768){if(_=z8(_,f),_!==null){_.flags&=32767,nr=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{or=6,nr=null;return}}else if(_=O8(_,f,Di),_!==null){nr=_;return}if(f=f.sibling,f!==null){nr=f;return}nr=f=d}while(f!==null);or===0&&(or=5)}function cc(d,f){var _=tn,E=qn.transition;try{qn.transition=null,tn=1,q8(d,f,_)}finally{qn.transition=E,tn=_}return null}function q8(d,f,_){do uc();while(La!==null);if(Ht&6)throw Error(o(327));var E=d.finishedWork,A=d.finishedLanes;if(E===null)return null;if(d.finishedWork=null,d.finishedLanes=0,E===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var N=E.lanes|E.childLanes;if(y8(d,N),d===tr&&(nr=tr=null,Tr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Pv||(Pv=!0,c2(Lw,function(){return uc(),null})),N=(E.flags&15990)!==0,E.subtreeFlags&15990||N){N=qn.transition,qn.transition=null;var X=tn;tn=1;var se=Ht;Ht|=4,yb.current=null,j8(d,E),V8(d,E),U(d.containerInfo),d.current=E,H8(E),_8(),Ht=se,tn=X,qn.transition=N}else d.current=E;if(Pv&&(Pv=!1,La=d,Rv=A),N=d.pendingLanes,N===0&&(Na=null),S8(E.stateNode),gi(d,gr()),f!==null)for(_=d.onRecoverableError,E=0;E<f.length;E++)_(f[E]);if(Cv)throw Cv=!1,d=bb,bb=null,d;return Rv&1&&d.tag!==0&&uc(),N=d.pendingLanes,N&1?d===Sb?Cf++:(Cf=0,Sb=d):Cf=0,ao(),null}function uc(){if(La!==null){var d=FP(Rv),f=qn.transition,_=tn;try{if(qn.transition=null,tn=16>d?16:d,La===null)var E=!1;else{if(d=La,La=null,Rv=0,Ht&6)throw Error(o(331));var A=Ht;for(Ht|=4,Xe=d.current;Xe!==null;){var N=Xe,X=N.child;if(Xe.flags&16){var se=N.deletions;if(se!==null){for(var ye=0;ye<se.length;ye++){var Ve=se[ye];for(Xe=Ve;Xe!==null;){var nt=Xe;switch(nt.tag){case 0:case 11:case 15:ac(8,nt,N)}var Pt=nt.child;if(Pt!==null)Pt.return=nt,Xe=Pt;else for(;Xe!==null;){nt=Xe;var pt=nt.sibling,pn=nt.return;if(HR(nt),nt===Ve){Xe=null;break}if(pt!==null){pt.return=pn,Xe=pt;break}Xe=pn}}}var ct=N.alternate;if(ct!==null){var Dr=ct.child;if(Dr!==null){ct.child=null;do{var cs=Dr.sibling;Dr.sibling=null,Dr=cs}while(Dr!==null)}}Xe=N}}if(N.subtreeFlags&2064&&X!==null)X.return=N,Xe=X;else e:for(;Xe!==null;){if(N=Xe,N.flags&2048)switch(N.tag){case 0:case 11:case 15:ac(9,N,N.return)}var de=N.sibling;if(de!==null){de.return=N.return,Xe=de;break e}Xe=N.return}}var ae=d.current;for(Xe=ae;Xe!==null;){X=Xe;var me=X.child;if(X.subtreeFlags&2064&&me!==null)me.return=X,Xe=me;else e:for(X=ae;Xe!==null;){if(se=Xe,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:Ef(9,se)}}catch(at){vi(se,se.return,at)}if(se===X){Xe=null;break e}var qe=se.sibling;if(qe!==null){qe.return=se.return,Xe=qe;break e}Xe=se.return}}if(Ht=A,ao(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(qg,d)}catch{}E=!0}return E}finally{tn=_,qn.transition=f}}return!1}function o2(d,f,_){f=rb(_,f),f=_R(d,f,1),ka(d,f),f=Jr(),d=Lv(d,1),d!==null&&(df(d,1,f),gi(d,f))}function vi(d,f,_){if(d.tag===3)o2(d,d,_);else for(;f!==null;){if(f.tag===3){o2(f,d,_);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Na===null||!Na.has(E))){d=rb(_,d),d=wR(f,d,1),ka(f,d),d=Jr(),f=Lv(f,1),f!==null&&(df(f,1,d),gi(f,d));break}}f=f.return}}function Y8(d,f,_){var E=d.pingCache;E!==null&&E.delete(f),f=Jr(),d.pingedLanes|=d.suspendedLanes&_,tr===d&&(Tr&_)===_&&(or===4||or===3&&(Tr&130023424)===Tr&&500>gr()-_b?lc(d,0):xb|=_),gi(d,f)}function a2(d,f){f===0&&(d.mode&1?(f=$g,$g<<=1,!($g&130023424)&&($g=4194304)):f=1);var _=Jr();d=Lv(d,f),d!==null&&(df(d,f,_),gi(d,_))}function K8(d){var f=d.memoizedState,_=0;f!==null&&(_=f.retryLane),a2(d,_)}function Z8(d,f){var _=0;switch(d.tag){case 13:var E=d.stateNode,A=d.memoizedState;A!==null&&(_=A.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(f),a2(d,_)}var l2;l2=function(d,f,_){if(d!==null)if(d.memoizedProps!==f.pendingProps||Fn.current)Ii=!0;else{if(!(d.lanes&_)&&!(f.flags&128))return Ii=!1,U8(d,f,_);Ii=!!(d.flags&131072)}else Ii=!1,Mn&&f.flags&1048576&&qP(f,rv,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps;var A=ts(f,Vt.current);Fu(f,_),A=Jw(null,f,E,d,A,_);var N=Qw();return f.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,mr(E)?(N=!0,Mr(f)):N=!1,f.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,zw(f),A.updater=tv,f.stateNode=A,A._reactInternals=f,jw(f,E,d,_),f=ob(null,f,E,!0,N,_)):(f.tag=0,Mn&&N&&Vw(f),Zr(null,f,A,_),f=f.child),f;case 16:E=f.elementType;e:{switch(d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),d=f.pendingProps,A=E._init,E=A(E._payload),f.type=E,A=f.tag=Q8(E),d=Ss(E,d),A){case 0:f=sb(null,f,E,d,_);break e;case 1:f=NR(null,f,E,d,_);break e;case 11:f=AR(null,f,E,d,_);break e;case 14:f=CR(null,f,E,Ss(E.type,d),_);break e}throw Error(o(306,E,""))}return f;case 0:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:Ss(E,A),sb(d,f,E,A,_);case 1:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:Ss(E,A),NR(d,f,E,A,_);case 3:e:{if(LR(f),d===null)throw Error(o(387));E=f.pendingProps,N=f.memoizedState,A=N.element,jP(d,f),ev(f,E,null,_);var X=f.memoizedState;if(E=X.element,Ee&&N.isDehydrated)if(N={element:E,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){A=Error(o(423)),f=IR(d,f,E,_,A);break e}else if(E!==A){A=Error(o(424)),f=IR(d,f,E,_,A);break e}else for(Ee&&(Li=Vg(f.stateNode.containerInfo),Ni=f,Mn=!0,Es=null,hf=!1),_=eR(f,null,E,_),f.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Bu(),E===A){f=Go(d,f,_);break e}Zr(d,f,E,_)}f=f.child}return f;case 5:return tR(f),d===null&&Gw(f),E=f.type,A=f.pendingProps,N=d!==null?d.memoizedProps:null,X=A.children,Me(E,A)?X=null:N!==null&&Me(E,N)&&(f.flags|=32),kR(d,f),Zr(d,f,X,_),f.child;case 6:return d===null&&Gw(f),null;case 13:return DR(d,f,_);case 4:return Xw(f,f.stateNode.containerInfo),E=f.pendingProps,d===null?f.child=ju(f,null,E,_):Zr(d,f,E,_),f.child;case 11:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:Ss(E,A),AR(d,f,E,A,_);case 7:return Zr(d,f,f.pendingProps,_),f.child;case 8:return Zr(d,f,f.pendingProps.children,_),f.child;case 12:return Zr(d,f,f.pendingProps.children,_),f.child;case 10:e:{if(E=f.type._context,A=f.pendingProps,N=f.memoizedProps,X=A.value,BP(f,E,X),N!==null)if(oo(N.value,X)){if(N.children===A.children&&!Fn.current){f=Go(d,f,_);break e}}else for(N=f.child,N!==null&&(N.return=f);N!==null;){var se=N.dependencies;if(se!==null){X=N.child;for(var ye=se.firstContext;ye!==null;){if(ye.context===E){if(N.tag===1){ye=jo(-1,_&-_),ye.tag=2;var Ve=N.updateQueue;if(Ve!==null){Ve=Ve.shared;var nt=Ve.pending;nt===null?ye.next=ye:(ye.next=nt.next,nt.next=ye),Ve.pending=ye}}N.lanes|=_,ye=N.alternate,ye!==null&&(ye.lanes|=_),Uw(N.return,_,f),se.lanes|=_;break}ye=ye.next}}else if(N.tag===10)X=N.type===f.type?null:N.child;else if(N.tag===18){if(X=N.return,X===null)throw Error(o(341));X.lanes|=_,se=X.alternate,se!==null&&(se.lanes|=_),Uw(X,_,f),X=N.sibling}else X=N.child;if(X!==null)X.return=N;else for(X=N;X!==null;){if(X===f){X=null;break}if(N=X.sibling,N!==null){N.return=X.return,X=N;break}X=X.return}N=X}Zr(d,f,A.children,_),f=f.child}return f;case 9:return A=f.type,E=f.pendingProps.children,Fu(f,_),A=ns(A),E=E(A),f.flags|=1,Zr(d,f,E,_),f.child;case 14:return E=f.type,A=Ss(E,f.pendingProps),A=Ss(E.type,A),CR(d,f,E,A,_);case 15:return PR(d,f,f.type,f.pendingProps,_);case 17:return E=f.type,A=f.pendingProps,A=f.elementType===E?A:Ss(E,A),d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,mr(E)?(d=!0,Mr(f)):d=!1,Fu(f,_),$P(f,E,A),jw(f,E,A,_),ob(null,f,E,!0,d,_);case 19:return zR(d,f,_);case 22:return RR(d,f,_)}throw Error(o(156,f.tag))};function c2(d,f){return kw(d,f)}function J8(d,f,_,E){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(d,f,_,E){return new J8(d,f,_,E)}function Cb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Q8(d){if(typeof d=="function")return Cb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===w)return 14}return 2}function Oa(d,f){var _=d.alternate;return _===null?(_=ls(d.tag,f,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=f,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,f=d.dependencies,_.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function Dv(d,f,_,E,A,N){var X=2;if(E=d,typeof d=="function")Cb(d)&&(X=1);else if(typeof d=="string")X=5;else e:switch(d){case u:return dc(_.children,A,N,f);case h:X=8,A|=8;break;case p:return d=ls(12,_,f,A|2),d.elementType=p,d.lanes=N,d;case y:return d=ls(13,_,f,A),d.elementType=y,d.lanes=N,d;case g:return d=ls(19,_,f,A),d.elementType=g,d.lanes=N,d;case M:return Ov(_,A,N,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:X=10;break e;case v:X=9;break e;case x:X=11;break e;case w:X=14;break e;case b:X=16,E=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return f=ls(X,_,f,A),f.elementType=d,f.type=E,f.lanes=N,f}function dc(d,f,_,E){return d=ls(7,d,E,f),d.lanes=_,d}function Ov(d,f,_,E){return d=ls(22,d,E,f),d.elementType=M,d.lanes=_,d.stateNode={},d}function Pb(d,f,_){return d=ls(6,d,null,f),d.lanes=_,d}function Rb(d,f,_){return f=ls(4,d.children!==null?d.children:[],d.key,f),f.lanes=_,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function e6(d,f,_,E,A){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pw(0),this.expirationTimes=Pw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pw(0),this.identifierPrefix=E,this.onRecoverableError=A,Ee&&(this.mutableSourceEagerHydrationData=null)}function u2(d,f,_,E,A,N,X,se,ye){return d=new e6(d,f,_,se,ye),f===1?(f=1,N===!0&&(f|=8)):f=0,N=ls(3,null,null,f),d.current=N,N.stateNode=d,N.memoizedState={element:E,isDehydrated:_,cache:null,transitions:null},zw(N),d}function d2(d){if(!d)return es;d=d._reactInternals;e:{if(k(d)!==d||d.tag!==1)throw Error(o(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(mr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(d.tag===1){var _=d.type;if(mr(_))return Iu(d,_,f)}return f}function h2(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=G(f),d===null?null:d.stateNode}function f2(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<f?_:f}}function kb(d,f){f2(d,f),(d=d.alternate)&&f2(d,f)}function t6(d){return d=G(d),d===null?null:d.stateNode}function n6(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var f=Jr();as(d,134217728,f),kb(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=Jr(),_=Ia(d);as(d,_,f),kb(d,_)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var _=uf(f.pendingLanes);_!==0&&(Rw(f,_|1),gi(f,gr()),!(Ht&6)&&(Xu(),ao()))}break;case 13:var E=Jr();t2(function(){return as(d,1,E)}),kb(d,1)}},n.batchedUpdates=function(d,f){var _=Ht;Ht|=1;try{return d(f)}finally{Ht=_,Ht===0&&(Xu(),Yg&&ao())}},n.createComponentSelector=function(d){return{$$typeof:wv,value:d}},n.createContainer=function(d,f,_,E,A,N,X){return u2(d,f,!1,null,_,E,A,N,X)},n.createHasPseudoClassSelector=function(d){return{$$typeof:bv,value:d}},n.createHydrationContainer=function(d,f,_,E,A,N,X,se,ye){return d=u2(_,E,!0,d,A,N,X,se,ye),d.context=d2(null),_=d.current,E=Jr(),A=Ia(_),N=jo(E,A),N.callback=f??null,ka(_,N),d.current.lanes=A,df(d,A,E),gi(d,E),d},n.createPortal=function(d,f,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:d,containerInfo:f,implementation:_}},n.createRoleSelector=function(d){return{$$typeof:Sv,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Ev,value:d}},n.createTextSelector=function(d){return{$$typeof:Mv,value:d}},n.deferredUpdates=function(d){var f=tn,_=qn.transition;try{return qn.transition=null,tn=16,d()}finally{tn=f,qn.transition=_}},n.discreteUpdates=function(d,f,_,E,A){var N=tn,X=qn.transition;try{return qn.transition=null,tn=1,d(f,_,E,A)}finally{tn=N,qn.transition=X,Ht===0&&Xu()}},n.findAllNodes=vb,n.findBoundingRects=function(d,f){if(!I)throw Error(o(363));f=vb(d,f),d=[];for(var _=0;_<f.length;_++)d.push(oe(f[_]));for(f=d.length-1;0<f;f--){_=d[f];for(var E=_.x,A=E+_.width,N=_.y,X=N+_.height,se=f-1;0<=se;se--)if(f!==se){var ye=d[se],Ve=ye.x,nt=Ve+ye.width,Pt=ye.y,pt=Pt+ye.height;if(E>=Ve&&N>=Pt&&A<=nt&&X<=pt){d.splice(f,1);break}else if(E!==Ve||_.width!==ye.width||pt<N||Pt>X){if(!(N!==Pt||_.height!==ye.height||nt<E||Ve>A)){Ve>E&&(ye.width+=Ve-E,ye.x=E),nt<A&&(ye.width=A-Ve),d.splice(f,1);break}}else{Pt>N&&(ye.height+=Pt-N,ye.y=N),pt<X&&(ye.height=X-Pt),d.splice(f,1);break}}}return d},n.findHostInstance=h2,n.findHostInstanceWithNoPortals=function(d){return d=z(d),d=d!==null?B(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return h2(d)},n.flushControlled=function(d){var f=Ht;Ht|=1;var _=qn.transition,E=tn;try{qn.transition=null,tn=1,d()}finally{tn=E,qn.transition=_,Ht=f,Ht===0&&(Xu(),ao())}},n.flushPassiveEffects=uc,n.flushSync=t2,n.focusWithin=function(d,f){if(!I)throw Error(o(363));for(d=pb(d),f=JR(d,f),f=Array.from(f),d=0;d<f.length;){var _=f[d++];if(!le(_)){if(_.tag===5&&Ie(_.stateNode))return!0;for(_=_.child;_!==null;)f.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return tn},n.getFindAllNodesFailureDescription=function(d,f){if(!I)throw Error(o(363));var _=0,E=[];d=[pb(d),0];for(var A=0;A<d.length;){var N=d[A++],X=d[A++],se=f[X];if((N.tag!==5||!le(N))&&(mb(N,se)&&(E.push(gb(se)),X++,X>_&&(_=X)),X<f.length))for(N=N.child;N!==null;)d.push(N,X),N=N.sibling}if(_<f.length){for(d=[];_<f.length;_++)d.push(gb(f[_]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return J(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:t6,findFiberByHostInstance:d.findFiberByHostInstance||n6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{qg=f.inject(d),so=f}catch{}d=!!f.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,f,_,E){if(!I)throw Error(o(363));d=vb(d,f);var A=Oe(d,_,E).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(d,f){var _=f._getVersion;_=_(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,_]:d.mutableSourceEagerHydrationData.push(f,_)},n.runWithPriority=function(d,f){var _=tn;try{return tn=d,f()}finally{tn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,f,_,E){var A=f.current,N=Jr(),X=Ia(A);return _=d2(_),f.context===null?f.context=_:f.pendingContext=_,f=jo(N,X),f.payload={element:d},E=E===void 0?null:E,E!==null&&(f.callback=E),ka(A,f),d=as(A,X,N),d!==null&&Qg(d,A,X),X},n};qV.exports=pce;var mce=qV.exports;const gce=ET(mce);var YV={exports:{}},KV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var U=F.length;F.push(j);e:for(;0<U;){var $=U-1>>>1,re=F[$];if(0<i(re,j))F[$]=j,F[U]=re,U=$;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],U=F.pop();if(U!==j){F[0]=U;e:for(var $=0,re=F.length,Y=re>>>1;$<Y;){var ue=2*($+1)-1,Me=F[ue],be=ue+1,Se=F[be];if(0>i(Me,U))be<re&&0>i(Se,Me)?(F[$]=Se,F[be]=U,$=be):(F[$]=Me,F[ue]=U,$=ue);else if(be<re&&0>i(Se,U))F[$]=Se,F[be]=U,$=be;else break e}}return j}function i(F,j){var U=F.sortIndex-j.sortIndex;return U!==0?U:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function M(F){if(x=!1,b(F),!v)if(n(l)!==null)v=!0,J(C);else{var j=n(c);j!==null&&ne(M,j.startTime-F)}}function C(F,j){v=!1,x&&(x=!1,g(O),O=-1),m=!0;var U=p;try{for(b(j),h=n(l);h!==null&&(!(h.expirationTime>j)||F&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var re=$(h.expirationTime<=j);j=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),b(j)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var ue=n(c);ue!==null&&ne(M,ue.startTime-j),Y=!1}return Y}finally{h=null,p=U,m=!1}}var P=!1,R=null,O=-1,k=5,L=-1;function z(){return!(t.unstable_now()-L<k)}function G(){if(R!==null){var F=t.unstable_now();L=F;var j=!0;try{j=R(!0,F)}finally{j?te():(P=!1,R=null)}}else P=!1}var te;if(typeof w=="function")te=function(){w(G)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Z=B.port2;B.port1.onmessage=G,te=function(){Z.postMessage(null)}}else te=function(){y(G,0)};function J(F){R=F,P||(P=!0,te())}function ne(F,j){O=y(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,J(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var U=p;p=j;try{return F()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=p;p=F;try{return j()}finally{p=U}},t.unstable_scheduleCallback=function(F,j,U){var $=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,F={id:u++,callback:j,priorityLevel:F,startTime:U,expirationTime:re,sortIndex:-1},U>$?(F.sortIndex=U,e(c,F),n(l)===null&&F===n(c)&&(x?(g(O),O=-1):x=!0,ne(M,U-$))):(F.sortIndex=re,e(l,F),v||m||(v=!0,J(C))),F},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(F){var j=p;return function(){var U=p;p=j;try{return F.apply(this,arguments)}finally{p=U}}}})(KV);YV.exports=KV;var gD=YV.exports;const vce=t=>typeof t=="object"&&typeof t.then=="function",a0=[];function yce(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function xce(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of a0)if(yce(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=a0.indexOf(i);s!==-1&&a0.splice(s,1)},promise:(vce(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(a0.push(i),!n)throw i.promise}const vD=(t,e,n)=>xce(t,e,!1,n),yP={},ZV=t=>void Object.assign(yP,t);function _ce(t,e){function n(u,{args:h=[],attach:p,...m},v){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Md(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=yP[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");y=Md(new g(...h),{type:u,root:v,attach:p,memoizedProps:{args:h}})}return y.__r3f.attach===void 0&&(y instanceof Ft?y.__r3f.attach="geometry":y instanceof kr&&(y.__r3f.attach="material")),x!=="inject"&&w1(y,m),y}function r(u,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?_1(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),p=!0),p||(v=u.__r3f)==null||v.objects.push(h),h.__r3f||Md(h,{}),h.__r3f.parent=u,cT(h),Td(h)}}function i(u,h,p){let m=!1;if(h){var v,x;if((v=h.__r3f)!=null&&v.attach)_1(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const y=u.children.filter(w=>w!==h),g=y.indexOf(p);u.children=[...y.slice(0,g),h,...y.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(h),h.__r3f||Md(h,{}),h.__r3f.parent=u,cT(h),Td(h)}}function s(u,h,p=!1){u&&[...u].forEach(m=>o(h,m,p))}function o(u,h,p){if(h){var m,v,x;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)bD(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var y;u.remove(h),(y=h.__r3f)!=null&&y.root&&Cce(G0(h),h)}const w=(x=h.__r3f)==null?void 0:x.primitive,b=!w&&(p===void 0?h.dispose!==null:p);if(!w){var g;s((g=h.__r3f)==null?void 0:g.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?gD.unstable_scheduleCallback(gD.unstable_IdlePriority,M):M()}Td(u)}}function a(u,h,p,m){var v;const x=(v=u.__r3f)==null?void 0:v.parent;if(!x)return;const y=n(h,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&G0(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:gce({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,p)=>{if(!h||!p)return;const m=u.getState().scene;m.__r3f&&i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,p,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,...w}=m,{args:b=[],children:M,...C}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((R,O)=>R!==b[O]))return[!0];const P=i5(u,w,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(u,[h,p],m,v,x,y){h?a(u,m,x,y):w1(u,p)},commitMount(u,h,p,m){var v;const x=(v=u.__r3f)!=null?v:{};u.raycast&&x.handlers&&x.eventCount&&G0(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Md(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:p,parent:m}=(h=u.__r3f)!=null?h:{};p&&m&&bD(m,u,p),u.isObject3D&&(u.visible=!1),Td(u)},unhideInstance(u,h){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&_1(v,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),Td(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Tn.fun(performance.now)?performance.now:Tn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Tn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Tn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:w1}}var yD,xD;const x1=t=>"colorSpace"in t||"outputColorSpace"in t,JV=()=>{var t;return(t=yP.ColorManagement)!=null?t:null},QV=t=>t&&t.isOrthographicCamera,wce=t=>t&&t.hasOwnProperty("current"),Dg=typeof window<"u"&&((yD=window.document)!=null&&yD.createElement||((xD=window.navigator)==null?void 0:xD.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function e5(t){const e=T.useRef(t);return Dg(()=>void(e.current=t),[t]),e}function bce({set:t}){return Dg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class t5 extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}t5.getDerivedStateFromError=()=>({error:!0});const n5="__default",_D=new Map,Sce=t=>t&&!!t.memoized&&!!t.changes;function r5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Zf=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function G0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Tn={obj:t=>t===Object(t)&&!Tn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Tn.str(t)||Tn.num(t))return t===e;const s=Tn.obj(t);if(s&&r==="reference")return t===e;const o=Tn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Tn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Tn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Ece(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Md(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function lT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const wD=/-\d+$/;function _1(t,e,n){if(Tn.str(n)){if(wD.test(n)){const s=n.replace(wD,""),{target:o,key:a}=lT(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=lT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function bD(t,e,n){var r,i;if(Tn.str(n)){const{target:s,key:o}=lT(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function i5(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=t==null?void 0:t.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let y=0;y<x.length;y++)i.hasOwnProperty(x[y])||p.unshift([x[y],n5+"remove"])}p.forEach(([x,y])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&x==="object"||Tn.equ(y,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,y,!0,[]]);let w=[];x.includes("-")&&(w=x.split("-")),m.push([x,y,!1,w]);for(const b in i){const M=i[b];b.startsWith(`${x}-`)&&m.push([b,M,!1,b.split("-")])}});const v={...i};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}const Mce=typeof process<"u"&&!1;function w1(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=Sce(e)?e:i5(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,x,y]=c[p];if(x1(t)){const M="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:C):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:C)}let g=t,w=g[m];if(y.length&&(w=y.reduce((b,M)=>b[M],t),!(w&&w.set))){const[b,...M]=y.reverse();g=M.reverse().reduce((C,P)=>C[P],t),m=b}if(v===n5+"remove")if(g.constructor){let b=_D.get(g.constructor);b||(b=new g.constructor,_D.set(g.constructor,b)),v=b[m]}else v=0;if(x)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof tu)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(Mce?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){const b=w instanceof Ke;!b&&w.setScalar?w.setScalar(v):w instanceof tu&&v instanceof tu?w.mask=v.mask:w.set(v),!JV()&&!a.linear&&b&&w.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof $n&&g[m].format===oi&&g[m].type===Ro){const b=g[m];x1(b)&&x1(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Td(t)}if(s.parent&&t.raycast&&u!==s.eventCount){const p=G0(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&cT(t),t}function Td(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function cT(t){t.onUpdate==null||t.onUpdate(t)}function Tce(t,e){t.manual||(QV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function l0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ace(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zd.ContinuousEventPriority;default:return Zd.DefaultEventPriority}}function s5(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Cce(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{s5(n.capturedMap,e,r,i)})}function Pce(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),h=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const w=Zf(m[g]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const w=Zf(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,w)=>{const b=Zf(g.object),M=Zf(w.object);return!b||!M?g.distance-w.distance:M.events.priority-b.events.priority||g.distance-w.distance}).filter(g=>{const w=l0(g);return h.has(w)?!1:(h.add(w),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let w=g.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())h.has(l0(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=Zf(v.object)||p,{raycaster:y,pointer:g,camera:w,internal:b}=x,M=new H(g.x,g.y,0).unproject(w),C=L=>{var z,G;return(z=(G=b.capturedMap.get(L))==null?void 0:G.has(v.eventObject))!=null?z:!1},P=L=>{const z={intersection:v,target:c.target};b.capturedMap.has(L)?b.capturedMap.get(L).set(v.eventObject,z):b.capturedMap.set(L,new Map([[v.eventObject,z]])),c.target.setPointerCapture(L)},R=L=>{const z=b.capturedMap.get(L);z&&s5(b.capturedMap,v.eventObject,z,L)};let O={};for(let L in c){let z=c[L];typeof z!="function"&&(O[L]=z)}let k={...v,...O,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:y.ray,camera:w,stopPropagation(){const L="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!L||L.has(v.eventObject))&&(k.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(z=>z.eventObject===v.eventObject))){const z=l.slice(0,l.indexOf(v));s([...z,v])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(h(k),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(l0(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?n:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=y.map(b=>b.eventObject)),v&&!y.length&&g<=2&&(o(u,p.interaction),h&&h(u)),m&&s(y);function w(b){const M=b.eventObject,C=M.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=l0(b),O=p.hovered.get(R);O?O.stopped&&b.stopPropagation():(p.hovered.set(R,b),P.onPointerOver==null||P.onPointerOver(b),P.onPointerEnter==null||P.onPointerEnter(b))}P.onPointerMove==null||P.onPointerMove(b)}else{const R=P[l];R?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(O=>!p.initialHits.includes(O))),R(b)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(O=>!p.initialHits.includes(O)))}}i(y,u,g,w)}}return{handlePointer:a}}const o5=t=>!!(t!=null&&t.render),a5=T.createContext(null),Rce=(t,e)=>{const n=dce((a,l)=>{const c=new H,u=new H,h=new H;function p(g=l().camera,w=u,b=l().size){const{width:M,height:C,top:P,left:R}=b,O=M/C;w instanceof H?h.copy(w):h.set(...w);const k=g.getWorldPosition(c).distanceTo(h);if(QV(g))return{width:M/g.zoom,height:C/g.zoom,top:P,left:R,factor:1,distance:k,aspect:O};{const L=g.fov*Math.PI/180,z=2*Math.tan(L/2)*k,G=z*(M/C);return{width:G,height:z,top:P,left:R,factor:M/G,distance:k,aspect:O}}}let m;const v=g=>a(w=>({performance:{...w.performance,current:g}})),x=new we;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new pP,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,b,M,C)=>{const P=l().camera,R={width:g,height:w,top:M||0,left:C||0,updateStyle:b};a(O=>({size:R,viewport:{...O.viewport,...p(P,u,R)}}))},setDpr:g=>a(w=>{const b=r5(g);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,b)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:g,priority:w,store:b}),M.subscribers=M.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,Tce(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let c0,kce=new Set,Nce=new Set,Lce=new Set;function b1(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jf(t,e){switch(t){case"before":return b1(kce,e);case"after":return b1(Nce,e);case"tail":return b1(Lce,e)}}let S1,E1;function M1(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),S1=e.internal.subscribers,c0=0;c0<S1.length;c0++)E1=S1[c0],E1.ref.current(E1.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ice(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Jf("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=M1(l,i))}if(Jf("after",l),n===0)return Jf("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(h=>o(h.store.getState(),c));(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&Jf("before",l),u)M1(l,u,h);else for(const p of t.values())M1(l,p.store.getState());c&&Jf("after",l)}return{loop:s,invalidate:o,advance:a}}function l5(){const t=T.useContext(a5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ls(t=n=>n,e){return l5()(t,e)}function sf(t,e=0){const n=l5(),r=n.getState().internal.subscribe,i=e5(t);return Dg(()=>r(i,e,n),[e,r,n]),null}const zh=new Map,{invalidate:SD,advance:ED}=Ice(zh),{reconciler:Bx,applyProps:xd}=_ce(zh,Ace),_d={objects:"shallow",strict:!1},Dce=(t,e)=>{const n=typeof t=="function"?t(e):t;return o5(n)?n:new JC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Oce(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Fce(t){const e=zh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Rce(SD,ED),o=n||Bx.createContainer(s,Zd.ConcurrentRoot,null,!1,null,"",i,null);e||zh.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:w=!1,legacy:b=!1,orthographic:M=!1,frameloop:C="always",dpr:P=[1,2],performance:R,raycaster:O,camera:k,onPointerMissed:L}=u,z=s.getState(),G=z.gl;z.gl||z.set({gl:G=Dce(h,t)});let te=z.raycaster;te||z.set({raycaster:te=new GV});const{params:B,...Z}=O||{};if(Tn.equ(Z,te,_d)||xd(te,{...Z}),Tn.equ(B,te.params,_d)||xd(te,{params:{...te.params,...B}}),!z.camera||z.camera===c&&!Tn.equ(c,k,_d)){c=k;const U=k instanceof Tg,$=U?k:M?new Pl(0,0,0,0,.1,1e3):new Gn(75,0,.1,1e3);U||($.position.z=5,k&&xd($,k),!z.camera&&!(k!=null&&k.rotation)&&$.lookAt(0,0,0)),z.set({camera:$}),te.camera=$}if(!z.scene){let U;m instanceof Ux?U=m:(U=new Ux,m&&xd(U,m)),z.set({scene:Md(U)})}if(!z.xr){var J;const U=(Y,ue)=>{const Me=s.getState();Me.frameloop!=="never"&&ED(Y,!0,Me,ue)},$=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?U:null),Y.gl.xr.isPresenting||SD(Y)},re={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",$),Y.xr.addEventListener("sessionend",$)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",$),Y.xr.removeEventListener("sessionend",$)}};typeof((J=G.xr)==null?void 0:J.addEventListener)=="function"&&re.connect(),z.set({xr:re})}if(G.shadowMap){const U=G.shadowMap.enabled,$=G.shadowMap.type;if(G.shadowMap.enabled=!!y,Tn.boo(y))G.shadowMap.type=Np;else if(Tn.str(y)){var ne;const re={basic:U4,percentage:F_,soft:Np,variance:Ns};G.shadowMap.type=(ne=re[y])!=null?ne:Np}else Tn.obj(y)&&Object.assign(G.shadowMap,y);(U!==G.shadowMap.enabled||$!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const F=JV();F&&("enabled"in F?F.enabled=!b:"legacyMode"in F&&(F.legacyMode=b)),l||xd(G,{outputEncoding:g?3e3:3001,toneMapping:w?Po:RC}),z.legacy!==b&&z.set(()=>({legacy:b})),z.linear!==g&&z.set(()=>({linear:g})),z.flat!==w&&z.set(()=>({flat:w})),h&&!Tn.fun(h)&&!o5(h)&&!Tn.equ(h,G,_d)&&xd(G,h),v&&!z.events.handlers&&z.set({events:v(s)});const j=Oce(t,p);return Tn.equ(j,z.size,_d)||z.setSize(j.width,j.height,j.updateStyle,j.top,j.left),P&&z.viewport.dpr!==r5(P)&&z.setDpr(P),z.frameloop!==C&&z.setFrameloop(C),z.onPointerMissed||z.set({onPointerMissed:L}),R&&!Tn.equ(R,z.performance,_d)&&z.set(U=>({performance:{...U.performance,...R}})),a=x,l=!0,this},render(u){return l||this.configure(),Bx.updateContainer(T.createElement(Uce,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){c5(t)}}}function Uce({store:t,children:e,onCreated:n,rootElement:r}){return Dg(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),T.createElement(a5.Provider,{value:t},e)}function c5(t,e){const n=zh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Bx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ece(i),zh.delete(t)}catch{}},500)})}}Bx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(null,arguments)}function MD(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function zce({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[h,p,m]=T.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:b,width:M,height:C,bottom:P,right:R,x:O,y:k}=a.current.element.getBoundingClientRect(),L={left:w,top:b,width:M,height:C,bottom:P,right:R,x:O,y:k};a.current.element instanceof HTMLElement&&r&&(L.height=a.current.element.offsetHeight,L.width=a.current.element.offsetWidth),Object.freeze(L),u.current&&!Hce(a.current.lastBounds,L)&&o(a.current.lastBounds=L)};return[g,c?MD(g,c):g,l?MD(g,l):g]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=u5(g),x())};return jce(m,!!e),Bce(p),T.useEffect(()=>{v(),x()},[e,m,p]),T.useEffect(()=>v,[]),[y,s,h]}function Bce(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function jce(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function u5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...u5(t.parentElement)]}const Vce=["x","y","top","bottom","left","right","width","height"],Hce=(t,e)=>Vce.every(n=>t[n]===e[n]);var Wce=Object.defineProperty,Gce=Object.defineProperties,$ce=Object.getOwnPropertyDescriptors,TD=Object.getOwnPropertySymbols,Xce=Object.prototype.hasOwnProperty,qce=Object.prototype.propertyIsEnumerable,AD=(t,e,n)=>e in t?Wce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CD=(t,e)=>{for(var n in e||(e={}))Xce.call(e,n)&&AD(t,n,e[n]);if(TD)for(var n of TD(e))qce.call(e,n)&&AD(t,n,e[n]);return t},Yce=(t,e)=>Gce(t,$ce(e)),PD,RD;typeof window<"u"&&((PD=window.document)!=null&&PD.createElement||((RD=window.navigator)==null?void 0:RD.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function d5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=d5(r,e,n);if(i)return i;r=r.sibling}}function h5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const kD=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=kD;return}return kD.apply(this,arguments)};const xP=h5(T.createContext(null));class f5 extends T.Component{render(){return T.createElement(xP.Provider,{value:this._reactInternals},this.props.children)}}function Kce(){const t=T.useContext(xP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=d5(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Zce(){const t=Kce(),[e]=T.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==xP&&!e.has(i)&&e.set(i,T.useContext(h5(i)))}n=n.return}return e}function Jce(){const t=Zce();return T.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>T.createElement(e,null,T.createElement(n.Provider,Yce(CD({},r),{value:t.get(n)}))),e=>T.createElement(f5,CD({},e))),[t])}const T1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Qce(t){const{handlePointer:e}=Pce(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(T1).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=T1[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=T1[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const eue=T.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Qce,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:w,scene:b,onPointerMissed:M,onCreated:C,...P},R){T.useMemo(()=>ZV(lce),[]);const O=Jce(),[k,L]=zce({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=T.useRef(null),G=T.useRef(null);T.useImperativeHandle(R,()=>z.current);const te=e5(M),[B,Z]=T.useState(!1),[J,ne]=T.useState(!1);if(B)throw B;if(J)throw J;const F=T.useRef(null);Dg(()=>{const U=z.current;L.width>0&&L.height>0&&U&&(F.current||(F.current=Fce(U)),F.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:w,scene:b,size:L,onPointerMissed:(...$)=>te.current==null?void 0:te.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?wce(a)?a.current:a:G.current),l&&$.setEvents({compute:(re,Y)=>{const ue=re[l+"X"],Me=re[l+"Y"];Y.pointer.set(ue/Y.size.width*2-1,-(Me/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),C==null||C($)}}),F.current.render(T.createElement(O,null,T.createElement(t5,{set:ne},T.createElement(T.Suspense,{fallback:T.createElement(bce,{set:Z})},e)))))}),T.useEffect(()=>{const U=z.current;if(U)return()=>c5(U)},[]);const j=a?"none":"auto";return T.createElement("div",pu({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},P),T.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},T.createElement("canvas",{ref:z,style:{display:"block"}},n)))}),tue=T.forwardRef(function(e,n){return T.createElement(f5,null,T.createElement(eue,pu({},e,{ref:n})))});var nue=Object.defineProperty,rue=(t,e,n)=>e in t?nue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iue=(t,e,n)=>(rue(t,e+"",n),n);class sue{constructor(){iue(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var oue=Object.defineProperty,aue=(t,e,n)=>e in t?oue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mt=(t,e,n)=>(aue(t,typeof e!="symbol"?e+"":e,n),n);const u0=new Mu,ND=new sa,lue=Math.cos(70*(Math.PI/180)),LD=(t,e)=>(t%e+e)%e;let cue=class extends sue{constructor(e,n){super(),mt(this,"object"),mt(this,"domElement"),mt(this,"enabled",!0),mt(this,"target",new H),mt(this,"minDistance",0),mt(this,"maxDistance",1/0),mt(this,"minZoom",0),mt(this,"maxZoom",1/0),mt(this,"minPolarAngle",0),mt(this,"maxPolarAngle",Math.PI),mt(this,"minAzimuthAngle",-1/0),mt(this,"maxAzimuthAngle",1/0),mt(this,"enableDamping",!1),mt(this,"dampingFactor",.05),mt(this,"enableZoom",!0),mt(this,"zoomSpeed",1),mt(this,"enableRotate",!0),mt(this,"rotateSpeed",1),mt(this,"enablePan",!0),mt(this,"panSpeed",1),mt(this,"screenSpacePanning",!0),mt(this,"keyPanSpeed",7),mt(this,"zoomToCursor",!1),mt(this,"autoRotate",!1),mt(this,"autoRotateSpeed",2),mt(this,"reverseOrbit",!1),mt(this,"reverseHorizontalOrbit",!1),mt(this,"reverseVerticalOrbit",!1),mt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),mt(this,"mouseButtons",{LEFT:Pc.ROTATE,MIDDLE:Pc.DOLLY,RIGHT:Pc.PAN}),mt(this,"touches",{ONE:Rc.ROTATE,TWO:Rc.DOLLY_PAN}),mt(this,"target0"),mt(this,"position0"),mt(this,"zoom0"),mt(this,"_domElementKeyEvents",null),mt(this,"getPolarAngle"),mt(this,"getAzimuthalAngle"),mt(this,"setPolarAngle"),mt(this,"setAzimuthalAngle"),mt(this,"getDistance"),mt(this,"getZoomScale"),mt(this,"listenToKeyEvents"),mt(this,"stopListenToKeyEvents"),mt(this,"saveState"),mt(this,"reset"),mt(this,"update"),mt(this,"connect"),mt(this,"dispose"),mt(this,"dollyIn"),mt(this,"dollyOut"),mt(this,"getScale"),mt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let Te=LD(Q,2*Math.PI),Ae=u.phi;Ae<0&&(Ae+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let De=Math.abs(Te-Ae);2*Math.PI-De<De&&(Te<Ae?Te+=2*Math.PI:Ae+=2*Math.PI),h.phi=Te-Ae,r.update()},this.setAzimuthalAngle=Q=>{let Te=LD(Q,2*Math.PI),Ae=u.theta;Ae<0&&(Ae+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let De=Math.abs(Te-Ae);2*Math.PI-De<De&&(Te<Ae?Te+=2*Math.PI:Ae+=2*Math.PI),h.theta=Te-Ae,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",Qe),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Q=new H,Te=new H(0,1,0),Ae=new Xr().setFromUnitVectors(e.up,Te),De=Ae.clone().invert(),_e=new H,ee=new Xr,Fe=2*Math.PI;return function(){const ht=r.object.position;Ae.setFromUnitVectors(e.up,Te),De.copy(Ae).invert(),Q.copy(ht).sub(r.target),Q.applyQuaternion(Ae),u.setFromVector3(Q),r.autoRotate&&l===a.NONE&&B(G()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let it=r.minAzimuthAngle,Wt=r.maxAzimuthAngle;isFinite(it)&&isFinite(Wt)&&(it<-Math.PI?it+=Fe:it>Math.PI&&(it-=Fe),Wt<-Math.PI?Wt+=Fe:Wt>Math.PI&&(Wt-=Fe),it<=Wt?u.theta=Math.max(it,Math.min(Wt,u.theta)):u.theta=u.theta>(it+Wt)/2?Math.max(it,u.theta):Math.min(Wt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&k||r.object.isOrthographicCamera?u.radius=Y(u.radius):u.radius=Y(u.radius*p),Q.setFromSpherical(u),Q.applyQuaternion(De),ht.copy(r.target).add(Q),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Kt=!1;if(r.zoomToCursor&&k){let fn=null;if(r.object instanceof Gn&&r.object.isPerspectiveCamera){const En=Q.length();fn=Y(En*p);const Jt=En-fn;r.object.position.addScaledVector(R,Jt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const En=new H(O.x,O.y,0);En.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Kt=!0;const Jt=new H(O.x,O.y,0);Jt.unproject(r.object),r.object.position.sub(Jt).add(En),r.object.updateMatrixWorld(),fn=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;fn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(fn).add(r.object.position):(u0.origin.copy(r.object.position),u0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(u0.direction))<lue?e.lookAt(r.target):(ND.setFromNormalAndCoplanarPoint(r.object.up,r.target),u0.intersectPlane(ND,r.target))))}else r.object instanceof Pl&&r.object.isOrthographicCamera&&(Kt=p!==1,Kt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,k=!1,Kt||_e.distanceToSquared(r.object.position)>c||8*(1-ee.dot(r.object.quaternion))>c?(r.dispatchEvent(i),_e.copy(r.object.position),ee.copy(r.object.quaternion),Kt=!1,!0):!1}})(),this.connect=Q=>{r.domElement=Q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",kt),r.domElement.addEventListener("pointerdown",oe),r.domElement.addEventListener("pointercancel",le),r.domElement.addEventListener("wheel",Oe)},this.dispose=()=>{var Q,Te,Ae,De,_e,ee;r.domElement&&(r.domElement.style.touchAction="auto"),(Q=r.domElement)==null||Q.removeEventListener("contextmenu",kt),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",oe),(Ae=r.domElement)==null||Ae.removeEventListener("pointercancel",le),(De=r.domElement)==null||De.removeEventListener("wheel",Oe),(_e=r.domElement)==null||_e.ownerDocument.removeEventListener("pointermove",ie),(ee=r.domElement)==null||ee.ownerDocument.removeEventListener("pointerup",le),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Qe)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new aT,h=new aT;let p=1;const m=new H,v=new we,x=new we,y=new we,g=new we,w=new we,b=new we,M=new we,C=new we,P=new we,R=new H,O=new we;let k=!1;const L=[],z={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function te(){return Math.pow(.95,r.zoomSpeed)}function B(Q){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=Q:h.theta-=Q}function Z(Q){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=Q:h.phi-=Q}const J=(()=>{const Q=new H;return function(Ae,De){Q.setFromMatrixColumn(De,0),Q.multiplyScalar(-Ae),m.add(Q)}})(),ne=(()=>{const Q=new H;return function(Ae,De){r.screenSpacePanning===!0?Q.setFromMatrixColumn(De,1):(Q.setFromMatrixColumn(De,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar(Ae),m.add(Q)}})(),F=(()=>{const Q=new H;return function(Ae,De){const _e=r.domElement;if(_e&&r.object instanceof Gn&&r.object.isPerspectiveCamera){const ee=r.object.position;Q.copy(ee).sub(r.target);let Fe=Q.length();Fe*=Math.tan(r.object.fov/2*Math.PI/180),J(2*Ae*Fe/_e.clientHeight,r.object.matrix),ne(2*De*Fe/_e.clientHeight,r.object.matrix)}else _e&&r.object instanceof Pl&&r.object.isOrthographicCamera?(J(Ae*(r.object.right-r.object.left)/r.object.zoom/_e.clientWidth,r.object.matrix),ne(De*(r.object.top-r.object.bottom)/r.object.zoom/_e.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(Q){r.object instanceof Gn&&r.object.isPerspectiveCamera||r.object instanceof Pl&&r.object.isOrthographicCamera?p=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function U(Q){j(p/Q)}function $(Q){j(p*Q)}function re(Q){if(!r.zoomToCursor||!r.domElement)return;k=!0;const Te=r.domElement.getBoundingClientRect(),Ae=Q.clientX-Te.left,De=Q.clientY-Te.top,_e=Te.width,ee=Te.height;O.x=Ae/_e*2-1,O.y=-(De/ee)*2+1,R.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function Y(Q){return Math.max(r.minDistance,Math.min(r.maxDistance,Q))}function ue(Q){v.set(Q.clientX,Q.clientY)}function Me(Q){re(Q),M.set(Q.clientX,Q.clientY)}function be(Q){g.set(Q.clientX,Q.clientY)}function Se(Q){x.set(Q.clientX,Q.clientY),y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(B(2*Math.PI*y.x/Te.clientHeight),Z(2*Math.PI*y.y/Te.clientHeight)),v.copy(x),r.update()}function Le(Q){C.set(Q.clientX,Q.clientY),P.subVectors(C,M),P.y>0?U(te()):P.y<0&&$(te()),M.copy(C),r.update()}function je(Q){w.set(Q.clientX,Q.clientY),b.subVectors(w,g).multiplyScalar(r.panSpeed),F(b.x,b.y),g.copy(w),r.update()}function xe(Q){re(Q),Q.deltaY<0?$(te()):Q.deltaY>0&&U(te()),r.update()}function ze(Q){let Te=!1;switch(Q.code){case r.keys.UP:F(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),Te=!0;break}Te&&(Q.preventDefault(),r.update())}function q(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const Q=.5*(L[0].pageX+L[1].pageX),Te=.5*(L[0].pageY+L[1].pageY);v.set(Q,Te)}}function Ee(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const Q=.5*(L[0].pageX+L[1].pageX),Te=.5*(L[0].pageY+L[1].pageY);g.set(Q,Te)}}function ge(){const Q=L[0].pageX-L[1].pageX,Te=L[0].pageY-L[1].pageY,Ae=Math.sqrt(Q*Q+Te*Te);M.set(0,Ae)}function ke(){r.enableZoom&&ge(),r.enablePan&&Ee()}function ve(){r.enableZoom&&ge(),r.enableRotate&&q()}function rt(Q){if(L.length==1)x.set(Q.pageX,Q.pageY);else{const Ae=$e(Q),De=.5*(Q.pageX+Ae.x),_e=.5*(Q.pageY+Ae.y);x.set(De,_e)}y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(B(2*Math.PI*y.x/Te.clientHeight),Z(2*Math.PI*y.y/Te.clientHeight)),v.copy(x)}function W(Q){if(L.length==1)w.set(Q.pageX,Q.pageY);else{const Te=$e(Q),Ae=.5*(Q.pageX+Te.x),De=.5*(Q.pageY+Te.y);w.set(Ae,De)}b.subVectors(w,g).multiplyScalar(r.panSpeed),F(b.x,b.y),g.copy(w)}function D(Q){const Te=$e(Q),Ae=Q.pageX-Te.x,De=Q.pageY-Te.y,_e=Math.sqrt(Ae*Ae+De*De);C.set(0,_e),P.set(0,Math.pow(C.y/M.y,r.zoomSpeed)),U(P.y),M.copy(C)}function I(Q){r.enableZoom&&D(Q),r.enablePan&&W(Q)}function K(Q){r.enableZoom&&D(Q),r.enableRotate&&rt(Q)}function oe(Q){var Te,Ae;r.enabled!==!1&&(L.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",ie),(Ae=r.domElement)==null||Ae.ownerDocument.addEventListener("pointerup",le)),Et(Q),Q.pointerType==="touch"?dt(Q):Ne(Q))}function ie(Q){r.enabled!==!1&&(Q.pointerType==="touch"?Re(Q):Ie(Q))}function le(Q){var Te,Ae,De;ft(Q),L.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(Q.pointerId),(Ae=r.domElement)==null||Ae.ownerDocument.removeEventListener("pointermove",ie),(De=r.domElement)==null||De.ownerDocument.removeEventListener("pointerup",le)),r.dispatchEvent(o),l=a.NONE}function Ne(Q){let Te;switch(Q.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Pc.DOLLY:if(r.enableZoom===!1)return;Me(Q),l=a.DOLLY;break;case Pc.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;be(Q),l=a.PAN}else{if(r.enableRotate===!1)return;ue(Q),l=a.ROTATE}break;case Pc.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;ue(Q),l=a.ROTATE}else{if(r.enablePan===!1)return;be(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ie(Q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Se(Q);break;case a.DOLLY:if(r.enableZoom===!1)return;Le(Q);break;case a.PAN:if(r.enablePan===!1)return;je(Q);break}}function Oe(Q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),r.dispatchEvent(s),xe(Q),r.dispatchEvent(o))}function Qe(Q){r.enabled===!1||r.enablePan===!1||ze(Q)}function dt(Q){switch(ot(Q),L.length){case 1:switch(r.touches.ONE){case Rc.ROTATE:if(r.enableRotate===!1)return;q(),l=a.TOUCH_ROTATE;break;case Rc.PAN:if(r.enablePan===!1)return;Ee(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Rc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ke(),l=a.TOUCH_DOLLY_PAN;break;case Rc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ve(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Re(Q){switch(ot(Q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;rt(Q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;W(Q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;I(Q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(Q),r.update();break;default:l=a.NONE}}function kt(Q){r.enabled!==!1&&Q.preventDefault()}function Et(Q){L.push(Q)}function ft(Q){delete z[Q.pointerId];for(let Te=0;Te<L.length;Te++)if(L[Te].pointerId==Q.pointerId){L.splice(Te,1);return}}function ot(Q){let Te=z[Q.pointerId];Te===void 0&&(Te=new we,z[Q.pointerId]=Te),Te.set(Q.pageX,Q.pageY)}function $e(Q){const Te=Q.pointerId===L[0].pointerId?L[1]:L[0];return z[Te.pointerId]}this.dollyIn=(Q=te())=>{$(Q),r.update()},this.dollyOut=(Q=te())=>{U(Q),r.update()},this.getScale=()=>p,this.setScale=Q=>{j(Q),r.update()},this.getZoomScale=()=>te(),n!==void 0&&this.connect(n),this.update()}};const uue="modulepreload",due=function(t){return"/"+t},ID={},mu=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=due(l),l in ID)return;ID[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":uue,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},hue=T.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const{Text:u,preloadFont:h}=vD(async()=>mu(()=>import("./troika-three-text.esm-B0slFzb7.js"),[]),[]),p=Ls(({invalidate:y})=>y),[m]=T.useState(()=>new u),[v,x]=T.useMemo(()=>{const y=[];let g="";return T.Children.forEach(s,w=>{typeof w=="string"||typeof w=="number"?g+=w:y.push(w)}),[y,g]},[s]);return vD(()=>new Promise(y=>h({font:r,characters:o},y)),["troika-text",r,o]),T.useLayoutEffect(()=>void m.sync(()=>{p(),a&&a(m)})),T.useEffect(()=>()=>m.dispose(),[m]),T.createElement("primitive",pu({object:m,ref:c,font:r,text:x,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),v)});function fue(t,e,n,r){const i=class extends Zs{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,u])=>{const h=XC.clone({[c]:{value:u}});return{...l,...h}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=V_.generateUUID(),i}const pue=()=>parseInt(bg.replace(/\D+/g,"")),mue=pue(),gue=T.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const h=Ls(P=>P.invalidate),p=Ls(P=>P.camera),m=Ls(P=>P.gl),v=Ls(P=>P.events),x=Ls(P=>P.setEvents),y=Ls(P=>P.set),g=Ls(P=>P.get),w=Ls(P=>P.performance),b=e||p,M=r||v.connected||m.domElement,C=T.useMemo(()=>new cue(b),[b]);return sf(()=>{C.enabled&&C.update()},-1),T.useEffect(()=>(s&&C.connect(s===!0?M:s),C.connect(M),()=>void C.dispose()),[s,M,n,C,h]),T.useEffect(()=>{const P=k=>{h(),n&&w.regress(),o&&o(k)},R=k=>{a&&a(k)},O=k=>{l&&l(k)};return C.addEventListener("change",P),C.addEventListener("start",R),C.addEventListener("end",O),()=>{C.removeEventListener("start",R),C.removeEventListener("end",O),C.removeEventListener("change",P)}},[o,a,l,C,h,x]),T.useEffect(()=>{if(t){const P=g().controls;return y({controls:C}),()=>y({controls:P})}},[t,C]),T.createElement("primitive",pu({ref:u,object:C,enableDamping:i},c))}),vue=T.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=T.useRef(null);T.useImperativeHandle(a,()=>l.current,[]);const c=T.useRef(Math.random()*1e4);return sf(u=>{var h,p;if(!e||n===0)return;const m=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*n)/8*r,l.current.rotation.y=Math.sin(m/4*n)/8*r,l.current.rotation.z=Math.sin(m/4*n)/20*r;let v=Math.sin(m/4*n)/10;v=V_.mapLinear(v,-.1,.1,(h=s==null?void 0:s[0])!==null&&h!==void 0?h:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=v*i,l.current.updateMatrix()}),T.createElement("group",o,T.createElement("group",{ref:l,matrixAutoUpdate:!1},t))}),yue=fue({time:0,pixelRatio:1},` uniform float pixelRatio;
    uniform float time;
    attribute float size;  
    attribute float speed;  
    attribute float opacity;
    attribute vec3 noise;
    attribute vec3 color;
    varying vec3 vColor;
    varying float vOpacity;
    void main() {
      vec4 modelPosition = modelMatrix * vec4(position, 1.0);
      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
      vec4 viewPosition = viewMatrix * modelPosition;
      vec4 projectionPostion = projectionMatrix * viewPosition;
      gl_Position = projectionPostion;
      gl_PointSize = size * 25. * pixelRatio;
      gl_PointSize *= (1.0 / - viewPosition.z);
      vColor = color;
      vOpacity = opacity;
    }`,` varying vec3 vColor;
    varying float vOpacity;
    void main() {
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      float strength = 0.05 / distanceToCenter - 0.1;
      gl_FragColor = vec4(vColor, strength * vOpacity);
      #include <tonemapping_fragment>
      #include <${mue>=154?"colorspace_fragment":"encodings_fragment"}>
    }`),p5=t=>t&&t.constructor===Float32Array,xue=t=>[t.r,t.g,t.b],m5=t=>t instanceof we||t instanceof H||t instanceof cn,g5=t=>Array.isArray(t)?t:m5(t)?t.toArray():[t,t,t];function Qf(t,e,n){return T.useMemo(()=>{if(e!==void 0){if(p5(e))return e;if(e instanceof Ke){const r=Array.from({length:t*3},()=>xue(e)).flat();return Float32Array.from(r)}else if(m5(e)||Array.isArray(e)){const r=Array.from({length:t*3},()=>g5(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:t},()=>e)}return Float32Array.from({length:t},n)},[e])}const _ue=T.forwardRef(({noise:t=1,count:e=100,speed:n=1,opacity:r=1,scale:i=1,size:s,color:o,children:a,...l},c)=>{T.useMemo(()=>ZV({SparklesImplMaterial:yue}),[]);const u=T.useRef(null),h=Ls(b=>b.viewport.dpr),p=g5(i),m=T.useMemo(()=>Float32Array.from(Array.from({length:e},()=>p.map(V_.randFloatSpread)).flat()),[e,...p]),v=Qf(e,s,Math.random),x=Qf(e,r),y=Qf(e,n),g=Qf(e*3,t),w=Qf(o===void 0?e*3:e,p5(o)?o:new Ke(o),()=>1);return sf(b=>{u.current&&u.current.material&&(u.current.material.time=b.clock.elapsedTime)}),T.useImperativeHandle(c,()=>u.current,[]),T.createElement("points",pu({key:`particle-${e}-${JSON.stringify(i)}`},l,{ref:u}),T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[m,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]}),T.createElement("bufferAttribute",{attach:"attributes-opacity",args:[x,1]}),T.createElement("bufferAttribute",{attach:"attributes-speed",args:[y,1]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[w,3]}),T.createElement("bufferAttribute",{attach:"attributes-noise",args:[g,3]})),a||T.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:h,depthWrite:!1}))}),wue=({position:t,size:e=.2,color:n="#ffffff",label:r,pulsate:i=!0})=>{const s=T.useRef(null),[o,a]=T.useState(!1);sf(u=>{s.current&&i&&s.current.scale.setScalar(1+Math.sin(u.clock.getElapsedTime()*2)*.1),o&&s.current&&(s.current.rotation.x+=.01,s.current.rotation.y+=.01)});const l=u=>{u.stopPropagation(),a(!0)},c=u=>{u.stopPropagation(),a(!1)};return S.jsxs("group",{children:[S.jsxs("mesh",{ref:s,position:t,onPointerOver:l,onPointerOut:c,children:[S.jsx("sphereGeometry",{args:[e,16,16]}),S.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:o?.6:.2,roughness:.2,metalness:.8})]}),r&&S.jsx("group",{position:new H(t.x,t.y+e*2,t.z),children:S.jsx(vue,{speed:5,rotationIntensity:.2,floatIntensity:.2,children:S.jsx(hue,{color:n,fontSize:.15,maxWidth:2,lineHeight:1,letterSpacing:.02,textAlign:"center",anchorY:"bottom",children:r})})})]})},bue=({start:t,end:e,color:n="#1EAEDB",width:r=.05})=>{const i=new H().addVectors(t,e).multiplyScalar(.5);i.normalize().multiplyScalar(3);const s=new Z_(t,i,e),o=new Lg(s,20,r,8,!1);return S.jsxs("mesh",{children:[S.jsx("primitive",{object:o,attach:"geometry"}),S.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.4,transparent:!0,opacity:.7})]})},Sue=()=>{const[t,e]=T.useState(.001),n=T.useRef(null),{camera:r}=Ls();T.useEffect(()=>{r instanceof Gn&&r.position.set(0,0,8)},[r]),sf(()=>{n.current&&(n.current.rotation.y+=t,n.current.rotation.x+=t*.5)});const i=Ce.useMemo(()=>{const s=[],o=[],c=["Python","SQL","React","Spark","Airflow","AWS","Snowflake","Kafka","Docker","ETL","TensorFlow","ML","DataOps","Visualization","NoSQL","Git","CI/CD","Kubernetes","ELK","REST"],u=["#1EAEDB","#3D5AFE","#8B5CF6","#EC4899","#F471B5"];for(let h=0;h<20;h++){const p=Math.acos(-1+2*h/20),m=Math.sqrt(20*Math.PI)*p,v=4*Math.cos(m)*Math.sin(p),x=4*Math.sin(m)*Math.sin(p),y=4*Math.cos(p),g=u[Math.floor(Math.random()*u.length)];s.push({position:new H(v,x,y),color:g,size:.15+Math.random()*.1,label:c[h%c.length]})}for(let h=0;h<s.length;h++){const p=Math.floor(Math.random()*3)+1;for(let m=0;m<p;m++){const v=(h+1+Math.floor(Math.random()*(s.length-2)))%s.length;h!==v&&o.push({start:h,end:v})}}return{nodes:s,edges:o}},[]);return S.jsxs("group",{ref:n,children:[i.nodes.map((s,o)=>S.jsx(wue,{position:s.position,color:s.color,size:s.size,label:s.label},o)),i.edges.map((s,o)=>S.jsx(bue,{start:i.nodes[s.start].position,end:i.nodes[s.end].position,color:"#1EAEDB",width:.02},o))]})},Eue=()=>{const t=T.useRef(null);return sf(e=>{t.current&&(t.current.rotation.y=e.clock.getElapsedTime()*.1)}),S.jsx("group",{ref:t,children:S.jsx(_ue,{count:100,scale:10,size:1,speed:.3,color:"#8B5CF6"})})},Mue=({rotate:t=!0,className:e})=>{const[n,r]=T.useState(!1);return n?S.jsx("div",{className:"h-[300px] flex items-center justify-center bg-black/20 rounded-lg",children:S.jsxs("p",{className:"text-gray-400 text-center",children:["3D visualization could not be loaded.",S.jsx("br",{}),S.jsx("span",{className:"text-sm text-gray-500",children:"Try refreshing the page or using a different browser."})]})}):S.jsx("div",{className:`w-full h-[300px] neo-blur border border-white/10 rounded-lg overflow-hidden ${e||""}`,children:S.jsxs(tue,{camera:{position:[0,0,8],fov:60},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},onError:()=>r(!0),children:[S.jsx("color",{attach:"background",args:[0,0,0]}),S.jsx("ambientLight",{intensity:.3}),S.jsx("pointLight",{position:[10,10,10],intensity:1.5}),S.jsx("pointLight",{position:[-10,-10,-10],intensity:.8,color:"#8B5CF6"}),S.jsx(Sue,{}),S.jsx(Eue,{}),S.jsx(gue,{enableZoom:!1,enablePan:!1,autoRotate:t,autoRotateSpeed:.5,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI-Math.PI/6})]})})},Tue=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>of);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _P extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Aue extends _P{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cue extends _P{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pue extends _P{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uT||(uT={}));var Rue=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class kue{constructor(e,{headers:n={},customFetch:r,region:i=uT.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Tue(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Rue(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(v=>{throw new Aue(v)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Cue(u);if(!u.ok)throw new Pue(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield u.json():p==="application/octet-stream"?m=yield u.blob():p==="text/event-stream"?m=u:p==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var Ei={},wP={},dw={},Og={},hw={},fw={},Nue=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bh=Nue();const Lue=Bh.fetch,v5=Bh.fetch.bind(Bh),y5=Bh.Headers,Iue=Bh.Request,Due=Bh.Response,of=Object.freeze(Object.defineProperty({__proto__:null,Headers:y5,Request:Iue,Response:Due,default:v5,fetch:Lue},Symbol.toStringTag,{value:"Module"})),Oue=s6(of);var pw={};Object.defineProperty(pw,"__esModule",{value:!0});let Fue=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};pw.default=Fue;var x5=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fw,"__esModule",{value:!0});const Uue=x5(Oue),zue=x5(pw);let Bue=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Uue.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,p=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(u=[],c=null,p=200,m="OK")}catch{s.status===404&&x===""?(p=204,m="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,m="OK"),c&&this.shouldThrowOnError)throw new zue.default(c)}return{error:c,data:u,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};fw.default=Bue;var jue=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hw,"__esModule",{value:!0});const Vue=jue(fw);let Hue=class extends Vue.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hw.default=Hue;var Wue=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Og,"__esModule",{value:!0});const Gue=Wue(hw);let $ue=class extends Gue.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Og.default=$ue;var Xue=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dw,"__esModule",{value:!0});const ep=Xue(Og);let que=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ep.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ep.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ep.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ep.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ep.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dw.default=que;var mw={},gw={};Object.defineProperty(gw,"__esModule",{value:!0});gw.version=void 0;gw.version="0.0.0-automated";Object.defineProperty(mw,"__esModule",{value:!0});mw.DEFAULT_HEADERS=void 0;const Yue=gw;mw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yue.version}`};var _5=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wP,"__esModule",{value:!0});const Kue=_5(dw),Zue=_5(Og),Jue=mw;let Que=class w5{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Jue.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Kue.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new w5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Zue.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wP.default=Que;var af=_s&&_s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.PostgrestError=Ei.PostgrestBuilder=Ei.PostgrestTransformBuilder=Ei.PostgrestFilterBuilder=Ei.PostgrestQueryBuilder=Ei.PostgrestClient=void 0;const b5=af(wP);Ei.PostgrestClient=b5.default;const S5=af(dw);Ei.PostgrestQueryBuilder=S5.default;const E5=af(Og);Ei.PostgrestFilterBuilder=E5.default;const M5=af(hw);Ei.PostgrestTransformBuilder=M5.default;const T5=af(fw);Ei.PostgrestBuilder=T5.default;const A5=af(pw);Ei.PostgrestError=A5.default;var ede=Ei.default={PostgrestClient:b5.default,PostgrestQueryBuilder:S5.default,PostgrestFilterBuilder:E5.default,PostgrestTransformBuilder:M5.default,PostgrestBuilder:T5.default,PostgrestError:A5.default};const{PostgrestClient:tde,PostgrestQueryBuilder:$me,PostgrestFilterBuilder:Xme,PostgrestTransformBuilder:qme,PostgrestBuilder:Yme,PostgrestError:Kme}=ede,nde="2.11.2",rde={"X-Client-Info":`realtime-js/${nde}`},ide="1.0.0",C5=1e4,sde=1e3;var uh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(uh||(uh={}));var Ui;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ui||(Ui={}));var Fs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fs||(Fs={}));var dT;(function(t){t.websocket="websocket"})(dT||(dT={}));var Dc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dc||(Dc={}));class ode{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class P5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(mn||(mn={}));const DD=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=ade(o,t,e,i),s),{})},ade=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?R5(s,o):hT(o)},R5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return dde(e,n)}switch(t){case mn.bool:return lde(e);case mn.float4:case mn.float8:case mn.int2:case mn.int4:case mn.int8:case mn.numeric:case mn.oid:return cde(e);case mn.json:case mn.jsonb:return ude(e);case mn.timestamp:return hde(e);case mn.abstime:case mn.date:case mn.daterange:case mn.int4range:case mn.int8range:case mn.money:case mn.reltime:case mn.text:case mn.time:case mn.timestamptz:case mn.timetz:case mn.tsrange:case mn.tstzrange:return hT(e);default:return hT(e)}},hT=t=>t,lde=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ude=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dde=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>R5(e,a))}return t},hde=t=>typeof t=="string"?t.replace(" ","T"):t,k5=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class A1{constructor(e,n,r={},i=C5){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var OD;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(OD||(OD={}));class Up{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Up.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Up.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Up.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const p=u.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),v=u.filter(y=>m.indexOf(y.presence_ref)<0),x=h.filter(y=>p.indexOf(y.presence_ref)<0);v.length>0&&(a[c]=v),x.length>0&&(l[c]=x)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(m=>m.presence_ref),p=u.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(FD||(FD={}));var UD;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(UD||(UD={}));var ra;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class bP{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ui.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new A1(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new P5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ui.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ui.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ui.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ui.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Up(this),this.broadcastEndpointURL=k5(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ra.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ra.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(ra.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<m;x++){const y=p[x],{filter:{event:g,schema:w,table:b,filter:M}}=y,C=u&&u[x];if(C&&C.event===g&&C.schema===w&&C.table===b&&C.filter===M)v.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),e==null||e(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ra.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ui.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new A1(this,Fs.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new A1(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Fs;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,x,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(x=m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,x,y,g,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const M=m.id,C=(v=m.filter)===null||v===void 0?void 0:v.event;return M&&((x=n.ids)===null||x===void 0?void 0:x.includes(M))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const M=(w=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return M==="*"||M===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:x,table:y,commit_timestamp:g,type:w,errors:b}=v;p=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:g,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(p,r)})}_isClosed(){return this.state===Ui.closed}_isJoined(){return this.state===Ui.joined}_isJoining(){return this.state===Ui.joining}_isLeaving(){return this.state===Ui.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&bP.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fs.close,{},e)}_onError(e){this._on(Fs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ui.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=DD(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=DD(e.columns,e.old_record)),n}}const fde=()=>{},pde=typeof WebSocket<"u",mde=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gde{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=rde,this.params={},this.timeout=C5,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=fde,this.conn=null,this.sendBuffer=[],this.serializer=new ode,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>mu(async()=>{const{default:l}=await Promise.resolve().then(()=>of);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${dT.websocket}`,this.httpEndpoint=k5(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new P5(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(pde){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vde(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),mu(async()=>{const{default:e}=await import("./browser-Cug-U7CQ.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ide}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case uh.connecting:return Dc.Connecting;case uh.open:return Dc.Open;case uh.closing:return Dc.Closing;default:return Dc.Closed}}isConnected(){return this.connectionState()===Dc.Open}channel(e,n={config:{}}){const r=new bP(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Fs.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(sde,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([mde],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class vde{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=uh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class SP extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _r(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yde extends SP{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fT extends SP{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var xde=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const N5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>of);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},_de=()=>xde(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mu(()=>Promise.resolve().then(()=>of),void 0)).Response:Response}),pT=t=>{if(Array.isArray(t))return t.map(n=>pT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pT(r)}),e};var Ru=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const C1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wde=(t,e,n)=>Ru(void 0,void 0,void 0,function*(){const r=yield _de();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new yde(C1(i),t.status||500))}).catch(i=>{e(new fT(C1(i),i))}):e(new fT(C1(t),t))}),bde=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Fg(t,e,n,r,i,s){return Ru(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,bde(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>wde(l,a,r))})})}function jx(t,e,n,r){return Ru(this,void 0,void 0,function*(){return Fg(t,"GET",e,n,r)})}function nl(t,e,n,r,i){return Ru(this,void 0,void 0,function*(){return Fg(t,"POST",e,r,i,n)})}function Sde(t,e,n,r,i){return Ru(this,void 0,void 0,function*(){return Fg(t,"PUT",e,r,i,n)})}function Ede(t,e,n,r){return Ru(this,void 0,void 0,function*(){return Fg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function L5(t,e,n,r,i){return Ru(this,void 0,void 0,function*(){return Fg(t,"DELETE",e,r,i,n)})}var yi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Mde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tde{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=N5(i)}uploadOrUpdate(e,n,r,i){return yi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},zD),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(_r(s))return{data:null,error:s};throw s}})}upload(e,n,r){return yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return yi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:zD.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(_r(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return yi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield nl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new SP("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}update(e,n,r){return yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return yi(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}copy(e,n,r){return yi(this,void 0,void 0,function*(){try{return{data:{path:(yield nl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return yi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield nl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return yi(this,void 0,void 0,function*(){try{const i=yield nl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}download(e,n){return yi(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield jx(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_r(a))return{data:null,error:a};throw a}})}info(e){return yi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield jx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pT(r),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}exists(e){return yi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ede(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_r(r)&&r instanceof fT){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return yi(this,void 0,void 0,function*(){try{return{data:yield L5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}list(e,n,r){return yi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Mde),n),{prefix:e||""});return{data:yield nl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(_r(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ade="2.7.1",Cde={"X-Client-Info":`storage-js/${Ade}`};var wd=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Pde{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Cde),n),this.fetch=N5(r)}listBuckets(){return wd(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_r(e))return{data:null,error:e};throw e}})}getBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return wd(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return wd(this,void 0,void 0,function*(){try{return{data:yield Sde(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_r(r))return{data:null,error:r};throw r}})}emptyBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wd(this,void 0,void 0,function*(){try{return{data:yield L5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(_r(n))return{data:null,error:n};throw n}})}}class Rde extends Pde{constructor(e,n={},r){super(e,n,r)}from(e){return new Tde(this.url,this.headers,e,this.fetch)}}const kde="2.33.2",Nde={"X-Client-Info":`supabase-js/${kde}`};var Lde=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ide=t=>{let e;return t?e=t:typeof fetch>"u"?e=v5:e=fetch,(...n)=>e(...n)},Dde=()=>typeof Headers>"u"?y5:Headers,Ode=(t,e,n)=>{const r=Ide(n),i=Dde();return(s,o)=>Lde(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};function Fde(t){return t.replace(/\/$/,"")}function Ude(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}const I5="2.69.1",Ad=30*1e3,mT=3,P1=mT*Ad,zde="http://localhost:9999",Bde="supabase.auth.token",jde={"X-Client-Info":`gotrue-js/${I5}`},gT="X-Supabase-Api-Version",D5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vde=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hde=6e5;class EP extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Wde extends EP{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gde(t){return Dt(t)&&t.name==="AuthApiError"}class O5 extends EP{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class nc extends EP{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ja extends nc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $de(t){return Dt(t)&&t.name==="AuthSessionMissingError"}class R1 extends nc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class d0 extends nc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class h0 extends nc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xde(t){return Dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class BD extends nc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vT extends nc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function k1(t){return Dt(t)&&t.name==="AuthRetryableFetchError"}class jD extends nc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zp extends nc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const VD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HD=` 	
\r=`.split(""),qde=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HD.length;e+=1)t[HD[e].charCodeAt(0)]=-2;for(let e=0;e<VD.length;e+=1)t[VD[e].charCodeAt(0)]=e;return t})();function F5(t,e,n){const r=qde[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function WD(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Zde(o,r,n)};for(let o=0;o<t.length;o+=1)F5(t.charCodeAt(o),i,s);return e.join("")}function Yde(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Kde(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Yde(r,e)}}function Zde(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Jde(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)F5(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Qde(t){const e=[];return Kde(t,n=>e.push(n)),new Uint8Array(e)}function ehe(t){return Math.round(Date.now()/1e3)+t}function the(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const po=()=>typeof window<"u"&&typeof document<"u",Ec={tested:!1,writable:!1},Bp=()=>{if(!po())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ec.tested)return Ec.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ec.tested=!0,Ec.writable=!0}catch{Ec.tested=!0,Ec.writable=!1}return Ec.writable};function nhe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const U5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mu(async()=>{const{default:r}=await Promise.resolve().then(()=>of);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rhe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",z5=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},f0=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},p0=async(t,e)=>{await t.removeItem(e)};class vw{constructor(){this.promise=new vw.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vw.promiseConstructor=Promise;function N1(t){const e=t.split(".");if(e.length!==3)throw new zp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Vde.test(e[r]))throw new zp("JWT not in base64url format");return{header:JSON.parse(WD(e[0])),payload:JSON.parse(WD(e[1])),signature:Jde(e[2]),raw:{header:e[0],payload:e[1]}}}async function ihe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function she(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function ohe(t){return("0"+t.toString(16)).substr(-2)}function ahe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ohe).join("")}async function lhe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function che(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lhe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bd(t,e,n=!1){const r=ahe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await z5(t,`${e}-code-verifier`,i);const s=await che(r);return[s,r===s?"plain":"s256"]}const uhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dhe(t){const e=t.headers.get(gT);if(!e||!e.match(uhe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hhe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var phe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mhe=[502,503,504];async function GD(t){var e;if(!rhe(t))throw new vT(Lc(t),0);if(mhe.includes(t.status))throw new vT(Lc(t),t.status);let n;try{n=await t.json()}catch(s){throw new O5(Lc(s),s)}let r;const i=dhe(t);if(i&&i.getTime()>=D5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jD(Lc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new jD(Lc(n),t.status,n.weak_password.reasons);throw new Wde(Lc(n),t.status||500,r)}const ghe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function qt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[gT]||(s[gT]=D5["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await vhe(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vhe(t,e,n,r,i,s){const o=ghe(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new vT(Lc(l),0)}if(a.ok||await GD(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await GD(l)}}function Qa(t){var e;let n=null;whe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ehe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function $D(t){const e=Qa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ol(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yhe(t){return{data:t,error:null}}function xhe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=phe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _he(t){return t}function whe(t){return t.access_token&&t.refresh_token&&t.expires_in}var bhe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class She{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=U5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ol})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bhe(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xhe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ol})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_he});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Dt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ol})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ol})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ol})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await qt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}}const Ehe={getItem:t=>Bp()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Bp()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Bp()&&globalThis.localStorage.removeItem(t)}};function XD(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Mhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sd={debug:!!(globalThis&&Bp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class The extends B5{}async function Ahe(t,e,n){Sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Sd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new The(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Mhe();const Che={url:zde,storageKey:Bde,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jde,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qD(t,e,n){return await n()}class Hm{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hm.nextInstanceID,Hm.nextInstanceID+=1,this.instanceID>0&&po()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Che),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new She({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=U5(i.fetch),this.lock=i.lock||qD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:po()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ahe:this.lock=qD,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Bp()?this.storage=Ehe:(this.memoryStorage={},this.storage=XD(this.memoryStorage)):(this.memoryStorage={},this.storage=XD(this.memoryStorage)),po()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I5}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nhe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),po()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Xde(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Dt(n)?{error:n}:{error:new O5("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qa}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await bd(this.storage,this.storageKey)),s=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:v},xform:Qa})}else if("phone"in e){const{phone:u,password:h,options:p}=e;s=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qa})}else throw new d0("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$D})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$D})}else throw new d0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new R1}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await f0(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qa});if(await p0(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new R1}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qa}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new R1}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await bd(this.storage,this.storageKey));const{error:h}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new d0("You must provide either an email or phone number.")}catch(a){if(Dt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qa});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await bd(this.storage,this.storageKey)),await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:yhe})}catch(s){if(Dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ja;const{error:i}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new d0("You must provide either an email or phone number and a type")}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await f0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<P1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ol}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ol})})}catch(n){if(Dt(n))return $de(n)&&(await this._removeSession(),await p0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ja;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bd(this.storage,this.storageKey));const{data:c,error:u}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ol});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ja;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=N1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Dt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ja;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Dt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!po())throw new h0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new h0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new h0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new BD("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new h0("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let p=u+h;l&&(p=parseInt(l));const m=p-u;m*1e3<=Ad&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=p-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:x,error:y}=await this._getUser(s);if(y)throw y;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await f0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Gde(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await p0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=the(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bd(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return po()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Dt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await she(async i=>(i>0&&await ihe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&k1(s)&&Date.now()+o-r<Ad})}catch(r){if(this._debug(n,"error",r),Dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),po()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await f0(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<P1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${P1}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),k1(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vw;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Ja;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Dt(s)){const o={session:null,error:s};return k1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await z5(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await p0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&po()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ad);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ad);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ad}ms, refresh threshold is ${mT} ticks`),i<=mT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof B5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!po()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await bd(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await qt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=N1(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Hde>Date.now()))return r;const{data:i,error:s}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new zp("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new zp("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=N1(r);if(hhe(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=fhe(i.alg),u=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Qde(`${a}.${l}`)))throw new zp("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}}Hm.nextInstanceID=0;class Phe extends Hm{constructor(e){super(e)}}var Rhe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const khe={headers:Nde},Nhe={schema:"public"},Lhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ihe={};class Dhe{constructor(e,n,r){var i,s,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const p=Fde(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const m=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:Nhe,realtime:Ihe,auth:Object.assign(Object.assign({},Lhe),{storageKey:m}),global:khe},x=Ude(r??{},v);this.storageKey=(s=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=x.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,(c=x.global)===null||c===void 0?void 0:c.fetch),this.fetch=Ode(n,this._getAccessToken.bind(this),(u=x.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new tde(`${p}/rest/v1`,{headers:this.headers,schema:(h=x.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new kue(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rde(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Rhe(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Phe({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new gde(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ohe=(t,e,n)=>new Dhe(t,e,n),Fhe="https://qqvgbmuflefbgckodyvd.supabase.co",Uhe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxdmdibXVmbGVmYmdja29keXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1NzY1NjAsImV4cCI6MjA2MDE1MjU2MH0.1oXKj9H6afZKvnRqMhWqAurvyDK8RjHnkwfnaeFwP_E",m0=Ohe(Fhe,Uhe),j5=T.createContext(void 0),zhe={hero:{name:"Ajith Annavarapu",title:"Data Engineer & Data Scientist",subtitle:"Transforming raw data into meaningful insights",description:"I transform raw data into meaningful insights that drive business decisions. With expertise in building robust data pipelines and scalable data systems, I help organizations harness the full potential of their data.",openTo:"I'm always open to new challenges and collaborations. If you're working on an interesting project that requires data expertise, A.I or even Vibe Coding. I'd love to hear about it!"},about:{name:"Ajith Annavarapu",bio:"I'm a passionate Data Engineer with a Master's degree in Data Science, dedicated to building robust and scalable data systems that transform raw data into valuable insights.",location:"Irving, TX",education:"M.S. in Data Science",email:"ajith.anna5599@gmail.com",paragraph1:"I'm a passionate Data Engineer with a Master's degree in Data Science, dedicated to building robust and scalable data systems that transform raw data into valuable insights.",paragraph2:"When I'm not immersed in data, you'll find me exploring new hiking trails, Vibe Coding, experimenting with cooking recipes, or diving into a good thriller movie. I believe in continuous learning and staying curious about the world around us.",paragraph3:"I'm always open to new challenges and collaborations. If you're working on an interesting project that requires data expertise, I'd love to hear about it!"},experience:[{id:"1",company:"Infokeys",role:"AI Data Engineer",period:"Apr 2024–Present",description:"Led migration of ETL workflows to Databricks, developed data governance frameworks, and implemented AI-driven monitoring systems.",responsibilities:["Led migration of ETL workflows to Databricks","Developed data governance frameworks","Implemented AI-driven monitoring systems","Created data optimization strategies in Snowflake","Integrated LLMs for metadata tagging and automated reporting","Significantly improving processing time, reducing costs, and enhancing data quality and accessibility"],technologies:["Databricks","Snowflake","Python","SQL","LLMs","ETL","AI"]},{id:"2",company:"HomeOMattic Service Pvt Ltd",role:"Data Engineer Associate",period:"Apr 2021–Jan 2022",description:"Designed high-performance ETL pipelines and event-driven architectures that improved data refresh cycles and reduced ingestion delays.",responsibilities:["Designed high-performance ETL pipelines and event-driven architectures","Improved data refresh cycles and reduced ingestion delays","Implemented comprehensive workflow orchestration with Apache Airflow","Deployed AI-based anomaly detection systems","Ensuring high availability and automated monitoring for data pipelines serving thousands of daily users"],technologies:["Apache Airflow","ETL","Python","AI","Anomaly Detection"]},{id:"3",company:"Cognizant Technology Solutions",role:"Programme Analyst Trainee",period:"July 2020–Apr 2021",description:"Built large-scale PySpark pipelines for customer data aggregation and developed predictive models for customer churn analysis.",responsibilities:["Built large-scale PySpark pipelines for customer data aggregation","Developed predictive models for customer churn analysis","Integrated AWS services to optimize cloud storage costs","Created NLP sentiment analysis pipelines","Enhanced marketing personalization and analytics capabilities"],technologies:["PySpark","AWS","Python","NLP","Machine Learning","Predictive Analytics"]},{id:"4",company:"Cognizant Technology Solutions",role:"Intern",period:"Jan 2020–May 2020",description:"Designed Tableau dashboards for compliance metrics and developed data integration workflows with robust validation.",responsibilities:["Designed Tableau dashboards for compliance metrics","Developed data integration workflows with robust validation","Automated metadata cataloging processes","Optimized Snowflake query performance","Significantly improving reporting efficiency and enabling real-time monitoring"],technologies:["Tableau","Snowflake","SQL","Data Integration","Automation"]},{id:"5",company:"HomeOMattic Service Pvt Ltd",role:"Intern",period:"Jan 2019–Jan 2020",description:"Developed machine learning classifiers for fraud detection and built unsupervised anomaly detection algorithms.",responsibilities:["Developed machine learning classifiers for fraud detection","Built unsupervised anomaly detection algorithms that reduced false positives and manual audits","Created automated model training workflows","Built visualization dashboards","Improving operational efficiency and data accuracy for risk analysis"],technologies:["Machine Learning","Python","Fraud Detection","Anomaly Detection","Visualization"]}],projects:[{id:"1",title:"Data Cleaning Automation",description:"Automated data cleaning and preprocessing pipeline for handling complex datasets efficiently.",longDescription:"Automated data cleaning and preprocessing pipeline for handling complex datasets efficiently.",techStack:["Python","Pandas","Numpy","Scikit-learn","Jupyter Notebooks"],githubLink:"https://github.com/Ajith-oo7/Cleaning-Automation",color:"purple",challenges:["Handling complex data inconsistencies","Automating manual cleaning processes","Maintaining data quality"],solutions:["Built automated validation rules","Created intelligent preprocessing algorithms","Implemented quality monitoring"],outcomes:["90% reduction in manual cleaning time","Improved data quality","Scalable automation framework"]},{id:"2",title:"Data Analysis Automation",description:"An end-to-end automated data analysis tool for generating insights and visualizations from raw data.",longDescription:"An end-to-end automated data analysis tool for generating insights and visualizations from raw data.",techStack:["Python","Pandas","Matplotlib","Seaborn","Statsmodels","Jupyter"],githubLink:"https://github.com/Ajith-oo7/data-analysis-automation",color:"blue",challenges:["Automating complex analysis workflows","Dynamic visualization generation","Statistical model selection"],solutions:["Created flexible analysis framework","Built dynamic visualization engine","Implemented automated model selection"],outcomes:["Automated report generation","Consistent analysis quality","Reduced analysis time by 70%"]},{id:"3",title:"LinkedIn Post Generator",description:"AI-powered content generation tool that creates engaging LinkedIn posts from minimal input.",longDescription:"AI-powered content generation tool that creates engaging LinkedIn posts from minimal input.",techStack:["Python","NLP","OpenAI API","Flask","React","CSS"],githubLink:"https://github.com/Ajith-oo7/Linkedin-Post-Generator",color:"pink",challenges:["Content relevance and engagement","AI prompt optimization","User experience design"],solutions:["Fine-tuned AI prompts for LinkedIn context","Built intuitive user interface","Implemented content validation"],outcomes:["High-quality content generation","Improved posting efficiency","Enhanced social media presence"]},{id:"4",title:"Project DARE",description:"Dynamic Anomaly Recognition Engine - An advanced system for detecting outliers in complex datasets.",longDescription:"Dynamic Anomaly Recognition Engine - An advanced system for detecting outliers in complex datasets.",techStack:["Python","TensorFlow","PyTorch","Scikit-learn","Docker","Kubernetes"],githubLink:"https://github.com/Ajith-oo7/project_dare",color:"green",challenges:["Complex anomaly detection","Real-time processing","Scalable architecture"],solutions:["Advanced ML algorithms","Distributed processing","Containerized deployment"],outcomes:["95% anomaly detection accuracy","Real-time processing capabilities","Scalable production system"]},{id:"5",title:"ML Model Deployment Framework",description:"End-to-end framework for deploying machine learning models to production environments.",longDescription:"End-to-end framework for deploying machine learning models to production environments.",techStack:["Python","Docker","Kubernetes","Flask","MLflow","Prometheus","Grafana"],githubLink:"https://github.com/Ajith-oo7/deploying-machine-learning-models",color:"orange",challenges:["Model versioning and deployment","Production monitoring","Scalable infrastructure"],solutions:["MLOps pipeline automation","Comprehensive monitoring setup","Container orchestration"],outcomes:["Streamlined deployment process","Improved model reliability","Production-ready ML systems"]}],skills:[{id:"1",name:"Languages & Databases",skills:[{name:"Python",level:95},{name:"SQL (Postgres, MS-SQL, MySQL)",level:90},{name:"Java",level:80},{name:"C",level:75},{name:"React",level:85},{name:"Cassandra",level:80}]},{id:"2",name:"Cloud & DevOps",skills:[{name:"AWS (Glue, Lambda, S3, EC2, EMR, ECR)",level:90},{name:"API Gateway",level:85},{name:"KMS",level:80},{name:"SageMaker",level:85},{name:"CloudWatch",level:85},{name:"IAM",level:85},{name:"DMS",level:80},{name:"Redshift",level:85},{name:"CI/CD",level:80}]},{id:"3",name:"Big Data & ETL",skills:[{name:"Snowflake",level:90},{name:"Databricks",level:95},{name:"PySpark",level:90},{name:"Informatica",level:80},{name:"Delta Lake",level:85},{name:"Snowpipe",level:85},{name:"Unity Catalog",level:80},{name:"Z-Ordering",level:80},{name:"Auto-Optimize",level:80}]},{id:"4",name:"Artificial Intelligence",skills:[{name:"Large Language Models (LLMs)",level:90},{name:"Generative AI",level:85},{name:"Prompt Engineering",level:90},{name:"RAG (Retrieval Augmented Generation)",level:85},{name:"Neural Networks",level:85},{name:"NLP & Text Processing",level:90},{name:"Vector Databases",level:80},{name:"AI Model Deployment",level:85}]},{id:"5",name:"Machine Learning Algorithms",skills:[{name:"Decision Trees",level:90},{name:"K-means",level:85},{name:"SVM",level:85},{name:"Random Forest",level:90},{name:"Linear Regression",level:90},{name:"XGBoost",level:85},{name:"TensorFlow",level:85},{name:"PyTorch",level:80},{name:"Keras",level:85}]},{id:"6",name:"Data Analysis & Visualization",skills:[{name:"Tableau",level:90},{name:"Matplotlib",level:85},{name:"Plotly",level:85},{name:"Seaborn",level:85},{name:"Excel",level:80},{name:"A/B Testing",level:85},{name:"QuickSight",level:80},{name:"PowerBI",level:80}]},{id:"7",name:"Data Science Libraries",skills:[{name:"Scikit-learn",level:90},{name:"NumPy",level:90},{name:"Pandas",level:95},{name:"SciPy",level:85},{name:"Langchain",level:80},{name:"Streamlit",level:85}]},{id:"8",name:"Workflow Orchestration",skills:[{name:"Jenkins",level:80},{name:"n8n",level:75},{name:"Hadoop",level:80},{name:"Apache Airflow",level:90},{name:"Docker",level:85}]},{id:"9",name:"Version Control",skills:[{name:"Git",level:90},{name:"AWS Cloud Source Repositories",level:80}]}],certifications:[{id:"1",title:"AWS Data Engineer Associate",provider:"Amazon Web Services",date:"Sept 2024"},{id:"2",title:"Apache Cassandra 3 Developer",provider:"DataStax",date:"April 2025"},{id:"3",title:"Databricks Generative AI Fundamentals",provider:"Databricks",date:"Jan 2025"}],contact:{email:"ajith.anna5599@gmail.com",linkedin:"https://www.linkedin.com/in/aajith7/",github:"https://github.com/Ajith-oo7",paragraph:"I'm always interested in new opportunities and collaborations. Feel free to reach out if you'd like to discuss potential projects or just connect!"},journey:{title:"My Journey",description:"From curious data enthusiast to professional data engineer.",paragraph1:"My journey in the data field began with a fascination for extracting insights from raw information. Starting with a solid foundation in computer science, I quickly developed expertise in data engineering and analytics, working across various domains and technologies.",paragraph2:"Along this path, I've continually expanded my skills, adapting to emerging technologies and methodologies, and building a comprehensive toolkit that allows me to tackle complex data challenges with confidence and creativity."}},Bhe=({children:t})=>{const[e,n]=T.useState(zhe),[r,i]=T.useState(!0);T.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:P,error:R}=await m0.from("portfolio_data").select("data").order("updated_at",{ascending:!1}).limit(1);if(R){console.error("Error loading portfolio data:",R);return}P&&P.length>0&&n(P[0].data)}catch(P){console.error("Error loading portfolio data:",P)}finally{i(!1)}},o=async P=>{try{const{data:R,error:O}=await m0.from("portfolio_data").select("id").limit(1);if(O){console.error("Error checking existing data:",O);return}if(R&&R.length>0){const{error:k}=await m0.from("portfolio_data").update({data:P}).eq("id",R[0].id);k&&console.error("Error updating portfolio data:",k)}else{const{error:k}=await m0.from("portfolio_data").insert({data:P});k&&console.error("Error inserting portfolio data:",k)}}catch(R){console.error("Error saving portfolio data:",R)}},C={data:e,isLoading:r,updateHero:P=>{const R={...e,hero:{...e.hero,...P}};n(R),o(R)},updateAbout:P=>{const R={...e,about:{...e.about,...P}};n(R),o(R)},updateExperience:P=>{const R={...e,experience:P};n(R),o(R)},updateProjects:P=>{const R={...e,projects:P};n(R),o(R)},updateSkills:P=>{const R={...e,skills:P};n(R),o(R)},updateCertifications:P=>{const R={...e,certifications:P};n(R),o(R)},updateContact:P=>{const R={...e,contact:{...e.contact,...P}};n(R),o(R)},updateJourney:P=>{const R={...e,journey:{...e.journey,...P}};n(R),o(R)},addExperience:P=>{const R={...e,experience:[...e.experience,P]};n(R),o(R)},removeExperience:P=>{const R={...e,experience:e.experience.filter(O=>O.id!==P)};n(R),o(R)},addProject:P=>{const R={...e,projects:[...e.projects,P]};n(R),o(R)},removeProject:P=>{const R={...e,projects:e.projects.filter(O=>O.id!==P)};n(R),o(R)},addSkillCategory:P=>{const R={...e,skills:[...e.skills,P]};n(R),o(R)},removeSkillCategory:P=>{n(R=>({...R,skills:R.skills.filter(O=>O.id!==P)}))}};return r?S.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:S.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):S.jsx(j5.Provider,{value:C,children:t})},zo=()=>{const t=T.useContext(j5);if(t===void 0)throw new Error("usePortfolio must be used within a PortfolioProvider");return t},L1=768;function jhe(){const[t,e]=T.useState(void 0);return T.useEffect(()=>{const n=window.matchMedia(`(max-width: ${L1-1}px)`),r=()=>{e(window.innerWidth<L1)};return n.addEventListener("change",r),e(window.innerWidth<L1),()=>n.removeEventListener("change",r)},[]),!!t}const Vhe=({onScroll:t,onScrollToContent:e})=>{const{t:n}=Qs(),{data:r}=zo();return jhe(),S.jsxs("section",{className:"relative min-h-screen pb-20 pt-28 md:pt-20 flex items-center justify-center overflow-hidden px-4 sm:px-6",children:[S.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col md:flex-row items-center z-10",children:[S.jsxs(vn.div,{className:"w-full md:w-1/2 mb-10 md:mb-0 relative z-10",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[S.jsxs(vn.h1,{className:"text-3xl md:text-4xl lg:text-6xl font-bold mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.8},children:[S.jsx("span",{className:"text-white mr-2",children:"Hi, I'm"}),S.jsx("span",{className:"text-gradient text-glow text-white",children:r.hero.name})]}),S.jsx(vn.div,{className:"h-1 w-24 bg-neon-blue mb-6",initial:{width:0},animate:{width:96},transition:{delay:.5,duration:.8}}),S.jsx(vn.h2,{className:"text-xl md:text-2xl text-gray-300 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:r.hero.title}),S.jsx(vn.p,{className:"text-xl md:text-2xl text-neon-blue mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.8},children:r.hero.subtitle}),S.jsx(vn.p,{className:"text-gray-400 max-w-lg mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.8},children:r.hero.description}),S.jsx(vn.p,{className:"text-gray-300 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.8},children:r.hero.openTo}),S.jsxs(vn.div,{className:"flex flex-wrap gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},children:[S.jsx(_t,{className:"bg-neon-blue hover:bg-neon-blue/80 text-white",onClick:()=>t("experience"),"aria-label":"Explore my work",children:n("hero.exploreWork")}),S.jsx(_t,{onClick:()=>t("contact"),variant:"outline",className:"border-white/20 hover:border-white/50 text-white","aria-label":"Get in touch with me",children:n("hero.getInTouch")})]})]}),S.jsx(vn.div,{className:"w-full md:w-1/2 h-[250px] md:h-[400px] lg:h-[500px] relative backdrop-blur-sm bg-black/30 rounded-xl border border-white/5 p-2",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.8},children:S.jsx(T.Suspense,{fallback:S.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:S.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-neon-blue border-t-transparent rounded-full",role:"status",children:S.jsx("span",{className:"sr-only",children:"Loading..."})})}),children:S.jsx(Mue,{className:"animate-float"})})})]}),S.jsx(vn.button,{onClick:e,className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 text-white opacity-60 hover:opacity-100 transition-all duration-300","aria-label":"Scroll down",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.5,repeat:1/0,repeatType:"reverse",repeatDelay:.5},children:S.jsx(C9,{size:24})})]})},ku=({id:t,className:e="",children:n,title:r,description:i})=>S.jsx("section",{id:t,className:`py-20 relative ${e}`,children:S.jsxs("div",{className:"container mx-auto max-w-6xl px-4 z-10 relative",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gradient mb-4",children:r}),i&&S.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:i})]}),n]})}),Hhe=()=>{Qs();const{data:t}=zo();return S.jsx(ku,{id:"story",title:t.journey.title,description:t.journey.description,children:S.jsxs("div",{className:"neo-blur border border-white/10 rounded-lg p-8",children:[S.jsx("p",{className:"text-gray-300 mb-6",children:t.journey.paragraph1}),S.jsx("p",{className:"text-gray-300",children:t.journey.paragraph2})]})})},Whe=fg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dh({className:t,variant:e,...n}){return S.jsx("div",{className:Yt(Whe({variant:e}),t),...n})}var Ghe="Separator",YD="horizontal",$he=["horizontal","vertical"],V5=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=YD,...i}=t,s=Xhe(r)?r:YD,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return S.jsx(Xt.div,{"data-orientation":s,...a,...i,ref:e})});V5.displayName=Ghe;function Xhe(t){return $he.includes(t)}var H5=V5;const W5=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>S.jsx(H5,{ref:i,decorative:n,orientation:e,className:Yt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));W5.displayName=H5.displayName;const Ug=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ug.displayName="Card";const yw=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("flex flex-col space-y-1.5 p-6",t),...e}));yw.displayName="CardHeader";const xw=T.forwardRef(({className:t,...e},n)=>S.jsx("h3",{ref:n,className:Yt("text-2xl font-semibold leading-none tracking-tight",t),...e}));xw.displayName="CardTitle";const qhe=T.forwardRef(({className:t,...e},n)=>S.jsx("p",{ref:n,className:Yt("text-sm text-muted-foreground",t),...e}));qhe.displayName="CardDescription";const zg=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("p-6 pt-0",t),...e}));zg.displayName="CardContent";const Yhe=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:Yt("flex items-center p-6 pt-0",t),...e}));Yhe.displayName="CardFooter";const Khe=()=>{const{data:t}=zo();return S.jsx("div",{className:"space-y-8",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.skills.map(e=>S.jsxs(Ug,{className:"neo-blur border border-white/10 hover:border-neon-purple/30 hover:neon-border-purple transition-all duration-300",children:[S.jsx(yw,{className:"pb-2",children:S.jsx(xw,{className:"flex items-center text-lg",children:S.jsx("span",{className:"ml-2",children:e.name})})}),S.jsxs(zg,{children:[S.jsx(W5,{className:"mb-4 bg-white/10"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((n,r)=>S.jsx(dh,{variant:"outline",className:"bg-neon-blue/10 text-neon-blue border-neon-blue/20 hover:bg-neon-blue/20 transition-colors",children:n.name},r))})]})]},e.id))})})},Zhe=()=>{const{t}=Qs();return S.jsx(ku,{id:"skills",title:t("sections.skills.title"),description:t("sections.skills.description"),children:S.jsx(Khe,{})})},Jhe=()=>{const{data:t}=zo();return S.jsx("div",{className:"space-y-6",children:t.experience.map(e=>S.jsxs(Ug,{className:"neo-blur border border-white/10 hover:border-neon-blue/30 hover:neon-border transition-all duration-300",children:[S.jsx(yw,{children:S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"bg-neon-blue/20 p-2 rounded-full",children:S.jsx(k9,{className:"w-5 h-5 text-neon-blue"})}),S.jsxs("div",{children:[S.jsx(xw,{className:"text-xl text-white",children:e.role}),S.jsx("p",{className:"text-neon-blue font-medium",children:e.company})]})]}),S.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[S.jsx(sU,{className:"w-4 h-4 mr-1"}),e.period]})]})}),S.jsxs(zg,{className:"space-y-4",children:[S.jsx("p",{className:"text-gray-300",children:e.description}),e.responsibilities&&e.responsibilities.length>0&&S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-semibold mb-2",children:"Key Responsibilities:"}),S.jsx("ul",{className:"space-y-1",children:e.responsibilities.map((n,r)=>S.jsxs("li",{className:"text-gray-300 text-sm flex items-start",children:[S.jsx("span",{className:"text-neon-blue mr-2",children:"•"}),n]},r))})]}),e.technologies&&e.technologies.length>0&&S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-semibold mb-2",children:"Technologies:"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map((n,r)=>S.jsx(dh,{variant:"outline",className:"bg-neon-blue/10 text-neon-blue border-neon-blue/20",children:n},r))})]})]})]},e.id))})},Qhe=()=>{const{t}=Qs();return S.jsx(ku,{id:"experience",title:t("sections.experience.title"),description:t("sections.experience.description"),children:S.jsx(Jhe,{})})},efe=()=>{const{data:t}=zo();return S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certifications.map(e=>S.jsxs("div",{className:"neo-blur border border-white/10 rounded-lg p-6 transition-all duration-300 hover:border-neon-blue/30 flex flex-col",children:[S.jsxs("div",{className:"flex items-center mb-4",children:[S.jsx(R9,{className:"w-6 h-6 text-neon-blue"}),S.jsx("h3",{className:"ml-2 text-lg font-semibold text-white",children:e.title})]}),e.provider&&S.jsx("p",{className:"text-gray-400 text-sm mb-2",children:e.provider}),S.jsxs("div",{className:"mt-auto flex items-center text-gray-300 text-sm",children:[S.jsx(sU,{className:"w-4 h-4 mr-2 text-neon-pink"}),e.date]})]},e.id))})},tfe=()=>{const{t}=Qs();return S.jsx(ku,{id:"certifications",title:t("certifications.title"),description:t("certifications.description"),children:S.jsx(efe,{})})},nfe=({title:t,description:e,techStack:n,image:r,demoLink:i,githubLink:s,color:o="blue"})=>{const[a,l]=T.useState(!1),c={border:{blue:"border-neon-blue/30",purple:"border-neon-purple/30",pink:"border-neon-pink/30"},glow:{blue:"neon-border",purple:"neon-border-purple",pink:"neon-border-pink"},textGlow:{blue:"text-glow",purple:"text-glow-purple",pink:"text-glow-pink"},text:{blue:"text-neon-blue",purple:"text-neon-purple",pink:"text-neon-pink"},bg:{blue:"bg-neon-blue",purple:"bg-neon-purple",pink:"bg-neon-pink"}};return S.jsxs(Ug,{className:`bg-black neo-blur border ${c.border[o]} rounded-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 ${a?c.glow[o]:""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[r&&S.jsxs("div",{className:"relative w-full h-48 overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent z-10"}),S.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover object-center"})]}),S.jsxs(zg,{className:"p-6",children:[S.jsx("h3",{className:`text-xl font-bold mb-2 ${c.text[o]} ${a?c.textGlow[o]:""}`,children:t}),S.jsx("p",{className:"text-gray-300 text-sm mb-4",children:e}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.map((u,h)=>S.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.bg[o]}/10 text-white border border-${c.bg[o]}/30`,children:u},h))}),S.jsxs("div",{className:"flex space-x-3 mt-4",children:[s&&s!=="#"&&S.jsx(_t,{asChild:!0,size:"sm",variant:"outline",className:"border-white/20 hover:bg-white/10",children:S.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(om,{size:16,className:"mr-1"}),"Code"]})}),i&&i!=="#"&&S.jsx(_t,{asChild:!0,size:"sm",className:`${c.bg[o]} hover:${c.bg[o]}/90`,children:S.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(OE,{size:16,className:"mr-1"}),"Demo"]})})]})]})]})};var MP="Dialog",[G5,Zme]=wu(MP),[rfe,no]=G5(MP),$5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=T.useRef(null),l=T.useRef(null),[c=!1,u]=Yl({prop:r,defaultProp:i,onChange:s});return S.jsx(rfe,{scope:e,triggerRef:a,contentRef:l,contentId:oh(),titleId:oh(),descriptionId:oh(),open:c,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};$5.displayName=MP;var X5="DialogTrigger",q5=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=no(X5,n),s=Cn(e,i.triggerRef);return S.jsx(Xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CP(i.open),...r,ref:s,onClick:Tt(t.onClick,i.onOpenToggle)})});q5.displayName=X5;var TP="DialogPortal",[ife,Y5]=G5(TP,{forceMount:void 0}),K5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=no(TP,e);return S.jsx(ife,{scope:e,forceMount:n,children:T.Children.map(r,o=>S.jsx(Aa,{present:n||s.open,children:S.jsx(g_,{asChild:!0,container:i,children:o})}))})};K5.displayName=TP;var Vx="DialogOverlay",Z5=T.forwardRef((t,e)=>{const n=Y5(Vx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=no(Vx,t.__scopeDialog);return s.modal?S.jsx(Aa,{present:r||s.open,children:S.jsx(sfe,{...i,ref:e})}):null});Z5.displayName=Vx;var sfe=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=no(Vx,n);return S.jsx(jA,{as:Nl,allowPinchZoom:!0,shards:[i.contentRef],children:S.jsx(Xt.div,{"data-state":CP(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),gu="DialogContent",J5=T.forwardRef((t,e)=>{const n=Y5(gu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=no(gu,t.__scopeDialog);return S.jsx(Aa,{present:r||s.open,children:s.modal?S.jsx(ofe,{...i,ref:e}):S.jsx(afe,{...i,ref:e})})});J5.displayName=gu;var ofe=T.forwardRef((t,e)=>{const n=no(gu,t.__scopeDialog),r=T.useRef(null),i=Cn(e,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return fz(s)},[]),S.jsx(Q5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Tt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Tt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Tt(t.onFocusOutside,s=>s.preventDefault())})}),afe=T.forwardRef((t,e)=>{const n=no(gu,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return S.jsx(Q5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Q5=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=no(gu,n),l=T.useRef(null),c=Cn(e,l);return uz(),S.jsxs(S.Fragment,{children:[S.jsx(BA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:S.jsx(hg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":CP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(lfe,{titleId:a.titleId}),S.jsx(ufe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),AP="DialogTitle",eH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=no(AP,n);return S.jsx(Xt.h2,{id:i.titleId,...r,ref:e})});eH.displayName=AP;var tH="DialogDescription",nH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=no(tH,n);return S.jsx(Xt.p,{id:i.descriptionId,...r,ref:e})});nH.displayName=tH;var rH="DialogClose",iH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=no(rH,n);return S.jsx(Xt.button,{type:"button",...r,ref:e,onClick:Tt(t.onClick,()=>i.onOpenChange(!1))})});iH.displayName=rH;function CP(t){return t?"open":"closed"}var sH="DialogTitleWarning",[Jme,oH]=VG(sH,{contentName:gu,titleName:AP,docsSlug:"dialog"}),lfe=({titleId:t})=>{const e=oH(sH),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cfe="DialogDescriptionWarning",ufe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oH(cfe).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dfe=$5,hfe=q5,ffe=K5,aH=Z5,lH=J5,cH=eH,uH=nH,pfe=iH;const mfe=dfe,gfe=hfe,vfe=ffe,dH=T.forwardRef(({className:t,...e},n)=>S.jsx(aH,{ref:n,className:Yt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dH.displayName=aH.displayName;const hH=T.forwardRef(({className:t,children:e,...n},r)=>S.jsxs(vfe,{children:[S.jsx(dH,{}),S.jsxs(lH,{ref:r,className:Yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,S.jsxs(pfe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(Os,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hH.displayName=lH.displayName;const fH=({className:t,...e})=>S.jsx("div",{className:Yt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fH.displayName="DialogHeader";const pH=T.forwardRef(({className:t,...e},n)=>S.jsx(cH,{ref:n,className:Yt("text-lg font-semibold leading-none tracking-tight",t),...e}));pH.displayName=cH.displayName;const mH=T.forwardRef(({className:t,...e},n)=>S.jsx(uH,{ref:n,className:Yt("text-sm text-muted-foreground",t),...e}));mH.displayName=uH.displayName;function yfe(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:m,...v}=h,x=(p==null?void 0:p[t][l])||a,y=T.useMemo(()=>v,Object.values(v));return S.jsx(x.Provider,{value:y,children:m})}function u(h,p){const m=(p==null?void 0:p[t][l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,xfe(i,...e)]}function xfe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var I1="rovingFocusGroup.onEntryFocus",_fe={bubbles:!1,cancelable:!0},_w="RovingFocusGroup",[yT,gH,wfe]=_A(_w),[bfe,vH]=yfe(_w,[wfe]),[Sfe,Efe]=bfe(_w),yH=T.forwardRef((t,e)=>S.jsx(yT.Provider,{scope:t.__scopeRovingFocusGroup,children:S.jsx(yT.Slot,{scope:t.__scopeRovingFocusGroup,children:S.jsx(Mfe,{...t,ref:e})})}));yH.displayName=_w;var Mfe=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=T.useRef(null),m=Cn(e,p),v=CC(s),[x=null,y]=Yl({prop:o,defaultProp:a,onChange:l}),[g,w]=T.useState(!1),b=Ki(c),M=gH(n),C=T.useRef(!1),[P,R]=T.useState(0);return T.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(I1,b),()=>O.removeEventListener(I1,b)},[b]),S.jsx(Sfe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:T.useCallback(O=>y(O),[y]),onItemShiftTab:T.useCallback(()=>w(!0),[]),onFocusableItemAdd:T.useCallback(()=>R(O=>O+1),[]),onFocusableItemRemove:T.useCallback(()=>R(O=>O-1),[]),children:S.jsx(Xt.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Tt(t.onMouseDown,()=>{C.current=!0}),onFocus:Tt(t.onFocus,O=>{const k=!C.current;if(O.target===O.currentTarget&&k&&!g){const L=new CustomEvent(I1,_fe);if(O.currentTarget.dispatchEvent(L),!L.defaultPrevented){const z=M().filter(J=>J.focusable),G=z.find(J=>J.active),te=z.find(J=>J.id===x),Z=[G,te,...z].filter(Boolean).map(J=>J.ref.current);wH(Z,u)}}C.current=!1}),onBlur:Tt(t.onBlur,()=>w(!1))})})}),xH="RovingFocusGroupItem",_H=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=oh(),l=s||a,c=Efe(xH,n),u=c.currentTabStopId===l,h=gH(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=c;return T.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),S.jsx(yT.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:S.jsx(Xt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Tt(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Tt(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Tt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Cfe(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=h().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const w=g.indexOf(v.currentTarget);g=c.loop?Pfe(g,w+1):g.slice(w+1)}setTimeout(()=>wH(g))}})})})});_H.displayName=xH;var Tfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Afe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Cfe(t,e,n){const r=Afe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tfe[r]}function wH(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Pfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Rfe=yH,kfe=_H,PP="Tabs",[Nfe,Qme]=wu(PP,[vH]),bH=vH(),[Lfe,RP]=Nfe(PP),SH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=CC(a),[h,p]=Yl({prop:r,onChange:i,defaultProp:s});return S.jsx(Lfe,{scope:n,baseId:oh(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:S.jsx(Xt.div,{dir:u,"data-orientation":o,...c,ref:e})})});SH.displayName=PP;var EH="TabsList",MH=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=RP(EH,n),o=bH(n);return S.jsx(Rfe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:S.jsx(Xt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});MH.displayName=EH;var TH="TabsTrigger",AH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=RP(TH,n),a=bH(n),l=RH(o.baseId,r),c=kH(o.baseId,r),u=r===o.value;return S.jsx(kfe,{asChild:!0,...a,focusable:!i,active:u,children:S.jsx(Xt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Tt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Tt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Tt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});AH.displayName=TH;var CH="TabsContent",PH=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=RP(CH,n),l=RH(a.baseId,r),c=kH(a.baseId,r),u=r===a.value,h=T.useRef(u);return T.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),S.jsx(Aa,{present:i||u,children:({present:p})=>S.jsx(Xt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&s})})});PH.displayName=CH;function RH(t,e){return`${t}-trigger-${e}`}function kH(t,e){return`${t}-content-${e}`}var Ife=SH,NH=MH,LH=AH,IH=PH;const Dfe=Ife,DH=T.forwardRef(({className:t,...e},n)=>S.jsx(NH,{ref:n,className:Yt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));DH.displayName=NH.displayName;const $0=T.forwardRef(({className:t,...e},n)=>S.jsx(LH,{ref:n,className:Yt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));$0.displayName=LH.displayName;const X0=T.forwardRef(({className:t,...e},n)=>S.jsx(IH,{ref:n,className:Yt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));X0.displayName=IH.displayName;const Ofe=({project:t,trigger:e})=>{const r=(i=>{switch(i){case"blue":return"neon-blue";case"purple":return"neon-purple";case"pink":return"neon-pink";default:return"neon-blue"}})(t.color);return S.jsxs(mfe,{children:[S.jsx(gfe,{asChild:!0,children:e}),S.jsxs(hH,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto neo-blur border border-white/20 text-white p-0",children:[S.jsx("div",{className:`h-2 w-full bg-${r}`}),S.jsxs("div",{className:"p-6",children:[S.jsx(fH,{children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx(pH,{className:"text-2xl font-bold mb-2",children:t.title}),S.jsx(mH,{className:"text-gray-300 text-base",children:t.description})]}),S.jsxs("div",{className:"flex gap-2",children:[t.githubLink&&t.githubLink!=="#"&&S.jsx(_t,{variant:"outline",size:"icon",className:"border-white/10 hover:bg-white/10 bg-transparent",asChild:!0,children:S.jsx("a",{href:t.githubLink,target:"_blank",rel:"noopener noreferrer",children:S.jsx(om,{className:"h-4 w-4"})})}),t.demoLink&&t.demoLink!=="#"&&S.jsx(_t,{variant:"outline",size:"icon",className:"border-white/10 hover:bg-white/10 bg-transparent",asChild:!0,children:S.jsx("a",{href:t.demoLink,target:"_blank",rel:"noopener noreferrer",children:S.jsx(OE,{className:"h-4 w-4"})})})]})]})}),S.jsx("div",{className:"mt-6",children:S.jsxs(Dfe,{defaultValue:"overview",children:[S.jsxs(DH,{className:"grid grid-cols-3 bg-black/30",children:[S.jsxs($0,{value:"overview",className:"data-[state=active]:bg-white/10",children:[S.jsx(Rk,{className:"h-4 w-4 mr-2"}),"Overview"]}),S.jsxs($0,{value:"technical",className:"data-[state=active]:bg-white/10",children:[S.jsx(I9,{className:"h-4 w-4 mr-2"}),"Technical"]}),S.jsxs($0,{value:"results",className:"data-[state=active]:bg-white/10",children:[S.jsx(N9,{className:"h-4 w-4 mr-2"}),"Results"]})]}),S.jsxs(X0,{value:"overview",className:"mt-4",children:[S.jsx("div",{className:"aspect-video mb-4 rounded-lg overflow-hidden bg-gray-800 flex items-center justify-center border border-white/10",children:t.imageSrc?S.jsx("img",{src:t.imageSrc,alt:t.title,className:"w-full h-full object-cover"}):S.jsxs("div",{className:"text-gray-500 flex flex-col items-center",children:[S.jsx(Rk,{size:48,className:"opacity-40"}),S.jsx("span",{className:"mt-2 text-sm",children:"Project image placeholder"})]})}),S.jsx("h3",{className:"text-lg font-semibold mb-2",children:"About this project"}),S.jsx("p",{className:"text-gray-300 mb-4",children:t.longDescription}),S.jsxs("div",{className:"mt-6",children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Tech Stack"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:t.techStack.map((i,s)=>S.jsx(dh,{variant:"outline",className:`bg-${r}/10 text-${r} border-${r}/20`,children:i},s))})]})]}),S.jsx(X0,{value:"technical",className:"mt-4",children:S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Challenges"}),S.jsx("ul",{className:"space-y-2",children:t.challenges.map((i,s)=>S.jsxs("li",{className:"flex items-start",children:[S.jsx(lS,{className:`h-5 w-5 text-${r} mr-2 mt-0.5 flex-shrink-0`}),S.jsx("span",{className:"text-gray-300",children:i})]},s))})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Solutions"}),S.jsx("ul",{className:"space-y-2",children:t.solutions.map((i,s)=>S.jsxs("li",{className:"flex items-start",children:[S.jsx(lS,{className:`h-5 w-5 text-${r} mr-2 mt-0.5 flex-shrink-0`}),S.jsx("span",{className:"text-gray-300",children:i})]},s))})]})]})}),S.jsxs(X0,{value:"results",className:"mt-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Outcomes & Impact"}),S.jsx("ul",{className:"space-y-2",children:t.outcomes.map((i,s)=>S.jsxs("li",{className:"flex items-start",children:[S.jsx(lS,{className:`h-5 w-5 text-${r} mr-2 mt-0.5 flex-shrink-0`}),S.jsx("span",{className:"text-gray-300",children:i})]},s))})]}),S.jsxs("div",{className:"mt-6 flex gap-4",children:[t.demoLink&&t.demoLink!=="#"&&S.jsx(_t,{className:`bg-${r} hover:bg-${r}/80`,asChild:!0,children:S.jsxs("a",{href:t.demoLink,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(OE,{className:"h-4 w-4 mr-2"}),"View Demo"]})}),t.githubLink&&t.githubLink!=="#"&&S.jsx(_t,{variant:"outline",className:"border-white/10 hover:bg-white/10",asChild:!0,children:S.jsxs("a",{href:t.githubLink,target:"_blank",rel:"noopener noreferrer",children:[S.jsx(om,{className:"h-4 w-4 mr-2"}),"View Code"]})})]})]})]})})]})]})]})},Ffe=()=>{const{t}=Qs(),{data:e}=zo();return S.jsx(ku,{id:"projects",title:t("projects.title"),description:t("projects.description"),children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.projects.map(n=>S.jsx(Ofe,{project:{id:n.id,title:n.title,description:n.description,longDescription:n.longDescription,techStack:n.techStack,challenges:n.challenges,solutions:n.solutions,outcomes:n.outcomes,demoLink:n.demoLink||"",githubLink:n.githubLink||"",imageSrc:"",color:n.color},trigger:S.jsx("div",{className:"cursor-pointer",children:S.jsx(nfe,{title:n.title,description:n.description,techStack:n.techStack,demoLink:n.demoLink,githubLink:n.githubLink,color:n.color})})},n.id))})})},Ufe=()=>{const{t}=Qs(),{data:e}=zo();return S.jsx(ku,{id:"about",title:t("about.title"),description:t("about.description"),children:S.jsx("div",{className:"neo-blur border border-white/10 rounded-lg p-8",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[S.jsxs("div",{className:"w-full md:w-1/3",children:[S.jsx("div",{className:"aspect-square overflow-hidden rounded-lg border-2 border-neon-blue/30 neon-border",children:S.jsx("img",{src:"/lovable-uploads/4ed1cf10-ba04-4a2d-9eb4-9d824c61232d.png",alt:e.about.name,className:"w-full h-full object-cover"})}),S.jsxs("div",{className:"flex justify-center mt-6 space-x-4",children:[S.jsx("a",{href:"https://github.com/Ajith-oo7",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-neon-blue transition-colors",children:S.jsx(om,{size:20})}),S.jsx("a",{href:"https://www.linkedin.com/in/aajith7/",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-neon-blue transition-colors",children:S.jsx(oU,{size:20})}),S.jsx("a",{href:`mailto:${e.about.email}`,className:"text-white hover:text-neon-blue transition-colors",children:S.jsx(aU,{size:20})})]})]}),S.jsxs("div",{className:"w-full md:w-2/3",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e.about.name}),S.jsx("p",{className:"text-gray-300 mb-4",children:e.about.paragraph1}),S.jsx("p",{className:"text-gray-300 mb-4",children:e.about.paragraph2}),S.jsx("p",{className:"text-gray-300 mb-6",children:e.about.paragraph3}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"w-24 text-sm text-gray-400",children:t("about.location")}),S.jsx("div",{className:"text-white",children:e.about.location})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"w-24 text-sm text-gray-400",children:t("about.education")}),S.jsx("div",{className:"text-white",children:e.about.education})]}),S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"w-24 text-sm text-gray-400",children:t("about.email")}),S.jsx("a",{href:`mailto:${e.about.email}`,className:"text-neon-blue hover:underline",children:e.about.email})]})]})]})]})})})};var Bg=t=>t.type==="checkbox",Gc=t=>t instanceof Date,ii=t=>t==null;const OH=t=>typeof t=="object";var er=t=>!ii(t)&&!Array.isArray(t)&&OH(t)&&!Gc(t),FH=t=>er(t)&&t.target?Bg(t.target)?t.target.checked:t.target.value:t,zfe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UH=(t,e)=>t.has(zfe(e)),Bfe=t=>{const e=t.constructor&&t.constructor.prototype;return er(e)&&e.hasOwnProperty("isPrototypeOf")},kP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _i(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(kP&&(t instanceof Blob||t instanceof FileList))&&(n||er(t)))if(e=n?[]:{},!n&&!Bfe(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_i(t[r]));else return t;return e}var ww=t=>Array.isArray(t)?t.filter(Boolean):[],Hn=t=>t===void 0,We=(t,e,n)=>{if(!e||!er(t))return n;const r=ww(e.split(/[,[\].]+?/)).reduce((i,s)=>ii(i)?i:i[s],t);return Hn(r)||r===t?Hn(t[e])?n:t[e]:r},ps=t=>typeof t=="boolean",NP=t=>/^\w*$/.test(t),zH=t=>ww(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ln=(t,e,n)=>{let r=-1;const i=NP(e)?[e]:zH(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=er(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Hx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BH=Ce.createContext(null),bw=()=>Ce.useContext(BH),jfe=t=>{const{children:e,...n}=t;return Ce.createElement(BH.Provider,{value:n},e)};var jH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Bs.all&&(e._proxyFormState[o]=!r||Bs.all),n&&(n[o]=!0),t[o]}});return i},wi=t=>er(t)&&!Object.keys(t).length,VH=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Bs.all))},jp=t=>Array.isArray(t)?t:[t],HH=(t,e,n)=>!t||!e||t===e||jp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function LP(t){const e=Ce.useRef(t);e.current=t,Ce.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Vfe(t){const e=bw(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=Ce.useState(n._formState),l=Ce.useRef(!0),c=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ce.useRef(i);return u.current=i,LP({disabled:r,next:h=>l.current&&HH(u.current,h.name,s)&&VH(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Ce.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),jH(o,n,c.current,!1)}var bo=t=>typeof t=="string",WH=(t,e,n,r,i)=>bo(t)?(r&&e.watch.add(t),We(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),We(n,s))):(r&&(e.watchAll=!0),n);function Hfe(t){const e=bw(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=Ce.useRef(r);a.current=r,LP({disabled:s,subject:n._subjects.values,next:u=>{HH(a.current,u.name,o)&&c(_i(WH(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=Ce.useState(n._getWatch(r,i));return Ce.useEffect(()=>n._removeUnmounted()),l}function Wfe(t){const e=bw(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=UH(i._names.array,n),a=Hfe({control:i,name:n,defaultValue:We(i._formValues,n,We(i._defaultValues,n,t.defaultValue)),exact:!0}),l=Vfe({control:i,name:n,exact:!0}),c=Ce.useRef(i.register(n,{...t.rules,value:a,...ps(t.disabled)?{disabled:t.disabled}:{}}));return Ce.useEffect(()=>{const u=i._options.shouldUnregister||s,h=(p,m)=>{const v=We(i._fields,p);v&&v._f&&(v._f.mount=m)};if(h(n,!0),u){const p=_i(We(i._options.defaultValues,n));ln(i._defaultValues,n,p),Hn(We(i._formValues,n))&&ln(i._formValues,n,p)}return()=>{(o?u&&!i._state.action:u)?i.unregister(n):h(n,!1)}},[n,i,o,s]),Ce.useEffect(()=>{We(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:We(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...ps(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ce.useCallback(u=>c.current.onChange({target:{value:FH(u),name:n},type:Hx.CHANGE}),[n]),onBlur:Ce.useCallback(()=>c.current.onBlur({target:{value:We(i._formValues,n),name:n},type:Hx.BLUR}),[n,i]),ref:Ce.useCallback(u=>{const h=We(i._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[i._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!We(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!We(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!We(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!We(l.validatingFields,n)},error:{enumerable:!0,get:()=>We(l.errors,n)}})}}const Gfe=t=>t.render(Wfe(t));var GH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},KD=t=>({isOnSubmit:!t||t===Bs.onSubmit,isOnBlur:t===Bs.onBlur,isOnChange:t===Bs.onChange,isOnAll:t===Bs.all,isOnTouch:t===Bs.onTouched}),ZD=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Vp=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=We(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Vp(a,e))break}else if(er(a)&&Vp(a,e))break}}};var $fe=(t,e,n)=>{const r=jp(We(t,n));return ln(r,"root",e[n]),ln(t,n,r),t},IP=t=>t.type==="file",da=t=>typeof t=="function",Wx=t=>{if(!kP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},q0=t=>bo(t),DP=t=>t.type==="radio",Gx=t=>t instanceof RegExp;const JD={value:!1,isValid:!1},QD={value:!0,isValid:!0};var $H=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Hn(t[0].attributes.value)?Hn(t[0].value)||t[0].value===""?QD:{value:t[0].value,isValid:!0}:QD:JD}return JD};const eO={isValid:!1,value:null};var XH=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,eO):eO;function tO(t,e,n="validate"){if(q0(t)||Array.isArray(t)&&t.every(q0)||ps(t)&&!t)return{type:n,message:q0(t)?t:"",ref:e}}var Ed=t=>er(t)&&!Gx(t)?t:{value:t,message:""},nO=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:m,name:v,valueAsNumber:x,mount:y,disabled:g}=t._f,w=We(e,v);if(!y||g)return{};const b=o?o[0]:s,M=G=>{r&&b.reportValidity&&(b.setCustomValidity(ps(G)?"":G||""),b.reportValidity())},C={},P=DP(s),R=Bg(s),O=P||R,k=(x||IP(s))&&Hn(s.value)&&Hn(w)||Wx(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,L=GH.bind(null,v,n,C),z=(G,te,B,Z=Qo.maxLength,J=Qo.minLength)=>{const ne=G?te:B;C[v]={type:G?Z:J,message:ne,ref:s,...L(G?Z:J,ne)}};if(i?!Array.isArray(w)||!w.length:a&&(!O&&(k||ii(w))||ps(w)&&!w||R&&!$H(o).isValid||P&&!XH(o).isValid)){const{value:G,message:te}=q0(a)?{value:!!a,message:a}:Ed(a);if(G&&(C[v]={type:Qo.required,message:te,ref:b,...L(Qo.required,te)},!n))return M(te),C}if(!k&&(!ii(u)||!ii(h))){let G,te;const B=Ed(h),Z=Ed(u);if(!ii(w)&&!isNaN(w)){const J=s.valueAsNumber||w&&+w;ii(B.value)||(G=J>B.value),ii(Z.value)||(te=J<Z.value)}else{const J=s.valueAsDate||new Date(w),ne=U=>new Date(new Date().toDateString()+" "+U),F=s.type=="time",j=s.type=="week";bo(B.value)&&w&&(G=F?ne(w)>ne(B.value):j?w>B.value:J>new Date(B.value)),bo(Z.value)&&w&&(te=F?ne(w)<ne(Z.value):j?w<Z.value:J<new Date(Z.value))}if((G||te)&&(z(!!G,B.message,Z.message,Qo.max,Qo.min),!n))return M(C[v].message),C}if((l||c)&&!k&&(bo(w)||i&&Array.isArray(w))){const G=Ed(l),te=Ed(c),B=!ii(G.value)&&w.length>+G.value,Z=!ii(te.value)&&w.length<+te.value;if((B||Z)&&(z(B,G.message,te.message),!n))return M(C[v].message),C}if(p&&!k&&bo(w)){const{value:G,message:te}=Ed(p);if(Gx(G)&&!w.match(G)&&(C[v]={type:Qo.pattern,message:te,ref:s,...L(Qo.pattern,te)},!n))return M(te),C}if(m){if(da(m)){const G=await m(w,e),te=tO(G,b);if(te&&(C[v]={...te,...L(Qo.validate,te.message)},!n))return M(te.message),C}else if(er(m)){let G={};for(const te in m){if(!wi(G)&&!n)break;const B=tO(await m[te](w,e),b,te);B&&(G={...B,...L(te,B.message)},M(B.message),n&&(C[v]=G))}if(!wi(G)&&(C[v]={ref:b,...G},!n))return C}}return M(!0),C};function Xfe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Hn(t)?r++:t[e[r++]];return t}function qfe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Hn(t[e]))return!1;return!0}function ar(t,e){const n=Array.isArray(e)?e:NP(e)?[e]:zH(e),r=n.length===1?t:Xfe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(er(r)&&wi(r)||Array.isArray(r)&&qfe(r))&&ar(t,n.slice(0,-1)),t}var D1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},xT=t=>ii(t)||!OH(t);function al(t,e){if(xT(t)||xT(e))return t===e;if(Gc(t)&&Gc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Gc(s)&&Gc(o)||er(s)&&er(o)||Array.isArray(s)&&Array.isArray(o)?!al(s,o):s!==o)return!1}}return!0}var qH=t=>t.type==="select-multiple",Yfe=t=>DP(t)||Bg(t),O1=t=>Wx(t)&&t.isConnected,YH=t=>{for(const e in t)if(da(t[e]))return!0;return!1};function $x(t,e={}){const n=Array.isArray(t);if(er(t)||n)for(const r in t)Array.isArray(t[r])||er(t[r])&&!YH(t[r])?(e[r]=Array.isArray(t[r])?[]:{},$x(t[r],e[r])):ii(t[r])||(e[r]=!0);return e}function KH(t,e,n){const r=Array.isArray(t);if(er(t)||r)for(const i in t)Array.isArray(t[i])||er(t[i])&&!YH(t[i])?Hn(e)||xT(n[i])?n[i]=Array.isArray(t[i])?$x(t[i],[]):{...$x(t[i])}:KH(t[i],ii(e)?{}:e[i],n[i]):n[i]=!al(t[i],e[i]);return n}var tp=(t,e)=>KH(t,e,$x(e)),ZH=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Hn(t)?t:e?t===""?NaN:t&&+t:n&&bo(t)?new Date(t):r?r(t):t;function F1(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return IP(e)?e.files:DP(e)?XH(t.refs).value:qH(e)?[...e.selectedOptions].map(({value:n})=>n):Bg(e)?$H(t.refs).value:ZH(Hn(e.value)?t.ref.value:e.value,t)}var Kfe=(t,e,n,r)=>{const i={};for(const s of t){const o=We(e,s);o&&ln(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},np=t=>Hn(t)?t:Gx(t)?t.source:er(t)?Gx(t.value)?t.value.source:t.value:t;const rO="AsyncFunction";var Zfe=t=>(!t||!t.validate)&&!!(da(t.validate)&&t.validate.constructor.name===rO||er(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rO)),Jfe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iO(t,e,n){const r=We(t,n);if(r||NP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=We(e,s),a=We(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var Qfe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,epe=(t,e)=>!ww(We(t,e)).length&&ar(t,e);const tpe={mode:Bs.onSubmit,reValidateMode:Bs.onChange,shouldFocusError:!0};function npe(t={}){let e={...tpe,...t},n={submitCount:0,isDirty:!1,isLoading:da(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=er(e.defaultValues)||er(e.values)?_i(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:_i(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:D1(),array:D1(),state:D1()},p=KD(e.mode),m=KD(e.reValidateMode),v=e.criteriaMode===Bs.all,x=W=>D=>{clearTimeout(c),c=setTimeout(W,D)},y=async W=>{if(!t.disabled&&(u.isValid||W)){const D=e.resolver?wi((await O()).errors):await L(r,!0);D!==n.isValid&&h.state.next({isValid:D})}},g=(W,D)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((W||Array.from(a.mount)).forEach(I=>{I&&(D?ln(n.validatingFields,I,D):ar(n.validatingFields,I))}),h.state.next({validatingFields:n.validatingFields,isValidating:!wi(n.validatingFields)}))},w=(W,D=[],I,K,oe=!0,ie=!0)=>{if(K&&I&&!t.disabled){if(o.action=!0,ie&&Array.isArray(We(r,W))){const le=I(We(r,W),K.argA,K.argB);oe&&ln(r,W,le)}if(ie&&Array.isArray(We(n.errors,W))){const le=I(We(n.errors,W),K.argA,K.argB);oe&&ln(n.errors,W,le),epe(n.errors,W)}if(u.touchedFields&&ie&&Array.isArray(We(n.touchedFields,W))){const le=I(We(n.touchedFields,W),K.argA,K.argB);oe&&ln(n.touchedFields,W,le)}u.dirtyFields&&(n.dirtyFields=tp(i,s)),h.state.next({name:W,isDirty:G(W,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ln(s,W,D)},b=(W,D)=>{ln(n.errors,W,D),h.state.next({errors:n.errors})},M=W=>{n.errors=W,h.state.next({errors:n.errors,isValid:!1})},C=(W,D,I,K)=>{const oe=We(r,W);if(oe){const ie=We(s,W,Hn(I)?We(i,W):I);Hn(ie)||K&&K.defaultChecked||D?ln(s,W,D?ie:F1(oe._f)):Z(W,ie),o.mount&&y()}},P=(W,D,I,K,oe)=>{let ie=!1,le=!1;const Ne={name:W};if(!t.disabled){const Ie=!!(We(r,W)&&We(r,W)._f&&We(r,W)._f.disabled);if(!I||K){u.isDirty&&(le=n.isDirty,n.isDirty=Ne.isDirty=G(),ie=le!==Ne.isDirty);const Oe=Ie||al(We(i,W),D);le=!!(!Ie&&We(n.dirtyFields,W)),Oe||Ie?ar(n.dirtyFields,W):ln(n.dirtyFields,W,!0),Ne.dirtyFields=n.dirtyFields,ie=ie||u.dirtyFields&&le!==!Oe}if(I){const Oe=We(n.touchedFields,W);Oe||(ln(n.touchedFields,W,I),Ne.touchedFields=n.touchedFields,ie=ie||u.touchedFields&&Oe!==I)}ie&&oe&&h.state.next(Ne)}return ie?Ne:{}},R=(W,D,I,K)=>{const oe=We(n.errors,W),ie=u.isValid&&ps(D)&&n.isValid!==D;if(t.delayError&&I?(l=x(()=>b(W,I)),l(t.delayError)):(clearTimeout(c),l=null,I?ln(n.errors,W,I):ar(n.errors,W)),(I?!al(oe,I):oe)||!wi(K)||ie){const le={...K,...ie&&ps(D)?{isValid:D}:{},errors:n.errors,name:W};n={...n,...le},h.state.next(le)}},O=async W=>{g(W,!0);const D=await e.resolver(s,e.context,Kfe(W||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(W),D},k=async W=>{const{errors:D}=await O(W);if(W)for(const I of W){const K=We(D,I);K?ln(n.errors,I,K):ar(n.errors,I)}else n.errors=D;return D},L=async(W,D,I={valid:!0})=>{for(const K in W){const oe=W[K];if(oe){const{_f:ie,...le}=oe;if(ie){const Ne=a.array.has(ie.name),Ie=oe._f&&Zfe(oe._f);Ie&&u.validatingFields&&g([K],!0);const Oe=await nO(oe,s,v,e.shouldUseNativeValidation&&!D,Ne);if(Ie&&u.validatingFields&&g([K]),Oe[ie.name]&&(I.valid=!1,D))break;!D&&(We(Oe,ie.name)?Ne?$fe(n.errors,Oe,ie.name):ln(n.errors,ie.name,Oe[ie.name]):ar(n.errors,ie.name))}!wi(le)&&await L(le,D,I)}}return I.valid},z=()=>{for(const W of a.unMount){const D=We(r,W);D&&(D._f.refs?D._f.refs.every(I=>!O1(I)):!O1(D._f.ref))&&be(W)}a.unMount=new Set},G=(W,D)=>!t.disabled&&(W&&D&&ln(s,W,D),!al($(),i)),te=(W,D,I)=>WH(W,a,{...o.mount?s:Hn(D)?i:bo(W)?{[W]:D}:D},I,D),B=W=>ww(We(o.mount?s:i,W,t.shouldUnregister?We(i,W,[]):[])),Z=(W,D,I={})=>{const K=We(r,W);let oe=D;if(K){const ie=K._f;ie&&(!ie.disabled&&ln(s,W,ZH(D,ie)),oe=Wx(ie.ref)&&ii(D)?"":D,qH(ie.ref)?[...ie.ref.options].forEach(le=>le.selected=oe.includes(le.value)):ie.refs?Bg(ie.ref)?ie.refs.length>1?ie.refs.forEach(le=>(!le.defaultChecked||!le.disabled)&&(le.checked=Array.isArray(oe)?!!oe.find(Ne=>Ne===le.value):oe===le.value)):ie.refs[0]&&(ie.refs[0].checked=!!oe):ie.refs.forEach(le=>le.checked=le.value===oe):IP(ie.ref)?ie.ref.value="":(ie.ref.value=oe,ie.ref.type||h.values.next({name:W,values:{...s}})))}(I.shouldDirty||I.shouldTouch)&&P(W,oe,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&U(W)},J=(W,D,I)=>{for(const K in D){const oe=D[K],ie=`${W}.${K}`,le=We(r,ie);(a.array.has(W)||er(oe)||le&&!le._f)&&!Gc(oe)?J(ie,oe,I):Z(ie,oe,I)}},ne=(W,D,I={})=>{const K=We(r,W),oe=a.array.has(W),ie=_i(D);ln(s,W,ie),oe?(h.array.next({name:W,values:{...s}}),(u.isDirty||u.dirtyFields)&&I.shouldDirty&&h.state.next({name:W,dirtyFields:tp(i,s),isDirty:G(W,ie)})):K&&!K._f&&!ii(ie)?J(W,ie,I):Z(W,ie,I),ZD(W,a)&&h.state.next({...n}),h.values.next({name:o.mount?W:void 0,values:{...s}})},F=async W=>{o.mount=!0;const D=W.target;let I=D.name,K=!0;const oe=We(r,I),ie=()=>D.type?F1(oe._f):FH(W),le=Ne=>{K=Number.isNaN(Ne)||Gc(Ne)&&isNaN(Ne.getTime())||al(Ne,We(s,I,Ne))};if(oe){let Ne,Ie;const Oe=ie(),Qe=W.type===Hx.BLUR||W.type===Hx.FOCUS_OUT,dt=!Jfe(oe._f)&&!e.resolver&&!We(n.errors,I)&&!oe._f.deps||Qfe(Qe,We(n.touchedFields,I),n.isSubmitted,m,p),Re=ZD(I,a,Qe);ln(s,I,Oe),Qe?(oe._f.onBlur&&oe._f.onBlur(W),l&&l(0)):oe._f.onChange&&oe._f.onChange(W);const kt=P(I,Oe,Qe,!1),Et=!wi(kt)||Re;if(!Qe&&h.values.next({name:I,type:W.type,values:{...s}}),dt)return u.isValid&&(t.mode==="onBlur"?Qe&&y():y()),Et&&h.state.next({name:I,...Re?{}:kt});if(!Qe&&Re&&h.state.next({...n}),e.resolver){const{errors:ft}=await O([I]);if(le(Oe),K){const ot=iO(n.errors,r,I),$e=iO(ft,r,ot.name||I);Ne=$e.error,I=$e.name,Ie=wi(ft)}}else g([I],!0),Ne=(await nO(oe,s,v,e.shouldUseNativeValidation))[I],g([I]),le(Oe),K&&(Ne?Ie=!1:u.isValid&&(Ie=await L(r,!0)));K&&(oe._f.deps&&U(oe._f.deps),R(I,Ie,Ne,kt))}},j=(W,D)=>{if(We(n.errors,D)&&W.focus)return W.focus(),1},U=async(W,D={})=>{let I,K;const oe=jp(W);if(e.resolver){const ie=await k(Hn(W)?W:oe);I=wi(ie),K=W?!oe.some(le=>We(ie,le)):I}else W?(K=(await Promise.all(oe.map(async ie=>{const le=We(r,ie);return await L(le&&le._f?{[ie]:le}:le)}))).every(Boolean),!(!K&&!n.isValid)&&y()):K=I=await L(r);return h.state.next({...!bo(W)||u.isValid&&I!==n.isValid?{}:{name:W},...e.resolver||!W?{isValid:I}:{},errors:n.errors}),D.shouldFocus&&!K&&Vp(r,j,W?oe:a.mount),K},$=W=>{const D={...o.mount?s:i};return Hn(W)?D:bo(W)?We(D,W):W.map(I=>We(D,I))},re=(W,D)=>({invalid:!!We((D||n).errors,W),isDirty:!!We((D||n).dirtyFields,W),error:We((D||n).errors,W),isValidating:!!We(n.validatingFields,W),isTouched:!!We((D||n).touchedFields,W)}),Y=W=>{W&&jp(W).forEach(D=>ar(n.errors,D)),h.state.next({errors:W?n.errors:{}})},ue=(W,D,I)=>{const K=(We(r,W,{_f:{}})._f||{}).ref,oe=We(n.errors,W)||{},{ref:ie,message:le,type:Ne,...Ie}=oe;ln(n.errors,W,{...Ie,...D,ref:K}),h.state.next({name:W,errors:n.errors,isValid:!1}),I&&I.shouldFocus&&K&&K.focus&&K.focus()},Me=(W,D)=>da(W)?h.values.subscribe({next:I=>W(te(void 0,D),I)}):te(W,D,!0),be=(W,D={})=>{for(const I of W?jp(W):a.mount)a.mount.delete(I),a.array.delete(I),D.keepValue||(ar(r,I),ar(s,I)),!D.keepError&&ar(n.errors,I),!D.keepDirty&&ar(n.dirtyFields,I),!D.keepTouched&&ar(n.touchedFields,I),!D.keepIsValidating&&ar(n.validatingFields,I),!e.shouldUnregister&&!D.keepDefaultValue&&ar(i,I);h.values.next({values:{...s}}),h.state.next({...n,...D.keepDirty?{isDirty:G()}:{}}),!D.keepIsValid&&y()},Se=({disabled:W,name:D,field:I,fields:K,value:oe})=>{if(ps(W)&&o.mount||W){const ie=W?void 0:Hn(oe)?F1(I?I._f:We(K,D)._f):oe;ln(s,D,ie),P(D,ie,!1,!1,!0)}},Le=(W,D={})=>{let I=We(r,W);const K=ps(D.disabled)||ps(t.disabled);return ln(r,W,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:W}},name:W,mount:!0,...D}}),a.mount.add(W),I?Se({field:I,disabled:ps(D.disabled)?D.disabled:t.disabled,name:W,value:D.value}):C(W,!0,D.value),{...K?{disabled:D.disabled||t.disabled}:{},...e.progressive?{required:!!D.required,min:np(D.min),max:np(D.max),minLength:np(D.minLength),maxLength:np(D.maxLength),pattern:np(D.pattern)}:{},name:W,onChange:F,onBlur:F,ref:oe=>{if(oe){Le(W,D),I=We(r,W);const ie=Hn(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,le=Yfe(ie),Ne=I._f.refs||[];if(le?Ne.find(Ie=>Ie===ie):ie===I._f.ref)return;ln(r,W,{_f:{...I._f,...le?{refs:[...Ne.filter(O1),ie,...Array.isArray(We(i,W))?[{}]:[]],ref:{type:ie.type,name:W}}:{ref:ie}}}),C(W,!1,void 0,ie)}else I=We(r,W,{}),I._f&&(I._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(UH(a.array,W)&&o.action)&&a.unMount.add(W)}}},je=()=>e.shouldFocusError&&Vp(r,j,a.mount),xe=W=>{ps(W)&&(h.state.next({disabled:W}),Vp(r,(D,I)=>{const K=We(r,I);K&&(D.disabled=K._f.disabled||W,Array.isArray(K._f.refs)&&K._f.refs.forEach(oe=>{oe.disabled=K._f.disabled||W}))},0,!1))},ze=(W,D)=>async I=>{let K;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let oe=_i(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:le}=await O();n.errors=ie,oe=le}else await L(r);if(ar(n.errors,"root"),wi(n.errors)){h.state.next({errors:{}});try{await W(oe,I)}catch(ie){K=ie}}else D&&await D({...n.errors},I),je(),setTimeout(je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wi(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},q=(W,D={})=>{We(r,W)&&(Hn(D.defaultValue)?ne(W,_i(We(i,W))):(ne(W,D.defaultValue),ln(i,W,_i(D.defaultValue))),D.keepTouched||ar(n.touchedFields,W),D.keepDirty||(ar(n.dirtyFields,W),n.isDirty=D.defaultValue?G(W,_i(We(i,W))):G()),D.keepError||(ar(n.errors,W),u.isValid&&y()),h.state.next({...n}))},Ee=(W,D={})=>{const I=W?_i(W):i,K=_i(I),oe=wi(W),ie=oe?i:K;if(D.keepDefaultValues||(i=I),!D.keepValues){if(D.keepDirtyValues){const le=new Set([...a.mount,...Object.keys(tp(i,s))]);for(const Ne of Array.from(le))We(n.dirtyFields,Ne)?ln(ie,Ne,We(s,Ne)):ne(Ne,We(ie,Ne))}else{if(kP&&Hn(W))for(const le of a.mount){const Ne=We(r,le);if(Ne&&Ne._f){const Ie=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Wx(Ie)){const Oe=Ie.closest("form");if(Oe){Oe.reset();break}}}}r={}}s=t.shouldUnregister?D.keepDefaultValues?_i(i):{}:_i(ie),h.array.next({values:{...ie}}),h.values.next({values:{...ie}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!al(W,i)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:D.keepDirtyValues?D.keepDefaultValues&&s?tp(i,s):n.dirtyFields:D.keepDefaultValues&&W?tp(i,W):D.keepDirty?n.dirtyFields:{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ge=(W,D)=>Ee(da(W)?W(s):W,D);return{control:{register:Le,unregister:be,getFieldState:re,handleSubmit:ze,setError:ue,_executeSchema:O,_getWatch:te,_getDirty:G,_updateValid:y,_removeUnmounted:z,_updateFieldArray:w,_updateDisabledField:Se,_getFieldArray:B,_reset:Ee,_resetDefaultValues:()=>da(e.defaultValues)&&e.defaultValues().then(W=>{ge(W,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:W=>{n={...n,...W}},_disableForm:xe,_subjects:h,_proxyFormState:u,_setErrors:M,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(W){o=W},get _defaultValues(){return i},get _names(){return a},set _names(W){a=W},get _formState(){return n},set _formState(W){n=W},get _options(){return e},set _options(W){e={...e,...W}}},trigger:U,register:Le,handleSubmit:ze,watch:Me,setValue:ne,getValues:$,reset:ge,resetField:q,clearErrors:Y,unregister:be,setError:ue,setFocus:(W,D={})=>{const I=We(r,W),K=I&&I._f;if(K){const oe=K.refs?K.refs[0]:K.ref;oe.focus&&(oe.focus(),D.shouldSelect&&oe.select())}},getFieldState:re}}function rpe(t={}){const e=Ce.useRef(),n=Ce.useRef(),[r,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:da(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:da(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...npe(t),formState:r});const s=e.current.control;return s._options=t,LP({subject:s._subjects.state,next:o=>{VH(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ce.useEffect(()=>{t.values&&!al(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Ce.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ce.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),Ce.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=jH(r,s),e.current}const sO=(t,e,n)=>{if(t&&"reportValidity"in t){const r=We(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},JH=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?sO(r.ref,n,t):r.refs&&r.refs.forEach(i=>sO(i,n,t))}},ipe=(t,e)=>{e.shouldUseNativeValidation&&JH(t,e);const n={};for(const r in t){const i=We(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(spe(e.names||Object.keys(t),r)){const o=Object.assign({},We(n,r));ln(o,"root",s),ln(n,r,o)}else ln(n,r,s)}return n},spe=(t,e)=>t.some(n=>n.startsWith(e+"."));var ope=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=GH(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},ape=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&JH({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:ipe(ope(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Zt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Zt||(Zt={}));var _T;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(_T||(_T={}));const Je=Zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ll=t=>{switch(typeof t){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return isNaN(t)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(t)?Je.array:t===null?Je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Je.promise:typeof Map<"u"&&t instanceof Map?Je.map:typeof Set<"u"&&t instanceof Set?Je.set:typeof Date<"u"&&t instanceof Date?Je.date:Je.object;default:return Je.unknown}},Be=Zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lpe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof qi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qi.create=t=>new qi(t);const jh=(t,e)=>{let n;switch(t.code){case Be.invalid_type:t.received===Je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Zt.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zt.joinValues(t.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zt.joinValues(t.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Zt.joinValues(t.options)}, received '${t.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Zt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Zt.assertNever(t)}return{message:n}};let QH=jh;function cpe(t){QH=t}function Xx(){return QH}const qx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},upe=[];function Ye(t,e){const n=Xx(),r=qx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===jh?void 0:jh].filter(i=>!!i)});t.common.issues.push(r)}class Kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return bt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Kr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return bt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const bt=Object.freeze({status:"aborted"}),Jd=t=>({status:"dirty",value:t}),di=t=>({status:"valid",value:t}),wT=t=>t.status==="aborted",bT=t=>t.status==="dirty",Wm=t=>t.status==="valid",Gm=t=>typeof Promise<"u"&&t instanceof Promise;function Yx(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function e8(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ut;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ut||(ut={}));var hp,fp;class Do{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oO=(t,e)=>{if(Wm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qi(t.common.issues);return this._error=n,this._error}}};function Nt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class jt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ll(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ll(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:ll(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ll(e)},s=this._parseSync({data:e,path:i.path,parent:i});return oO(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ll(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Gm(i)?i:Promise.resolve(i));return oO(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Js({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return No.create(this,this._def)}nullable(){return Gl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $s.create(this,this._def)}promise(){return Hh.create(this,this._def)}or(e){return Ym.create([this,e],this._def)}and(e){return Km.create(this,e,this._def)}transform(e){return new Js({...Nt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new tg({...Nt(this._def),innerType:this,defaultValue:n,typeName:wt.ZodDefault})}brand(){return new OP({typeName:wt.ZodBranded,type:this,...Nt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ng({...Nt(this._def),innerType:this,catchValue:n,typeName:wt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return jg.create(this,e)}readonly(){return rg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dpe=/^c[^\s-]{8,}$/i,hpe=/^[0-9a-z]+$/,fpe=/^[0-9A-HJKMNP-TV-Z]{26}$/,ppe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mpe=/^[a-z0-9_-]{21}$/i,gpe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vpe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ype="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let U1;const xpe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_pe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wpe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bpe=new RegExp(`^${t8}$`);function n8(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Spe(t){return new RegExp(`^${n8(t)}$`)}function r8(t){let e=`${t8}T${n8(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Epe(t,e){return!!((e==="v4"||!e)&&xpe.test(t)||(e==="v6"||!e)&&_pe.test(t))}class Hs extends jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){const s=this._getOrReturnCtx(e);return Ye(s,{code:Be.invalid_type,expected:Je.string,received:s.parsedType}),bt}const r=new Kr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ye(i,{code:Be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ye(i,{code:Be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")vpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"email",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")U1||(U1=new RegExp(ype,"u")),U1.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"emoji",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")ppe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"uuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")mpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"nanoid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")dpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")hpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid2",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")fpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ulid",code:Be.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ye(i,{validation:"url",code:Be.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"regex",code:Be.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?r8(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?bpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Spe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?gpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"duration",code:Be.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Epe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ip",code:Be.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?wpe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"base64",code:Be.invalid_string,message:s.message}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Be.invalid_string,...ut.errToObj(r)})}_addCheck(e){return new Hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ut.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ut.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ut.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ut.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ut.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ut.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ut.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ut.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ut.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ut.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ut.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ut.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ut.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ut.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ut.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ut.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ut.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ut.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ut.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ut.errToObj(n)})}nonempty(e){return this.min(1,ut.errToObj(e))}trim(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hs.create=t=>{var e;return new Hs({checks:[],typeName:wt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Nt(t)})};function Mpe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Vl extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){const s=this._getOrReturnCtx(e);return Ye(s,{code:Be.invalid_type,expected:Je.number,received:s.parsedType}),bt}let r;const i=new Kr;for(const s of this._def.checks)s.kind==="int"?Zt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Mpe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.not_finite,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ut.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ut.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ut.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ut.toString(n))}setLimit(e,n,r,i){return new Vl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ut.toString(i)}]})}_addCheck(e){return new Vl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ut.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ut.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ut.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ut.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Zt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vl.create=t=>new Vl({checks:[],typeName:wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Nt(t)});class Hl extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Je.bigint){const s=this._getOrReturnCtx(e);return Ye(s,{code:Be.invalid_type,expected:Je.bigint,received:s.parsedType}),bt}let r;const i=new Kr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ye(r,{code:Be.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ut.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ut.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ut.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ut.toString(n))}setLimit(e,n,r,i){return new Hl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ut.toString(i)}]})}_addCheck(e){return new Hl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ut.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hl.create=t=>{var e;return new Hl({checks:[],typeName:wt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Nt(t)})};class $m extends jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.boolean,received:r.parsedType}),bt}return di(e.data)}}$m.create=t=>new $m({typeName:wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Nt(t)});class vu extends jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){const s=this._getOrReturnCtx(e);return Ye(s,{code:Be.invalid_type,expected:Je.date,received:s.parsedType}),bt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ye(s,{code:Be.invalid_date}),bt}const r=new Kr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ut.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ut.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}vu.create=t=>new vu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:wt.ZodDate,...Nt(t)});class Kx extends jt{_parse(e){if(this._getType(e)!==Je.symbol){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.symbol,received:r.parsedType}),bt}return di(e.data)}}Kx.create=t=>new Kx({typeName:wt.ZodSymbol,...Nt(t)});class Xm extends jt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.undefined,received:r.parsedType}),bt}return di(e.data)}}Xm.create=t=>new Xm({typeName:wt.ZodUndefined,...Nt(t)});class qm extends jt{_parse(e){if(this._getType(e)!==Je.null){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.null,received:r.parsedType}),bt}return di(e.data)}}qm.create=t=>new qm({typeName:wt.ZodNull,...Nt(t)});class Vh extends jt{constructor(){super(...arguments),this._any=!0}_parse(e){return di(e.data)}}Vh.create=t=>new Vh({typeName:wt.ZodAny,...Nt(t)});class iu extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return di(e.data)}}iu.create=t=>new iu({typeName:wt.ZodUnknown,...Nt(t)});class Ma extends jt{_parse(e){const n=this._getOrReturnCtx(e);return Ye(n,{code:Be.invalid_type,expected:Je.never,received:n.parsedType}),bt}}Ma.create=t=>new Ma({typeName:wt.ZodNever,...Nt(t)});class Zx extends jt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.void,received:r.parsedType}),bt}return di(e.data)}}Zx.create=t=>new Zx({typeName:wt.ZodVoid,...Nt(t)});class $s extends jt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Je.array)return Ye(n,{code:Be.invalid_type,expected:Je.array,received:n.parsedType}),bt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Ye(n,{code:o?Be.too_big:Be.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ye(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ye(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Do(n,o,n.path,a)))).then(o=>Kr.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Do(n,o,n.path,a)));return Kr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new $s({...this._def,minLength:{value:e,message:ut.toString(n)}})}max(e,n){return new $s({...this._def,maxLength:{value:e,message:ut.toString(n)}})}length(e,n){return new $s({...this._def,exactLength:{value:e,message:ut.toString(n)}})}nonempty(e){return this.min(1,e)}}$s.create=(t,e)=>new $s({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...Nt(e)});function Cd(t){if(t instanceof kn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=No.create(Cd(r))}return new kn({...t._def,shape:()=>e})}else return t instanceof $s?new $s({...t._def,type:Cd(t.element)}):t instanceof No?No.create(Cd(t.unwrap())):t instanceof Gl?Gl.create(Cd(t.unwrap())):t instanceof Oo?Oo.create(t.items.map(e=>Cd(e))):t}class kn extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Zt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Je.object){const c=this._getOrReturnCtx(e);return Ye(c,{code:Be.invalid_type,expected:Je.object,received:c.parsedType}),bt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ma&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Do(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ma){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(Ye(i,{code:Be.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Do(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,p=await u.value;c.push({key:h,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>Kr.mergeObjectSync(r,c)):Kr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ut.errToObj,new kn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ut.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new kn({...this._def,unknownKeys:"strip"})}passthrough(){return new kn({...this._def,unknownKeys:"passthrough"})}extend(e){return new kn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new kn({...this._def,catchall:e})}pick(e){const n={};return Zt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new kn({...this._def,shape:()=>n})}omit(e){const n={};return Zt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new kn({...this._def,shape:()=>n})}deepPartial(){return Cd(this)}partial(e){const n={};return Zt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new kn({...this._def,shape:()=>n})}required(e){const n={};return Zt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof No;)s=s._def.innerType;n[r]=s}}),new kn({...this._def,shape:()=>n})}keyof(){return i8(Zt.objectKeys(this.shape))}}kn.create=(t,e)=>new kn({shape:()=>t,unknownKeys:"strip",catchall:Ma.create(),typeName:wt.ZodObject,...Nt(e)});kn.strictCreate=(t,e)=>new kn({shape:()=>t,unknownKeys:"strict",catchall:Ma.create(),typeName:wt.ZodObject,...Nt(e)});kn.lazycreate=(t,e)=>new kn({shape:t,unknownKeys:"strip",catchall:Ma.create(),typeName:wt.ZodObject,...Nt(e)});class Ym extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new qi(a.ctx.common.issues));return Ye(n,{code:Be.invalid_union,unionErrors:o}),bt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new qi(l));return Ye(n,{code:Be.invalid_union,unionErrors:a}),bt}}get options(){return this._def.options}}Ym.create=(t,e)=>new Ym({options:t,typeName:wt.ZodUnion,...Nt(e)});const ta=t=>t instanceof Jm?ta(t.schema):t instanceof Js?ta(t.innerType()):t instanceof Qm?[t.value]:t instanceof Wl?t.options:t instanceof eg?Zt.objectValues(t.enum):t instanceof tg?ta(t._def.innerType):t instanceof Xm?[void 0]:t instanceof qm?[null]:t instanceof No?[void 0,...ta(t.unwrap())]:t instanceof Gl?[null,...ta(t.unwrap())]:t instanceof OP||t instanceof rg?ta(t.unwrap()):t instanceof ng?ta(t._def.innerType):[];class Sw extends jt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.object)return Ye(n,{code:Be.invalid_type,expected:Je.object,received:n.parsedType}),bt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Ye(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ta(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Sw({typeName:wt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Nt(r)})}}function ST(t,e){const n=ll(t),r=ll(e);if(t===e)return{valid:!0,data:t};if(n===Je.object&&r===Je.object){const i=Zt.objectKeys(e),s=Zt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=ST(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Je.array&&r===Je.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=ST(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Je.date&&r===Je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Km extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(wT(s)||wT(o))return bt;const a=ST(s.value,o.value);return a.valid?((bT(s)||bT(o))&&n.dirty(),{status:n.value,value:a.data}):(Ye(r,{code:Be.invalid_intersection_types}),bt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Km.create=(t,e,n)=>new Km({left:t,right:e,typeName:wt.ZodIntersection,...Nt(n)});class Oo extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.array)return Ye(r,{code:Be.invalid_type,expected:Je.array,received:r.parsedType}),bt;if(r.data.length<this._def.items.length)return Ye(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bt;!this._def.rest&&r.data.length>this._def.items.length&&(Ye(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Do(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Kr.mergeArray(n,o)):Kr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Oo({...this._def,rest:e})}}Oo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oo({items:t,typeName:wt.ZodTuple,rest:null,...Nt(e)})};class Zm extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.object)return Ye(r,{code:Be.invalid_type,expected:Je.object,received:r.parsedType}),bt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Do(r,a,r.path,a)),value:o._parse(new Do(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kr.mergeObjectAsync(n,i):Kr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof jt?new Zm({keyType:e,valueType:n,typeName:wt.ZodRecord,...Nt(r)}):new Zm({keyType:Hs.create(),valueType:e,typeName:wt.ZodRecord,...Nt(n)})}}class Jx extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.map)return Ye(r,{code:Be.invalid_type,expected:Je.map,received:r.parsedType}),bt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Do(r,a,r.path,[c,"key"])),value:s._parse(new Do(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return bt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return bt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Jx.create=(t,e,n)=>new Jx({valueType:e,keyType:t,typeName:wt.ZodMap,...Nt(n)});class yu extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.set)return Ye(r,{code:Be.invalid_type,expected:Je.set,received:r.parsedType}),bt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ye(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ye(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return bt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Do(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new yu({...this._def,minSize:{value:e,message:ut.toString(n)}})}max(e,n){return new yu({...this._def,maxSize:{value:e,message:ut.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yu.create=(t,e)=>new yu({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...Nt(e)});class hh extends jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.function)return Ye(n,{code:Be.invalid_type,expected:Je.function,received:n.parsedType}),bt;function r(a,l){return qx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xx(),jh].filter(c=>!!c),issueData:{code:Be.invalid_arguments,argumentsError:l}})}function i(a,l){return qx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xx(),jh].filter(c=>!!c),issueData:{code:Be.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Hh){const a=this;return di(async function(...l){const c=new qi([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const a=this;return di(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new qi([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new qi([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hh({...this._def,args:Oo.create(e).rest(iu.create())})}returns(e){return new hh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new hh({args:e||Oo.create([]).rest(iu.create()),returns:n||iu.create(),typeName:wt.ZodFunction,...Nt(r)})}}class Jm extends jt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jm.create=(t,e)=>new Jm({getter:t,typeName:wt.ZodLazy,...Nt(e)});class Qm extends jt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ye(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),bt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qm.create=(t,e)=>new Qm({value:t,typeName:wt.ZodLiteral,...Nt(e)});function i8(t,e){return new Wl({values:t,typeName:wt.ZodEnum,...Nt(e)})}class Wl extends jt{constructor(){super(...arguments),hp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ye(n,{expected:Zt.joinValues(r),received:n.parsedType,code:Be.invalid_type}),bt}if(Yx(this,hp)||e8(this,hp,new Set(this._def.values)),!Yx(this,hp).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ye(n,{received:n.data,code:Be.invalid_enum_value,options:r}),bt}return di(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Wl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Wl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hp=new WeakMap;Wl.create=i8;class eg extends jt{constructor(){super(...arguments),fp.set(this,void 0)}_parse(e){const n=Zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Je.string&&r.parsedType!==Je.number){const i=Zt.objectValues(n);return Ye(r,{expected:Zt.joinValues(i),received:r.parsedType,code:Be.invalid_type}),bt}if(Yx(this,fp)||e8(this,fp,new Set(Zt.getValidEnumValues(this._def.values))),!Yx(this,fp).has(e.data)){const i=Zt.objectValues(n);return Ye(r,{received:r.data,code:Be.invalid_enum_value,options:i}),bt}return di(e.data)}get enum(){return this._def.values}}fp=new WeakMap;eg.create=(t,e)=>new eg({values:t,typeName:wt.ZodNativeEnum,...Nt(e)});class Hh extends jt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.promise&&n.common.async===!1)return Ye(n,{code:Be.invalid_type,expected:Je.promise,received:n.parsedType}),bt;const r=n.parsedType===Je.promise?n.data:Promise.resolve(n.data);return di(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hh.create=(t,e)=>new Hh({type:t,typeName:wt.ZodPromise,...Nt(e)});class Js extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ye(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return bt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?bt:l.status==="dirty"||n.value==="dirty"?Jd(l.value):l});{if(n.value==="aborted")return bt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?bt:a.status==="dirty"||n.value==="dirty"?Jd(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?bt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?bt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wm(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Wm(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Zt.assertNever(i)}}Js.create=(t,e,n)=>new Js({schema:t,typeName:wt.ZodEffects,effect:e,...Nt(n)});Js.createWithPreprocess=(t,e,n)=>new Js({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...Nt(n)});class No extends jt{_parse(e){return this._getType(e)===Je.undefined?di(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}No.create=(t,e)=>new No({innerType:t,typeName:wt.ZodOptional,...Nt(e)});class Gl extends jt{_parse(e){return this._getType(e)===Je.null?di(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gl.create=(t,e)=>new Gl({innerType:t,typeName:wt.ZodNullable,...Nt(e)});class tg extends jt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tg.create=(t,e)=>new tg({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Nt(e)});class ng extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ng.create=(t,e)=>new ng({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Nt(e)});class Qx extends jt{_parse(e){if(this._getType(e)!==Je.nan){const r=this._getOrReturnCtx(e);return Ye(r,{code:Be.invalid_type,expected:Je.nan,received:r.parsedType}),bt}return{status:"valid",value:e.data}}}Qx.create=t=>new Qx({typeName:wt.ZodNaN,...Nt(t)});const Tpe=Symbol("zod_brand");class OP extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class jg extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?bt:s.status==="dirty"?(n.dirty(),Jd(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?bt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new jg({in:e,out:n,typeName:wt.ZodPipeline})}}class rg extends jt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Wm(i)&&(i.value=Object.freeze(i.value)),i);return Gm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}rg.create=(t,e)=>new rg({innerType:t,typeName:wt.ZodReadonly,...Nt(e)});function s8(t,e={},n){return t?Vh.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Vh.create()}const Ape={object:kn.lazycreate};var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Cpe=(t,e={message:`Input not instance of ${t.name}`})=>s8(n=>n instanceof t,e),o8=Hs.create,a8=Vl.create,Ppe=Qx.create,Rpe=Hl.create,l8=$m.create,kpe=vu.create,Npe=Kx.create,Lpe=Xm.create,Ipe=qm.create,Dpe=Vh.create,Ope=iu.create,Fpe=Ma.create,Upe=Zx.create,zpe=$s.create,Bpe=kn.create,jpe=kn.strictCreate,Vpe=Ym.create,Hpe=Sw.create,Wpe=Km.create,Gpe=Oo.create,$pe=Zm.create,Xpe=Jx.create,qpe=yu.create,Ype=hh.create,Kpe=Jm.create,Zpe=Qm.create,Jpe=Wl.create,Qpe=eg.create,eme=Hh.create,aO=Js.create,tme=No.create,nme=Gl.create,rme=Js.createWithPreprocess,ime=jg.create,sme=()=>o8().optional(),ome=()=>a8().optional(),ame=()=>l8().optional(),lme={string:t=>Hs.create({...t,coerce:!0}),number:t=>Vl.create({...t,coerce:!0}),boolean:t=>$m.create({...t,coerce:!0}),bigint:t=>Hl.create({...t,coerce:!0}),date:t=>vu.create({...t,coerce:!0})},cme=bt;var rp=Object.freeze({__proto__:null,defaultErrorMap:jh,setErrorMap:cpe,getErrorMap:Xx,makeIssue:qx,EMPTY_PATH:upe,addIssueToContext:Ye,ParseStatus:Kr,INVALID:bt,DIRTY:Jd,OK:di,isAborted:wT,isDirty:bT,isValid:Wm,isAsync:Gm,get util(){return Zt},get objectUtil(){return _T},ZodParsedType:Je,getParsedType:ll,ZodType:jt,datetimeRegex:r8,ZodString:Hs,ZodNumber:Vl,ZodBigInt:Hl,ZodBoolean:$m,ZodDate:vu,ZodSymbol:Kx,ZodUndefined:Xm,ZodNull:qm,ZodAny:Vh,ZodUnknown:iu,ZodNever:Ma,ZodVoid:Zx,ZodArray:$s,ZodObject:kn,ZodUnion:Ym,ZodDiscriminatedUnion:Sw,ZodIntersection:Km,ZodTuple:Oo,ZodRecord:Zm,ZodMap:Jx,ZodSet:yu,ZodFunction:hh,ZodLazy:Jm,ZodLiteral:Qm,ZodEnum:Wl,ZodNativeEnum:eg,ZodPromise:Hh,ZodEffects:Js,ZodTransformer:Js,ZodOptional:No,ZodNullable:Gl,ZodDefault:tg,ZodCatch:ng,ZodNaN:Qx,BRAND:Tpe,ZodBranded:OP,ZodPipeline:jg,ZodReadonly:rg,custom:s8,Schema:jt,ZodSchema:jt,late:Ape,get ZodFirstPartyTypeKind(){return wt},coerce:lme,any:Dpe,array:zpe,bigint:Rpe,boolean:l8,date:kpe,discriminatedUnion:Hpe,effect:aO,enum:Jpe,function:Ype,instanceof:Cpe,intersection:Wpe,lazy:Kpe,literal:Zpe,map:Xpe,nan:Ppe,nativeEnum:Qpe,never:Fpe,null:Ipe,nullable:nme,number:a8,object:Bpe,oboolean:ame,onumber:ome,optional:tme,ostring:sme,pipeline:ime,preprocess:rme,promise:eme,record:$pe,set:qpe,strictObject:jpe,string:o8,symbol:Npe,transformer:aO,tuple:Gpe,undefined:Lpe,union:Vpe,unknown:Ope,void:Upe,NEVER:cme,ZodIssueCode:Be,quotelessJson:lpe,ZodError:qi}),ume="Label",c8=T.forwardRef((t,e)=>S.jsx(Xt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c8.displayName=ume;var u8=c8;const dme=fg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d8=T.forwardRef(({className:t,...e},n)=>S.jsx(u8,{ref:n,className:Yt(dme(),t),...e}));d8.displayName=u8.displayName;const hme=jfe,h8=T.createContext({}),g0=({...t})=>S.jsx(h8.Provider,{value:{name:t.name},children:S.jsx(Gfe,{...t})}),Ew=()=>{const t=T.useContext(h8),e=T.useContext(f8),{getFieldState:n,formState:r}=bw(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},f8=T.createContext({}),pp=T.forwardRef(({className:t,...e},n)=>{const r=T.useId();return S.jsx(f8.Provider,{value:{id:r},children:S.jsx("div",{ref:n,className:Yt("space-y-2",t),...e})})});pp.displayName="FormItem";const mp=T.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Ew();return S.jsx(d8,{ref:n,className:Yt(r&&"text-destructive",t),htmlFor:i,...e})});mp.displayName="FormLabel";const gp=T.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Ew();return S.jsx(Nl,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});gp.displayName="FormControl";const fme=T.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Ew();return S.jsx("p",{ref:n,id:r,className:Yt("text-sm text-muted-foreground",t),...e})});fme.displayName="FormDescription";const vp=T.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Ew(),o=i?String(i==null?void 0:i.message):e;return o?S.jsx("p",{ref:r,id:s,className:Yt("text-sm font-medium text-destructive",t),...n,children:o}):null});vp.displayName="FormMessage";const ti=T.forwardRef(({className:t,...e},n)=>S.jsx("textarea",{className:Yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ti.displayName="Textarea";const pme=rp.object({name:rp.string().min(2,{message:"Name must be at least 2 characters."}),email:rp.string().email({message:"Please enter a valid email address."}),subject:rp.string().min(5,{message:"Subject must be at least 5 characters."}),message:rp.string().min(10,{message:"Message must be at least 10 characters."})}),mme="service_lfqzf0s",gme="template_6wz0o6h",vme="NkEHgQXJYYoLba4ck",yme=()=>{const{toast:t}=xA(),[e,n]=Ce.useState(!1),[r,i]=Ce.useState(!1),s=rpe({resolver:ape(pme),defaultValues:{name:"",email:"",subject:"",message:""}});T.useEffect(()=>{const l=s.watch(()=>{r&&i(!1)});return()=>l.unsubscribe()},[s,r]);const o=async l=>{n(!0);try{console.log("Submitting form data:",l);const c={from_name:l.name,from_email:l.email,subject:l.subject,message:l.message},u=await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:mme,template_id:gme,user_id:vme,template_params:c})}),h=await u.text();if(console.log("EmailJS API response status:",u.status),console.log("EmailJS API response:",h),!u.ok)throw new Error(`Failed to send message: ${h||u.statusText}`);Ik.success("Message sent!",{description:"Thanks for reaching out. I'll get back to you soon.",duration:5e3}),t({title:"Message sent!",description:"Thanks for reaching out. I'll get back to you soon.",duration:5e3}),i(!0),s.reset()}catch(c){console.error("Error sending message:",c),Ik.error("Message failed to send",{description:c instanceof Error?c.message:"An unexpected error occurred. Please try again later.",duration:5e3}),t({title:"Message failed to send",description:c instanceof Error?c.message:"An unexpected error occurred. Please try again later.",variant:"destructive",duration:5e3})}finally{n(!1)}},a={hidden:{opacity:0,y:20},visible:l=>({opacity:1,y:0,transition:{delay:l*.1,duration:.5}})};return S.jsx("div",{className:"relative",children:S.jsx(hme,{...s,children:S.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6 text-left",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[S.jsx(vn.div,{variants:a,initial:"hidden",whileInView:"visible",custom:0,viewport:{once:!0},children:S.jsx(g0,{control:s.control,name:"name",render:({field:l})=>S.jsxs(pp,{children:[S.jsx(mp,{className:"text-white",children:"Name"}),S.jsx(gp,{children:S.jsx(Gt,{placeholder:"Your name",...l,className:"bg-black/50 border-white/20 focus:border-neon-blue/50 text-white","aria-label":"Your name"})}),S.jsx(vp,{})]})})}),S.jsx(vn.div,{variants:a,initial:"hidden",whileInView:"visible",custom:1,viewport:{once:!0},children:S.jsx(g0,{control:s.control,name:"email",render:({field:l})=>S.jsxs(pp,{children:[S.jsx(mp,{className:"text-white",children:"Email"}),S.jsx(gp,{children:S.jsx(Gt,{placeholder:"your.email@example.com",...l,className:"bg-black/50 border-white/20 focus:border-neon-blue/50 text-white","aria-label":"Your email address",type:"email"})}),S.jsx(vp,{})]})})})]}),S.jsx(vn.div,{variants:a,initial:"hidden",whileInView:"visible",custom:2,viewport:{once:!0},children:S.jsx(g0,{control:s.control,name:"subject",render:({field:l})=>S.jsxs(pp,{children:[S.jsx(mp,{className:"text-white",children:"Subject"}),S.jsx(gp,{children:S.jsx(Gt,{placeholder:"What is this regarding?",...l,className:"bg-black/50 border-white/20 focus:border-neon-blue/50 text-white","aria-label":"Subject of your message"})}),S.jsx(vp,{})]})})}),S.jsx(vn.div,{variants:a,initial:"hidden",whileInView:"visible",custom:3,viewport:{once:!0},children:S.jsx(g0,{control:s.control,name:"message",render:({field:l})=>S.jsxs(pp,{children:[S.jsx(mp,{className:"text-white",children:"Message"}),S.jsx(gp,{children:S.jsx(ti,{placeholder:"Your message...",...l,className:"min-h-[150px] bg-black/50 border-white/20 focus:border-neon-blue/50 text-white resize-y","aria-label":"Your message"})}),S.jsx(vp,{})]})})}),S.jsx(vn.div,{variants:a,initial:"hidden",whileInView:"visible",custom:4,viewport:{once:!0},whileHover:{scale:e?1:1.03},whileTap:{scale:e?1:.98},children:S.jsx(_t,{type:"submit",className:"w-full bg-neon-blue hover:bg-neon-blue/80 text-white",disabled:e||r,"aria-label":e?"Sending message...":"Send message",children:e?S.jsxs(S.Fragment,{children:[S.jsx(z9,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),S.jsx("span",{children:"Sending..."})]}):r?S.jsxs(S.Fragment,{children:[S.jsx(L9,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),S.jsx("span",{children:"Message Sent"})]}):S.jsxs(S.Fragment,{children:[S.jsx(W9,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),S.jsx("span",{children:"Send Message"})]})})})]})})})},xme=()=>{const{t}=Qs(),{data:e}=zo();return S.jsx(ku,{id:"contact",title:t("contact.title"),description:t("contact.description"),children:S.jsx("div",{className:"neo-blur border border-white/10 rounded-lg p-8",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:t("contact.title")}),S.jsx("p",{className:"text-gray-300 mb-6",children:e.contact.paragraph}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-start",children:[S.jsx(aU,{className:"w-5 h-5 text-neon-blue mt-1 mr-3"}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-medium",children:t("contact.email")}),S.jsx("a",{href:`mailto:${e.contact.email}`,className:"text-gray-400 hover:text-neon-blue",children:e.contact.email})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx(oU,{className:"w-5 h-5 text-neon-blue mt-1 mr-3"}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-medium",children:t("contact.linkedin")}),S.jsx("a",{href:e.contact.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-neon-blue",children:"linkedin.com/in/aajith7"})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx(om,{className:"w-5 h-5 text-neon-blue mt-1 mr-3"}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-white font-medium",children:t("contact.github")}),S.jsx("a",{href:e.contact.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-neon-blue",children:"github.com/Ajith-oo7"})]})]})]})]}),S.jsx("div",{children:S.jsx(yme,{})})]})})})},_me=()=>{const{t}=Qs();return S.jsx("footer",{className:"py-6 border-t border-white/10",children:S.jsx("div",{className:"container mx-auto max-w-6xl px-4",children:S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[S.jsxs("div",{className:"text-white font-mono text-xl mb-4 md:mb-0",children:[S.jsx("span",{className:"text-gradient font-bold",children:"AA"}),S.jsx("span",{className:"text-neon-blue",children:"."})]}),S.jsxs("div",{className:"text-gray-400 text-sm text-center md:text-right",children:[S.jsx("p",{children:t("footer.rights")}),S.jsx("p",{className:"mt-1",children:t("footer.builtWith")})]})]})})})},wme=({networkEnabled:t,setNetworkEnabled:e,networkTheme:n,setNetworkTheme:r})=>{const i=T.useRef(null),[s,o]=T.useState(!1),[a,l]=T.useState(1),c=()=>{var h;(h=i.current)==null||h.scrollIntoView({behavior:"smooth"})},u=h=>{console.log(`Attempting to scroll to section from Index: ${h}`),setTimeout(()=>{const p=document.getElementById(h);if(console.log("Found element:",p),p){const x=p.getBoundingClientRect().top+window.pageYOffset-80;console.log(`Scrolling to position: ${x}`),window.scrollTo({top:x,behavior:"smooth"})}else console.error(`Element with ID "${h}" not found`)},300)};return T.useEffect(()=>{const h=setTimeout(()=>{o(!0)},3e3);return()=>clearTimeout(h)},[]),T.useEffect(()=>{if(s){const h=setTimeout(()=>{o(!1)},5e3);return()=>clearTimeout(h)}},[s]),T.useEffect(()=>{const h=p=>{const m=document.getElementById("mouse-blob");m&&requestAnimationFrame(()=>{m.style.transform=`translate(${p.clientX}px, ${p.clientY}px) translate(-50%, -50%)`})};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[]),S.jsxs("div",{className:"bg-black relative min-h-screen overflow-x-hidden",children:[S.jsx(vte,{}),S.jsx(Hee,{enabled:t,theme:n,density:a}),S.jsx("div",{className:"fixed inset-0 bg-grid-pattern bg-[length:30px_30px] opacity-5 pointer-events-none z-0","aria-hidden":"true"}),S.jsx(Fee,{children:S.jsx(gte,{enabled:t,onToggle:()=>e(!t),currentTheme:n,onThemeChange:r,density:a,onDensityChange:l})}),S.jsx(YA,{children:s&&t&&S.jsx(vn.div,{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 py-2 px-4 bg-purple-800/80 backdrop-blur-sm rounded-lg shadow-lg border border-purple-400/20 text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},role:"status","aria-live":"polite",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-700/50 rounded-full",children:S.jsx("span",{className:"block w-3 h-3 bg-purple-400 rounded-full animate-ping"})}),S.jsx("p",{children:"Explore the interactive network by clicking anywhere!"})]})})}),S.jsx(vn.div,{id:"mouse-blob",className:"fixed w-48 h-48 rounded-full bg-radial-glow pointer-events-none opacity-60 z-0",style:{transform:"translate(-50%, -50%)"},initial:{opacity:0,scale:.5},animate:{opacity:.6,scale:1},transition:{duration:1},"aria-hidden":"true"}),S.jsx(Vhe,{onScroll:u,onScrollToContent:c}),S.jsxs("main",{id:"main-content",ref:i,children:[S.jsx(Hhe,{}),S.jsx(Zhe,{}),S.jsx(Qhe,{}),S.jsx(tfe,{}),S.jsx(Ffe,{}),S.jsx(Ufe,{}),S.jsx(xme,{})]}),S.jsx(_me,{})]})},Mc=({title:t,children:e})=>S.jsxs(Ug,{className:"bg-gray-800/50 border border-white/10",children:[S.jsx(yw,{children:S.jsx(xw,{className:"text-white",children:t})}),S.jsx(zg,{children:e})]}),bme=()=>{const{data:t,updateHero:e,updateAbout:n,updateContact:r,updateJourney:i,addExperience:s,removeExperience:o,updateExperience:a,addProject:l,removeProject:c,updateProjects:u,addSkillCategory:h,removeSkillCategory:p,updateSkills:m,updateCertifications:v}=zo(),[x,y]=T.useState(null),[g,w]=T.useState(null),[b,M]=T.useState(null),[C,P]=T.useState(null),[R,O]=T.useState(null),[k,L]=T.useState(null),[z,G]=T.useState(null),te=()=>{const[U,$]=T.useState(t.hero),re=()=>{e(U),y(null)};return S.jsx(Mc,{title:"Hero Section",children:x==="hero"?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Gt,{value:U.name,onChange:Y=>$({...U,name:Y.target.value}),placeholder:"Name",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.title,onChange:Y=>$({...U,title:Y.target.value}),placeholder:"Title",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.subtitle,onChange:Y=>$({...U,subtitle:Y.target.value}),placeholder:"Subtitle",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.description,onChange:Y=>$({...U,description:Y.target.value}),placeholder:"Description",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.openTo,onChange:Y=>$({...U,openTo:Y.target.value}),placeholder:"Open To",className:"bg-gray-900 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:re,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>y(null),variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"space-y-2",children:[S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Name:"})," ",t.hero.name]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Title:"})," ",t.hero.title]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Subtitle:"})," ",t.hero.subtitle]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Description:"})," ",t.hero.description]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Open To:"})," ",t.hero.openTo]}),S.jsxs(_t,{onClick:()=>y("hero"),variant:"outline",className:"border-white/20 mt-4",children:[S.jsx(hc,{className:"w-4 h-4 mr-2"}),"Edit"]})]})})},B=()=>{const[U,$]=T.useState(t.about),re=()=>{n(U),y(null)};return S.jsx(Mc,{title:"About Section",children:x==="about"?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Gt,{value:U.name,onChange:Y=>$({...U,name:Y.target.value}),placeholder:"Name",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.location,onChange:Y=>$({...U,location:Y.target.value}),placeholder:"Location",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.education,onChange:Y=>$({...U,education:Y.target.value}),placeholder:"Education",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.email,onChange:Y=>$({...U,email:Y.target.value}),placeholder:"Email",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph1,onChange:Y=>$({...U,paragraph1:Y.target.value}),placeholder:"Paragraph 1",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph2,onChange:Y=>$({...U,paragraph2:Y.target.value}),placeholder:"Paragraph 2",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph3,onChange:Y=>$({...U,paragraph3:Y.target.value}),placeholder:"Paragraph 3",className:"bg-gray-900 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:re,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>y(null),variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"space-y-2",children:[S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Name:"})," ",t.about.name]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Location:"})," ",t.about.location]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Education:"})," ",t.about.education]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Email:"})," ",t.about.email]}),S.jsxs(_t,{onClick:()=>y("about"),variant:"outline",className:"border-white/20 mt-4",children:[S.jsx(hc,{className:"w-4 h-4 mr-2"}),"Edit"]})]})})},Z=()=>{const[U,$]=T.useState({company:"",role:"",period:"",description:"",responsibilities:[],technologies:[]}),re=()=>{U.company&&U.role&&(s({id:Date.now().toString(),company:U.company,role:U.role,period:U.period||"",description:U.description||"",responsibilities:U.responsibilities||[],technologies:U.technologies||[]}),$({company:"",role:"",period:"",description:"",responsibilities:[],technologies:[]}))},Y=Le=>{w(Le.id),O({...Le})},ue=()=>{if(R){const Le=t.experience.map(je=>je.id===R.id?R:je);a(Le),w(null),O(null)}},Me=()=>{w(null),O(null)},be=Le=>{if(R){const je=Le.split(`
`).filter(xe=>xe.trim());O({...R,responsibilities:je})}},Se=Le=>{if(R){const je=Le.split(",").map(xe=>xe.trim()).filter(xe=>xe);O({...R,technologies:je})}};return S.jsx(Mc,{title:"Experience Section",children:S.jsxs("div",{className:"space-y-6",children:[t.experience.map(Le=>{var je,xe;return S.jsx("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:g===Le.id?S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:(R==null?void 0:R.company)||"",onChange:ze=>O(q=>q?{...q,company:ze.target.value}:null),placeholder:"Company",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:(R==null?void 0:R.role)||"",onChange:ze=>O(q=>q?{...q,role:ze.target.value}:null),placeholder:"Role",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:(R==null?void 0:R.period)||"",onChange:ze=>O(q=>q?{...q,period:ze.target.value}:null),placeholder:"Period",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:(R==null?void 0:R.description)||"",onChange:ze=>O(q=>q?{...q,description:ze.target.value}:null),placeholder:"Description",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:((je=R==null?void 0:R.responsibilities)==null?void 0:je.join(`
`))||"",onChange:ze=>be(ze.target.value),placeholder:"Responsibilities (one per line)",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:((xe=R==null?void 0:R.technologies)==null?void 0:xe.join(", "))||"",onChange:ze=>Se(ze.target.value),placeholder:"Technologies (comma separated)",className:"bg-gray-800 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:ue,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:Me,variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("h4",{className:"text-white font-semibold",children:[Le.role," at ",Le.company]}),S.jsx("p",{className:"text-gray-400 text-sm",children:Le.period}),S.jsx("p",{className:"text-gray-300 text-sm mt-2",children:Le.description}),Le.responsibilities&&Le.responsibilities.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsx("p",{className:"text-gray-400 text-xs",children:"Responsibilities:"}),S.jsx("ul",{className:"text-gray-300 text-xs ml-4",children:Le.responsibilities.slice(0,2).map((ze,q)=>S.jsxs("li",{children:["• ",ze]},q))})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(_t,{onClick:()=>Y(Le),variant:"outline",size:"sm",className:"border-white/20",children:S.jsx(hc,{className:"w-4 h-4"})}),S.jsx(_t,{onClick:()=>o(Le.id),variant:"destructive",size:"sm",children:S.jsx(iy,{className:"w-4 h-4"})})]})]})},Le.id)}),S.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:[S.jsx("h4",{className:"text-white font-semibold mb-4",children:"Add New Experience"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:U.company||"",onChange:Le=>$({...U,company:Le.target.value}),placeholder:"Company",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:U.role||"",onChange:Le=>$({...U,role:Le.target.value}),placeholder:"Role",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:U.period||"",onChange:Le=>$({...U,period:Le.target.value}),placeholder:"Period (e.g., Jan 2020 - Present)",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:U.description||"",onChange:Le=>$({...U,description:Le.target.value}),placeholder:"Description",className:"bg-gray-800 border-white/10 text-white"}),S.jsxs(_t,{onClick:re,className:"bg-blue-600 hover:bg-blue-700",children:[S.jsx(ry,{className:"w-4 h-4 mr-2"}),"Add Experience"]})]})]})]})})},J=()=>{var be;const[U,$]=T.useState({title:"",description:"",longDescription:"",techStack:[],demoLink:"",githubLink:"",color:"blue",challenges:[],solutions:[],outcomes:[]}),re=()=>{U.title&&U.description&&(l({id:Date.now().toString(),title:U.title,description:U.description,longDescription:U.longDescription||"",techStack:U.techStack||[],demoLink:U.demoLink,githubLink:U.githubLink,color:U.color||"blue",challenges:U.challenges||[],solutions:U.solutions||[],outcomes:U.outcomes||[]}),$({title:"",description:"",longDescription:"",techStack:[],demoLink:"",githubLink:"",color:"blue",challenges:[],solutions:[],outcomes:[]}))},Y=Se=>{M(Se.id),L({...Se})},ue=()=>{if(k){const Se=t.projects.map(Le=>Le.id===k.id?k:Le);u(Se),M(null),L(null)}},Me=(Se,Le=!1)=>{const je=Se.split(",").map(xe=>xe.trim()).filter(xe=>xe);Le?$({...U,techStack:je}):k&&L({...k,techStack:je})};return S.jsx(Mc,{title:"Projects Section",children:S.jsxs("div",{className:"space-y-6",children:[t.projects.map(Se=>{var Le;return S.jsx("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:b===Se.id?S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:(k==null?void 0:k.title)||"",onChange:je=>L(xe=>xe?{...xe,title:je.target.value}:null),placeholder:"Project Title",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:(k==null?void 0:k.description)||"",onChange:je=>L(xe=>xe?{...xe,description:je.target.value}:null),placeholder:"Short Description",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:(k==null?void 0:k.longDescription)||"",onChange:je=>L(xe=>xe?{...xe,longDescription:je.target.value}:null),placeholder:"Long Description",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:((Le=k==null?void 0:k.techStack)==null?void 0:Le.join(", "))||"",onChange:je=>Me(je.target.value),placeholder:"Tech Stack (comma separated)",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:(k==null?void 0:k.demoLink)||"",onChange:je=>L(xe=>xe?{...xe,demoLink:je.target.value}:null),placeholder:"Demo Link",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:(k==null?void 0:k.githubLink)||"",onChange:je=>L(xe=>xe?{...xe,githubLink:je.target.value}:null),placeholder:"GitHub Link",className:"bg-gray-800 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:ue,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>{M(null),L(null)},variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"text-white font-semibold",children:Se.title}),S.jsx("p",{className:"text-gray-300 text-sm mt-1",children:Se.description}),S.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Se.techStack.slice(0,3).map((je,xe)=>S.jsx(dh,{variant:"outline",className:"text-xs",children:je},xe))})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(_t,{onClick:()=>Y(Se),variant:"outline",size:"sm",className:"border-white/20",children:S.jsx(hc,{className:"w-4 h-4"})}),S.jsx(_t,{onClick:()=>c(Se.id),variant:"destructive",size:"sm",children:S.jsx(iy,{className:"w-4 h-4"})})]})]})},Se.id)}),S.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:[S.jsx("h4",{className:"text-white font-semibold mb-4",children:"Add New Project"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:U.title||"",onChange:Se=>$({...U,title:Se.target.value}),placeholder:"Project Title",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(ti,{value:U.description||"",onChange:Se=>$({...U,description:Se.target.value}),placeholder:"Short Description",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{value:((be=U.techStack)==null?void 0:be.join(", "))||"",onChange:Se=>Me(Se.target.value,!0),placeholder:"Tech Stack (comma separated)",className:"bg-gray-800 border-white/10 text-white"}),S.jsxs(_t,{onClick:re,className:"bg-blue-600 hover:bg-blue-700",children:[S.jsx(ry,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]})]})})},ne=()=>{const[U,$]=T.useState({name:"",skills:[]}),[re,Y]=T.useState(""),[ue,Me]=T.useState(50),be=()=>{U.name&&(h({id:Date.now().toString(),name:U.name,skills:U.skills||[]}),$({name:"",skills:[]}))},Se=xe=>{P(xe.id),G({...xe})},Le=()=>{if(z){const xe=t.skills.map(ze=>ze.id===z.id?z:ze);m(xe),P(null),G(null)}},je=()=>{if(re){const xe={name:re,level:ue};$({...U,skills:[...U.skills||[],xe]}),Y(""),Me(50)}};return S.jsx(Mc,{title:"Skills Section",children:S.jsxs("div",{className:"space-y-6",children:[t.skills.map(xe=>S.jsx("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:C===xe.id?S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:(z==null?void 0:z.name)||"",onChange:ze=>G(q=>q?{...q,name:ze.target.value}:null),placeholder:"Category Name",className:"bg-gray-800 border-white/10 text-white"}),S.jsx("div",{className:"space-y-2",children:z==null?void 0:z.skills.map((ze,q)=>S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(Gt,{value:ze.name,onChange:Ee=>{if(z){const ge=z.skills.map((ke,ve)=>ve===q?{...ke,name:Ee.target.value}:ke);G({...z,skills:ge})}},placeholder:"Skill Name",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{type:"number",min:"0",max:"100",value:ze.level,onChange:Ee=>{if(z){const ge=z.skills.map((ke,ve)=>ve===q?{...ke,level:parseInt(Ee.target.value)}:ke);G({...z,skills:ge})}},placeholder:"Level",className:"bg-gray-800 border-white/10 text-white w-20"}),S.jsx(_t,{onClick:()=>{if(z){const Ee=z.skills.filter((ge,ke)=>ke!==q);G({...z,skills:Ee})}},variant:"destructive",size:"sm",children:S.jsx(iy,{className:"w-4 h-4"})})]},q))}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:Le,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>{P(null),G(null)},variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h4",{className:"text-white font-semibold",children:xe.name}),S.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:xe.skills.slice(0,3).map((ze,q)=>S.jsxs(dh,{variant:"outline",className:"text-xs",children:[ze.name," (",ze.level,"%)"]},q))})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(_t,{onClick:()=>Se(xe),variant:"outline",size:"sm",className:"border-white/20",children:S.jsx(hc,{className:"w-4 h-4"})}),S.jsx(_t,{onClick:()=>p(xe.id),variant:"destructive",size:"sm",children:S.jsx(iy,{className:"w-4 h-4"})})]})]})},xe.id)),S.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-white/5",children:[S.jsx("h4",{className:"text-white font-semibold mb-4",children:"Add New Skill Category"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx(Gt,{value:U.name||"",onChange:xe=>$({...U,name:xe.target.value}),placeholder:"Category Name (e.g., Programming Languages)",className:"bg-gray-800 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(Gt,{value:re,onChange:xe=>Y(xe.target.value),placeholder:"Skill Name",className:"bg-gray-800 border-white/10 text-white"}),S.jsx(Gt,{type:"number",min:"0",max:"100",value:ue,onChange:xe=>Me(parseInt(xe.target.value)),placeholder:"Level",className:"bg-gray-800 border-white/10 text-white w-20"}),S.jsx(_t,{onClick:je,variant:"outline",className:"border-white/20",children:S.jsx(ry,{className:"w-4 h-4"})})]}),U.skills&&U.skills.length>0&&S.jsx("div",{className:"flex flex-wrap gap-1",children:U.skills.map((xe,ze)=>S.jsxs(dh,{variant:"outline",className:"text-xs",children:[xe.name," (",xe.level,"%)"]},ze))}),S.jsxs(_t,{onClick:be,className:"bg-blue-600 hover:bg-blue-700",children:[S.jsx(ry,{className:"w-4 h-4 mr-2"}),"Add Skill Category"]})]})]})]})})},F=()=>{const[U,$]=T.useState(t.contact),re=()=>{r(U),y(null)};return S.jsx(Mc,{title:"Contact Section",children:x==="contact"?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Gt,{value:U.email,onChange:Y=>$({...U,email:Y.target.value}),placeholder:"Email",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.linkedin,onChange:Y=>$({...U,linkedin:Y.target.value}),placeholder:"LinkedIn URL",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.github,onChange:Y=>$({...U,github:Y.target.value}),placeholder:"GitHub URL",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph,onChange:Y=>$({...U,paragraph:Y.target.value}),placeholder:"Contact Description",className:"bg-gray-900 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:re,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>y(null),variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"space-y-2",children:[S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Email:"})," ",t.contact.email]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"LinkedIn:"})," ",t.contact.linkedin]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"GitHub:"})," ",t.contact.github]}),S.jsxs(_t,{onClick:()=>y("contact"),variant:"outline",className:"border-white/20 mt-4",children:[S.jsx(hc,{className:"w-4 h-4 mr-2"}),"Edit"]})]})})},j=()=>{const[U,$]=T.useState(t.journey),re=()=>{i(U),y(null)};return S.jsx(Mc,{title:"Journey Section",children:x==="journey"?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Gt,{value:U.title,onChange:Y=>$({...U,title:Y.target.value}),placeholder:"Journey Title",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(Gt,{value:U.description,onChange:Y=>$({...U,description:Y.target.value}),placeholder:"Journey Description",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph1,onChange:Y=>$({...U,paragraph1:Y.target.value}),placeholder:"Journey Paragraph 1",className:"bg-gray-900 border-white/10 text-white"}),S.jsx(ti,{value:U.paragraph2,onChange:Y=>$({...U,paragraph2:Y.target.value}),placeholder:"Journey Paragraph 2",className:"bg-gray-900 border-white/10 text-white"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs(_t,{onClick:re,className:"bg-green-600 hover:bg-green-700",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsxs(_t,{onClick:()=>y(null),variant:"outline",className:"border-white/20",children:[S.jsx(Os,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):S.jsxs("div",{className:"space-y-2",children:[S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Title:"})," ",t.journey.title]}),S.jsxs("p",{className:"text-gray-300",children:[S.jsx("strong",{children:"Description:"})," ",t.journey.description]}),S.jsxs(_t,{onClick:()=>y("journey"),variant:"outline",className:"border-white/20 mt-4",children:[S.jsx(hc,{className:"w-4 h-4 mr-2"}),"Edit"]})]})})};return S.jsxs("div",{className:"space-y-8",children:[S.jsx(te,{}),S.jsx(B,{}),S.jsx(Z,{}),S.jsx(J,{}),S.jsx(ne,{}),S.jsx(F,{}),S.jsx(j,{})]})},Sme=()=>{const t=P_();T.useState(!1);const[e,n]=T.useState(null);zo(),T.useEffect(()=>{const o=localStorage.getItem("adminAuth"),a=localStorage.getItem("adminSession");if(!o||!a){t("/");return}const c=Date.now()-parseInt(a),u=24*60*60*1e3;c>u&&r()},[t]);const r=()=>{localStorage.removeItem("adminAuth"),localStorage.removeItem("adminSession"),t("/")},i=()=>{n(new Date),console.log("Portfolio data saved successfully")},s=()=>{i(),console.log("Publishing changes...")};return S.jsxs("div",{className:"min-h-screen bg-black text-white",children:[S.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900/95 backdrop-blur-sm border-b border-white/10",children:S.jsx("div",{className:"container mx-auto px-4 py-3",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs(_t,{onClick:()=>t("/"),variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white",children:[S.jsx(P9,{className:"w-4 h-4 mr-2"}),"Back to Site"]}),S.jsx("div",{className:"h-6 w-px bg-white/20"}),S.jsx("h1",{className:"text-lg font-bold text-white",children:"Portfolio Admin"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[e&&S.jsxs("span",{className:"text-sm text-gray-400",children:["Last saved: ",e.toLocaleTimeString()]}),S.jsxs(_t,{onClick:i,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[S.jsx(qa,{className:"w-4 h-4 mr-2"}),"Save"]}),S.jsx(_t,{onClick:s,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:"Publish"}),S.jsxs(_t,{onClick:r,variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[S.jsx(B9,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),S.jsx("div",{className:"pt-20 pb-8",children:S.jsx("div",{className:"container mx-auto px-4 space-y-8",children:S.jsxs("div",{className:"bg-gray-900/50 border border-white/10 rounded-lg p-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Portfolio Content Management"}),S.jsx("p",{className:"text-gray-300 mb-6",children:"Edit your portfolio content in real-time. Changes are saved automatically and will be reflected immediately on the live site."}),S.jsx(bme,{})]})})})]})},Eme=()=>{const t=gg();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx(Qq,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Mme=({children:t})=>{const e=P_();return T.useEffect(()=>{const r=localStorage.getItem("adminAuth"),i=localStorage.getItem("adminSession");if(!r||!i){e("/");return}const o=Date.now()-parseInt(i),a=24*60*60*1e3;o>a&&(localStorage.removeItem("adminAuth"),localStorage.removeItem("adminSession"),e("/"))},[e]),localStorage.getItem("adminAuth")?S.jsx(S.Fragment,{children:t}):null},Tme=new QX,Ame=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState("purple");return S.jsx(tq,{client:Tme,children:S.jsx(oK,{children:S.jsx(Bhe,{children:S.jsxs(RX,{delayDuration:0,children:[S.jsx(C$,{}),S.jsx(r7,{}),S.jsx(Kq,{children:S.jsxs(Hq,{children:[S.jsx(N0,{path:"/",element:S.jsx(wme,{networkEnabled:t,setNetworkEnabled:e,networkTheme:n,setNetworkTheme:r})}),S.jsx(N0,{path:"/admin",element:S.jsx(Mme,{children:S.jsx(Sme,{})})}),S.jsx(N0,{path:"*",element:S.jsx(Eme,{})})]})})]})})})})};RF(document.getElementById("root")).render(S.jsx(Ame,{}));export{ui as B,Ke as C,wo as D,ba as F,BV as I,Qn as L,KC as M,Pg as P,Cj as R,It as S,$n as T,XC as U,we as V,ZC as a,qr as b,ci as c,Uh as d,cn as e,Bt as f,dr as g,Ft as h,st as i,Ql as j,St as k,H as l,ET as m};
//# sourceMappingURL=index-Brnyola3.js.map
