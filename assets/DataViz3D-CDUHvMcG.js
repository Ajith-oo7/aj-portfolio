import{r as f,j as t,R as v}from"./index-BdrCOG7m.js";import{Canvas as T,useThree as C,useFrame as j}from"@react-three/fiber";import{OrbitControls as D,Sparkles as E,Environment as P,Float as I,Text as B}from"@react-three/drei";import*as c from"three";const F=({position:r,size:i=.3,color:l="#1EAEDB",label:a,pulse:x=!1,onClick:p})=>{const o=f.useRef(null),[d,u]=f.useState(!1),[g,m]=f.useState(!1);j(e=>{if(o.current&&x){const s=e.clock.getElapsedTime();o.current.scale.x=.85+.15*Math.sin(s*2),o.current.scale.y=.85+.15*Math.sin(s*2+.3),o.current.scale.z=.85+.15*Math.sin(s*2+.6),o.current.rotation.x=Math.sin(s*.5)*.2,o.current.rotation.z=Math.sin(s*.3)*.2}});const S=()=>{m(!g),p&&p()};return t.jsxs(I,{speed:x?2:1,rotationIntensity:.2,floatIntensity:.3,position:r,children:[t.jsxs("mesh",{ref:o,onPointerOver:()=>u(!0),onPointerOut:()=>u(!1),onClick:S,scale:g?1.2:1,children:[t.jsx("sphereGeometry",{args:[i,32,32]}),t.jsx("meshStandardMaterial",{color:d?"#ffffff":l,emissive:l,emissiveIntensity:d?2.5:g?1.8:1,roughness:.2,metalness:.8}),d&&t.jsx(E,{count:20,scale:[2,2,2],size:.4,speed:.3,color:l})]}),a&&t.jsx(B,{position:[0,i+.1,0],fontSize:.1,color:d?"#ffffff":"#cccccc",anchorX:"center",anchorY:"bottom",renderOrder:2,outlineWidth:.008,outlineColor:"#000000",maxWidth:1,children:a})]})},L=({start:r,end:i,color:l="#1EAEDB",width:a=.05,speed:x=1})=>{new c.Vector3(...r),new c.Vector3(...i);const p=new c.Vector3().addVectors(new c.Vector3(...r),new c.Vector3(...i)).multiplyScalar(.5);p.normalize().multiplyScalar(3+Math.random()*.3);const o=new c.QuadraticBezierCurve3(new c.Vector3(...r),p,new c.Vector3(...i)),d=new c.TubeGeometry(o,30,a,8,!1);return t.jsx("mesh",{geometry:d,children:t.jsx("meshStandardMaterial",{color:l,transparent:!0,opacity:.7,emissive:l,emissiveIntensity:.5})})},N=()=>{const r=f.useRef(null);return j(({clock:i})=>{r.current&&(r.current.rotation.y=i.getElapsedTime()*.05)}),t.jsxs("mesh",{ref:r,position:[0,0,0],children:[t.jsx("sphereGeometry",{args:[2.8,64,64]}),t.jsx("meshPhongMaterial",{color:"#070c20",transparent:!0,opacity:.3,emissive:"#1a2b4a",emissiveIntensity:.5,wireframe:!1})]})},R=()=>{const{camera:r,gl:i}=C();return t.jsx(D,{args:[r,i.domElement],enableZoom:!0,enablePan:!1,autoRotate:!1,rotateSpeed:.5,zoomSpeed:.8,minDistance:4,maxDistance:12,minPolarAngle:Math.PI/4,maxPolarAngle:3*Math.PI/4})},z=({nodeCount:r=28,connections:i=45,autoRotate:l=!0})=>{const a=f.useRef(null),[x,p]=f.useState(null),o=[],d=["SQL","Python","Spark","ETL","AWS","Hadoop","Kafka","Airflow","NoSQL","Tableau","ML","Data","dbt","Snowflake","Docker","Kubernetes","TensorFlow","PyTorch","React","TypeScript","NextJS","Supabase","Git","Jenkins","Terraform","MongoDB","Grafana","Prometheus"];for(let e=0;e<r;e++){const s=Math.acos(1-2*(e+.5)/r),n=Math.PI*(1+Math.sqrt(5))*(e+.5),h=3,M=h*Math.sin(s)*Math.cos(n),w=h*Math.sin(s)*Math.sin(n),b=h*Math.cos(s),y=["#1EAEDB","#8B5CF6","#D946EF","#F97316","#10B981","#EC4899","#0EA5E9","#F59E0B"],k=y[Math.floor(Math.random()*y.length)];o.push({position:[M,w,b],color:k,size:.12+Math.random()*.15,label:d[e%d.length],pulse:Math.random()>.5,onClick:()=>p(x===e?null:e)})}const u=[];for(let e=0;e<o.length;e++){const s=(e+1)%o.length;u.push({start:o[e].position,end:o[s].position,color:o[e].color,width:.03+Math.random()*.02,speed:.5+Math.random()*1.5})}const g={data:["SQL","ETL","Data","dbt","Snowflake"],cloud:["AWS","Docker","Kubernetes"],ml:["ML","TensorFlow","PyTorch"],frontend:["React","TypeScript","NextJS"]},m=e=>o.findIndex(s=>s.label===e);Object.values(g).forEach(e=>{for(let s=0;s<e.length;s++)for(let n=s+1;n<e.length;n++){const h=m(e[s]),M=m(e[n]);h!==-1&&M!==-1&&u.push({start:o[h].position,end:o[M].position,color:o[h].color,width:.025,speed:.5+Math.random()*1.5})}}),[["Python","ML"],["AWS","Docker"],["React","TypeScript"],["Data","SQL"],["TensorFlow","PyTorch"],["Hadoop","AWS"],["Kafka","Prometheus"],["Git","Jenkins"],["MongoDB","Supabase"],["NextJS","Supabase"]].forEach(([e,s])=>{const n=m(e),h=m(s);n!==-1&&h!==-1&&u.push({start:o[n].position,end:o[h].position,color:o[n].color,width:.02+Math.random()*.01,speed:.5+Math.random()*1.5})});for(let e=0;e<o.length;e++)if(u.filter(n=>n.start===o[e].position||n.end===o[e].position).length<3){let n=Math.floor(Math.random()*o.length);for(;n===e||Math.abs(n-e)<3;)n=Math.floor(Math.random()*o.length);u.push({start:o[e].position,end:o[n].position,color:o[e].color,width:.02,speed:.5+Math.random()*1.5})}return j(e=>{a.current&&l&&(a.current.rotation.y=e.clock.getElapsedTime()*.05,a.current.rotation.x=Math.sin(e.clock.getElapsedTime()*.1)*.05,a.current.rotation.z=Math.sin(e.clock.getElapsedTime()*.08)*.03)}),t.jsxs("group",{ref:a,children:[t.jsx(N,{}),t.jsxs("mesh",{children:[t.jsx("sphereGeometry",{args:[3.2,32,32]}),t.jsx("meshPhongMaterial",{color:"#4a88e5",transparent:!0,opacity:.03,side:c.BackSide})]}),u.map((e,s)=>t.jsx(L,{...e},`edge-${s}`)),o.map((e,s)=>t.jsx(F,{...e},`node-${s}`)),t.jsx(E,{count:200,scale:[6,6,6],size:.2,speed:.3,color:"#ffffff",opacity:.3})]})},A=()=>t.jsxs(t.Fragment,{children:[t.jsx("fog",{attach:"fog",args:["#000000",5,15]}),t.jsx("ambientLight",{intensity:.3}),t.jsx("pointLight",{position:[10,10,10],intensity:1.5,castShadow:!0}),t.jsx("pointLight",{position:[-10,-10,-10],intensity:.8,color:"#8B5CF6"}),t.jsx("pointLight",{position:[5,-5,5],intensity:.5,color:"#F97316"}),t.jsx(P,{preset:"city",background:!1})]}),G=()=>t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsxs("div",{className:"text-white text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:"Interactive Visualization"}),t.jsx("div",{className:"text-sm opacity-70",children:"3D visualization could not be loaded"})]})}),J=({className:r})=>{const[i,l]=f.useState(!1);return i?t.jsx(G,{}):t.jsx("div",{className:`w-full h-full ${r||""}`,children:t.jsxs(T,{camera:{position:[0,0,8],fov:45},gl:{antialias:!0,powerPreference:"high-performance",alpha:!0,logarithmicDepthBuffer:!0},onCreated:({gl:a})=>{a.setClearColor(new c.Color("#000000"),0),a.outputColorSpace=c.SRGBColorSpace,a.toneMapping=c.ACESFilmicToneMapping,a.toneMappingExposure=1.2},onError:()=>l(!0),shadows:!0,children:[t.jsx("color",{attach:"background",args:["#000000"]}),t.jsx(A,{}),t.jsxs(v.Suspense,{fallback:null,children:[t.jsx(z,{}),t.jsx(R,{})]})]})})};export{J as default};
//# sourceMappingURL=DataViz3D-CDUHvMcG.js.map
